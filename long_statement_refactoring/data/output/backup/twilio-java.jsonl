{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Accounts\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.accounts.v1;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Accounts\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthTokenPromotionUpdater extends Updater<AuthTokenPromotion>{\n\n    public AuthTokenPromotionUpdater(){\n    }\n\n\n    @Override\n    public AuthTokenPromotion update(final TwilioRestClient client){\n        String path = \"/v1/AuthTokens/Promote\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.ACCOUNTS.toString(),\n            path\n        );\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthTokenPromotion update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthTokenPromotion.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.accounts.v1;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AuthTokenPromotionUpdater extends Updater<AuthTokenPromotion> {\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated AuthTokenPromotion\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AuthTokenPromotion update(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.ACCOUNTS.toString(),\n            \"/v1/AuthTokens/Promote\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthTokenPromotion update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthTokenPromotion.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n    }\n}\n","lineNo":51}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Accounts\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.accounts.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Accounts\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SecondaryAuthTokenCreator extends Creator<SecondaryAuthToken>{\n\n    public SecondaryAuthTokenCreator() {\n    }\n\n\n    @Override\n    public SecondaryAuthToken create(final TwilioRestClient client){\n        String path = \"/v1/AuthTokens/Secondary\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.ACCOUNTS.toString(),\n            path\n        );\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"SecondaryAuthToken creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SecondaryAuthToken.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.accounts.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SecondaryAuthTokenCreator extends Creator<SecondaryAuthToken> {\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created SecondaryAuthToken\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public SecondaryAuthToken create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.ACCOUNTS.toString(),\n            \"/v1/AuthTokens/Secondary\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SecondaryAuthToken creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SecondaryAuthToken.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n    }\n}\n","lineNo":51}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Accounts\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.accounts.v1;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Accounts\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SecondaryAuthTokenDeleter extends Deleter<SecondaryAuthToken> {\n\n    public SecondaryAuthTokenDeleter(){\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/v1/AuthTokens/Secondary\";\n\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.ACCOUNTS.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SecondaryAuthToken delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.accounts.v1;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SecondaryAuthTokenDeleter extends Deleter<SecondaryAuthToken> {\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.ACCOUNTS.toString(),\n            \"/v1/AuthTokens/Secondary\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SecondaryAuthToken delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":50}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Accounts\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.accounts.v1.credential;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Accounts\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AwsCreator extends Creator<Aws>{\n    private String credentials;\n    private String friendlyName;\n    private String accountSid;\n\n    public AwsCreator(final String credentials) {\n        this.credentials = credentials;\n    }\n\n    public AwsCreator setCredentials(final String credentials){\n        this.credentials = credentials;\n        return this;\n    }\n    public AwsCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public AwsCreator setAccountSid(final String accountSid){\n        this.accountSid = accountSid;\n        return this;\n    }\n\n    @Override\n    public Aws create(final TwilioRestClient client){\n        String path = \"/v1/Credentials/AWS\";\n\n        path = path.replace(\"{\"+\"Credentials\"+\"}\", this.credentials.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.ACCOUNTS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Aws creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Aws.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (credentials != null) {\n            request.addPostParam(\"Credentials\", credentials);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (accountSid != null) {\n            request.addPostParam(\"AccountSid\", accountSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.accounts.v1.credential;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AwsCreator extends Creator<Aws> {\n    private final String credentials;\n    private String friendlyName;\n    private String accountSid;\n\n    /**\n     * Construct a new AwsCreator.\n     *\n     * @param credentials A string that contains the AWS access credentials in the\n     *                    format\n     *                    &lt;AWS_ACCESS_KEY_ID&gt;:&lt;AWS_SECRET_ACCESS_KEY&gt;\n     */\n    public AwsCreator(final String credentials) {\n        this.credentials = credentials;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public AwsCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The SID of the Subaccount that this Credential should be associated with.\n     * Must be a valid Subaccount of the account issuing the request..\n     *\n     * @param accountSid The Subaccount this Credential should be associated with.\n     * @return this\n     */\n    public AwsCreator setAccountSid(final String accountSid) {\n        this.accountSid = accountSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Aws\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Aws create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.ACCOUNTS.toString(),\n            \"/v1/Credentials/AWS\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Aws creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Aws.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (credentials != null) {\n            request.addPostParam(\"Credentials\", credentials.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (accountSid != null) {\n            request.addPostParam(\"AccountSid\", accountSid);\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Accounts\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.accounts.v1.credential;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Accounts\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AwsReader extends Reader<Aws> {\n    private Integer pageSize;\n\n    public AwsReader(){\n    }\n\n    public AwsReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Aws> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Aws> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Credentials/AWS\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.ACCOUNTS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Aws> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Aws read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Aws.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Aws> previousPage(final Page<Aws> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.ACCOUNTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Aws> nextPage(final Page<Aws> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.ACCOUNTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Aws> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.accounts.v1.credential;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AwsReader extends Reader<Aws> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Aws ResourceSet\n     */\n    @Override\n    public ResourceSet<Aws> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Aws ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Aws> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.ACCOUNTS.toString(),\n            \"/v1/Credentials/AWS\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Aws ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Aws> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Aws> nextPage(final Page<Aws> page,\n                              final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.ACCOUNTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Aws> previousPage(final Page<Aws> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.ACCOUNTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Aws Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Aws> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Aws read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Aws.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Accounts\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.accounts.v1.credential;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Accounts\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class PublicKeyCreator extends Creator<PublicKey>{\n    private String publicKey;\n    private String friendlyName;\n    private String accountSid;\n\n    public PublicKeyCreator(final String publicKey) {\n        this.publicKey = publicKey;\n    }\n\n    public PublicKeyCreator setPublicKey(final String publicKey){\n        this.publicKey = publicKey;\n        return this;\n    }\n    public PublicKeyCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public PublicKeyCreator setAccountSid(final String accountSid){\n        this.accountSid = accountSid;\n        return this;\n    }\n\n    @Override\n    public PublicKey create(final TwilioRestClient client){\n        String path = \"/v1/Credentials/PublicKeys\";\n\n        path = path.replace(\"{\"+\"PublicKey\"+\"}\", this.publicKey.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.ACCOUNTS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"PublicKey creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return PublicKey.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (publicKey != null) {\n            request.addPostParam(\"PublicKey\", publicKey);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (accountSid != null) {\n            request.addPostParam(\"AccountSid\", accountSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.accounts.v1.credential;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class PublicKeyCreator extends Creator<PublicKey> {\n    private final String publicKey;\n    private String friendlyName;\n    private String accountSid;\n\n    /**\n     * Construct a new PublicKeyCreator.\n     *\n     * @param publicKey A URL encoded representation of the public key\n     */\n    public PublicKeyCreator(final String publicKey) {\n        this.publicKey = publicKey;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public PublicKeyCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The SID of the Subaccount that this Credential should be associated with.\n     * Must be a valid Subaccount of the account issuing the request.\n     *\n     * @param accountSid The Subaccount this Credential should be associated with.\n     * @return this\n     */\n    public PublicKeyCreator setAccountSid(final String accountSid) {\n        this.accountSid = accountSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created PublicKey\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public PublicKey create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.ACCOUNTS.toString(),\n            \"/v1/Credentials/PublicKeys\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"PublicKey creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return PublicKey.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (publicKey != null) {\n            request.addPostParam(\"PublicKey\", publicKey.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (accountSid != null) {\n            request.addPostParam(\"AccountSid\", accountSid);\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Accounts\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.accounts.v1.credential;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Accounts\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class PublicKeyReader extends Reader<PublicKey> {\n    private Integer pageSize;\n\n    public PublicKeyReader(){\n    }\n\n    public PublicKeyReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<PublicKey> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<PublicKey> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Credentials/PublicKeys\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.ACCOUNTS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<PublicKey> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"PublicKey read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            PublicKey.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<PublicKey> previousPage(final Page<PublicKey> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.ACCOUNTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<PublicKey> nextPage(final Page<PublicKey> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.ACCOUNTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<PublicKey> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.accounts.v1.credential;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class PublicKeyReader extends Reader<PublicKey> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return PublicKey ResourceSet\n     */\n    @Override\n    public ResourceSet<PublicKey> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return PublicKey ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<PublicKey> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.ACCOUNTS.toString(),\n            \"/v1/Credentials/PublicKeys\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return PublicKey ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<PublicKey> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<PublicKey> nextPage(final Page<PublicKey> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.ACCOUNTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<PublicKey> previousPage(final Page<PublicKey> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.ACCOUNTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of PublicKey Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<PublicKey> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"PublicKey read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            PublicKey.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AccountCreator extends Creator<Account>{\n    private String friendlyName;\n\n    public AccountCreator() {\n    }\n\n    public AccountCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Account create(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts.json\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Account creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Account.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AccountCreator extends Creator<Account> {\n    private String friendlyName;\n\n    /**\n     * A human readable description of the account to create, defaults to\n     * `SubAccount Created at {YYYY-MM-DD HH:MM meridian}`.\n     *\n     * @param friendlyName A human readable description of the account\n     * @return this\n     */\n    public AccountCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Account\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Account create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts.json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Account creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Account.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":56}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AccountFetcher extends Fetcher<Account> {\n    private String sid;\n\n    public AccountFetcher(){\n    }\n    public AccountFetcher(final String sid){\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Account fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{Sid}.json\";\n\n        this.sid = this.sid == null ? client.getAccountSid() : this.sid;\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Account fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Account.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AccountFetcher extends Fetcher<Account> {\n    private String pathSid;\n\n    /**\n     * Construct a new AccountFetcher.\n     */\n    public AccountFetcher() {\n    }\n\n    /**\n     * Construct a new AccountFetcher.\n     *\n     * @param pathSid Fetch by unique Account Sid\n     */\n    public AccountFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Account\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Account fetch(final TwilioRestClient client) {\n        this.pathSid = this.pathSid == null ? client.getAccountSid() : this.pathSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Account fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Account.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":55}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AccountReader extends Reader<Account> {\n    private String friendlyName;\n    private Account.Status status;\n    private Integer pageSize;\n\n    public AccountReader(){\n    }\n\n    public AccountReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public AccountReader setStatus(final Account.Status status){\n        this.status = status;\n        return this;\n    }\n    public AccountReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Account> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Account> firstPage(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts.json\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Account> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Account read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"accounts\",\n            response.getContent(),\n            Account.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Account> previousPage(final Page<Account> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.API.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Account> nextPage(final Page<Account> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.API.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Account> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AccountReader extends Reader<Account> {\n    private String friendlyName;\n    private Account.Status status;\n\n    /**\n     * Only return the Account resources with friendly names that exactly match this\n     * name..\n     *\n     * @param friendlyName FriendlyName to filter on\n     * @return this\n     */\n    public AccountReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Only return Account resources with the given status. Can be `closed`,\n     * `suspended` or `active`..\n     *\n     * @param status Status to filter on\n     * @return this\n     */\n    public AccountReader setStatus(final Account.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Account ResourceSet\n     */\n    @Override\n    public ResourceSet<Account> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Account ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Account> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts.json\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Account ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Account> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Account> nextPage(final Page<Account> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.API.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Account> previousPage(final Page<Account> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.API.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Account Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Account> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Account read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"accounts\",\n            response.getContent(),\n            Account.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AccountUpdater extends Updater<Account>{\n    private String sid;\n    private String friendlyName;\n    private Account.Status status;\n\n    public AccountUpdater(){\n    }\n    public AccountUpdater(final String sid){\n        this.sid = sid;\n    }\n\n    public AccountUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public AccountUpdater setStatus(final Account.Status status){\n        this.status = status;\n        return this;\n    }\n\n    @Override\n    public Account update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{Sid}.json\";\n\n        this.sid = this.sid == null ? client.getAccountSid() : this.sid;\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Account update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Account.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AccountUpdater extends Updater<Account> {\n    private String pathSid;\n    private String friendlyName;\n    private Account.Status status;\n\n    /**\n     * Construct a new AccountUpdater.\n     */\n    public AccountUpdater() {\n    }\n\n    /**\n     * Construct a new AccountUpdater.\n     *\n     * @param pathSid Update by unique Account Sid\n     */\n    public AccountUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Update the human-readable description of this Account.\n     *\n     * @param friendlyName FriendlyName to update\n     * @return this\n     */\n    public AccountUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Alter the status of this account: use `closed` to irreversibly close this\n     * account, `suspended` to temporarily suspend it, or `active` to reactivate\n     * it..\n     *\n     * @param status Status to update the Account with\n     * @return this\n     */\n    public AccountUpdater setStatus(final Account.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Account\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Account update(final TwilioRestClient client) {\n        this.pathSid = this.pathSid == null ? client.getAccountSid() : this.pathSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Account update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Account.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n    }\n}\n","lineNo":65}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AddressDeleter extends Deleter<Address> {\n    private String sid;\n    private String accountSid;\n\n    public AddressDeleter(final String sid){\n        this.sid = sid;\n    }\n    public AddressDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Addresses/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Address delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AddressDeleter extends Deleter<Address> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AddressDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AddressDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AddressDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that is responsible for the\n     *                       resources to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AddressDeleter(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Addresses/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Address delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AddressFetcher extends Fetcher<Address> {\n    private String sid;\n    private String accountSid;\n\n    public AddressFetcher(final String sid){\n        this.sid = sid;\n    }\n    public AddressFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Address fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Addresses/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Address fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Address.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AddressFetcher extends Fetcher<Address> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AddressFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AddressFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AddressFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that is responsible for this\n     *                       address\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AddressFetcher(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Address\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Address fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Addresses/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Address fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Address.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AddressUpdater extends Updater<Address>{\n    private String sid;\n    private String accountSid;\n    private String friendlyName;\n    private String customerName;\n    private String street;\n    private String city;\n    private String region;\n    private String postalCode;\n    private Boolean emergencyEnabled;\n    private Boolean autoCorrectAddress;\n\n    public AddressUpdater(final String sid){\n        this.sid = sid;\n    }\n    public AddressUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public AddressUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public AddressUpdater setCustomerName(final String customerName){\n        this.customerName = customerName;\n        return this;\n    }\n    public AddressUpdater setStreet(final String street){\n        this.street = street;\n        return this;\n    }\n    public AddressUpdater setCity(final String city){\n        this.city = city;\n        return this;\n    }\n    public AddressUpdater setRegion(final String region){\n        this.region = region;\n        return this;\n    }\n    public AddressUpdater setPostalCode(final String postalCode){\n        this.postalCode = postalCode;\n        return this;\n    }\n    public AddressUpdater setEmergencyEnabled(final Boolean emergencyEnabled){\n        this.emergencyEnabled = emergencyEnabled;\n        return this;\n    }\n    public AddressUpdater setAutoCorrectAddress(final Boolean autoCorrectAddress){\n        this.autoCorrectAddress = autoCorrectAddress;\n        return this;\n    }\n\n    @Override\n    public Address update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Addresses/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Address update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Address.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (customerName != null) {\n            request.addPostParam(\"CustomerName\", customerName);\n    \n        }\n        if (street != null) {\n            request.addPostParam(\"Street\", street);\n    \n        }\n        if (city != null) {\n            request.addPostParam(\"City\", city);\n    \n        }\n        if (region != null) {\n            request.addPostParam(\"Region\", region);\n    \n        }\n        if (postalCode != null) {\n            request.addPostParam(\"PostalCode\", postalCode);\n    \n        }\n        if (emergencyEnabled != null) {\n            request.addPostParam(\"EmergencyEnabled\", emergencyEnabled.toString());\n    \n        }\n        if (autoCorrectAddress != null) {\n            request.addPostParam(\"AutoCorrectAddress\", autoCorrectAddress.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AddressUpdater extends Updater<Address> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String friendlyName;\n    private String customerName;\n    private String street;\n    private String city;\n    private String region;\n    private String postalCode;\n    private Boolean emergencyEnabled;\n    private Boolean autoCorrectAddress;\n\n    /**\n     * Construct a new AddressUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AddressUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AddressUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that is responsible for the\n     *                       resource to update\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AddressUpdater(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * A descriptive string that you create to describe the address. It can be up to\n     * 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public AddressUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The name to associate with the address..\n     *\n     * @param customerName The name to associate with the address\n     * @return this\n     */\n    public AddressUpdater setCustomerName(final String customerName) {\n        this.customerName = customerName;\n        return this;\n    }\n\n    /**\n     * The number and street address of the address..\n     *\n     * @param street The number and street address of the address\n     * @return this\n     */\n    public AddressUpdater setStreet(final String street) {\n        this.street = street;\n        return this;\n    }\n\n    /**\n     * The city of the address..\n     *\n     * @param city The city of the address\n     * @return this\n     */\n    public AddressUpdater setCity(final String city) {\n        this.city = city;\n        return this;\n    }\n\n    /**\n     * The state or region of the address..\n     *\n     * @param region The state or region of the address\n     * @return this\n     */\n    public AddressUpdater setRegion(final String region) {\n        this.region = region;\n        return this;\n    }\n\n    /**\n     * The postal code of the address..\n     *\n     * @param postalCode The postal code of the address\n     * @return this\n     */\n    public AddressUpdater setPostalCode(final String postalCode) {\n        this.postalCode = postalCode;\n        return this;\n    }\n\n    /**\n     * Whether to enable emergency calling on the address. Can be: `true` or\n     * `false`..\n     *\n     * @param emergencyEnabled Whether to enable emergency calling on the address\n     * @return this\n     */\n    public AddressUpdater setEmergencyEnabled(final Boolean emergencyEnabled) {\n        this.emergencyEnabled = emergencyEnabled;\n        return this;\n    }\n\n    /**\n     * Whether we should automatically correct the address. Can be: `true` or\n     * `false` and the default is `true`. If empty or `true`, we will correct the\n     * address you provide if necessary. If `false`, we won't alter the address you\n     * provide..\n     *\n     * @param autoCorrectAddress Whether we should automatically correct the address\n     * @return this\n     */\n    public AddressUpdater setAutoCorrectAddress(final Boolean autoCorrectAddress) {\n        this.autoCorrectAddress = autoCorrectAddress;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Address\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Address update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Addresses/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Address update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Address.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (customerName != null) {\n            request.addPostParam(\"CustomerName\", customerName);\n        }\n\n        if (street != null) {\n            request.addPostParam(\"Street\", street);\n        }\n\n        if (city != null) {\n            request.addPostParam(\"City\", city);\n        }\n\n        if (region != null) {\n            request.addPostParam(\"Region\", region);\n        }\n\n        if (postalCode != null) {\n            request.addPostParam(\"PostalCode\", postalCode);\n        }\n\n        if (emergencyEnabled != null) {\n            request.addPostParam(\"EmergencyEnabled\", emergencyEnabled.toString());\n        }\n\n        if (autoCorrectAddress != null) {\n            request.addPostParam(\"AutoCorrectAddress\", autoCorrectAddress.toString());\n        }\n    }\n}\n","lineNo":98}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ApplicationDeleter extends Deleter<Application> {\n    private String sid;\n    private String accountSid;\n\n    public ApplicationDeleter(final String sid){\n        this.sid = sid;\n    }\n    public ApplicationDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Applications/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Application delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ApplicationDeleter extends Deleter<Application> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new ApplicationDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ApplicationDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ApplicationDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ApplicationDeleter(final String pathAccountSid,\n                              final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Applications/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Application delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ApplicationFetcher extends Fetcher<Application> {\n    private String sid;\n    private String accountSid;\n\n    public ApplicationFetcher(final String sid){\n        this.sid = sid;\n    }\n    public ApplicationFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Application fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Applications/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Application fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Application.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ApplicationFetcher extends Fetcher<Application> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new ApplicationFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ApplicationFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ApplicationFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ApplicationFetcher(final String pathAccountSid,\n                              final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Application\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Application fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Applications/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Application fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Application.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ApplicationUpdater extends Updater<Application>{\n    private String sid;\n    private String accountSid;\n    private String friendlyName;\n    private String apiVersion;\n    private URI voiceUrl;\n    private HttpMethod voiceMethod;\n    private URI voiceFallbackUrl;\n    private HttpMethod voiceFallbackMethod;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Boolean voiceCallerIdLookup;\n    private URI smsUrl;\n    private HttpMethod smsMethod;\n    private URI smsFallbackUrl;\n    private HttpMethod smsFallbackMethod;\n    private URI smsStatusCallback;\n    private URI messageStatusCallback;\n\n    public ApplicationUpdater(final String sid){\n        this.sid = sid;\n    }\n    public ApplicationUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public ApplicationUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ApplicationUpdater setApiVersion(final String apiVersion){\n        this.apiVersion = apiVersion;\n        return this;\n    }\n    public ApplicationUpdater setVoiceUrl(final URI voiceUrl){\n        this.voiceUrl = voiceUrl;\n        return this;\n    }\n\n    public ApplicationUpdater setVoiceUrl(final String voiceUrl){\n    this.voiceUrl = Promoter.uriFromString(voiceUrl);\n    return this;\n    }\n    public ApplicationUpdater setVoiceMethod(final HttpMethod voiceMethod){\n        this.voiceMethod = voiceMethod;\n        return this;\n    }\n    public ApplicationUpdater setVoiceFallbackUrl(final URI voiceFallbackUrl){\n        this.voiceFallbackUrl = voiceFallbackUrl;\n        return this;\n    }\n\n    public ApplicationUpdater setVoiceFallbackUrl(final String voiceFallbackUrl){\n    this.voiceFallbackUrl = Promoter.uriFromString(voiceFallbackUrl);\n    return this;\n    }\n    public ApplicationUpdater setVoiceFallbackMethod(final HttpMethod voiceFallbackMethod){\n        this.voiceFallbackMethod = voiceFallbackMethod;\n        return this;\n    }\n    public ApplicationUpdater setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public ApplicationUpdater setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public ApplicationUpdater setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public ApplicationUpdater setVoiceCallerIdLookup(final Boolean voiceCallerIdLookup){\n        this.voiceCallerIdLookup = voiceCallerIdLookup;\n        return this;\n    }\n    public ApplicationUpdater setSmsUrl(final URI smsUrl){\n        this.smsUrl = smsUrl;\n        return this;\n    }\n\n    public ApplicationUpdater setSmsUrl(final String smsUrl){\n    this.smsUrl = Promoter.uriFromString(smsUrl);\n    return this;\n    }\n    public ApplicationUpdater setSmsMethod(final HttpMethod smsMethod){\n        this.smsMethod = smsMethod;\n        return this;\n    }\n    public ApplicationUpdater setSmsFallbackUrl(final URI smsFallbackUrl){\n        this.smsFallbackUrl = smsFallbackUrl;\n        return this;\n    }\n\n    public ApplicationUpdater setSmsFallbackUrl(final String smsFallbackUrl){\n    this.smsFallbackUrl = Promoter.uriFromString(smsFallbackUrl);\n    return this;\n    }\n    public ApplicationUpdater setSmsFallbackMethod(final HttpMethod smsFallbackMethod){\n        this.smsFallbackMethod = smsFallbackMethod;\n        return this;\n    }\n    public ApplicationUpdater setSmsStatusCallback(final URI smsStatusCallback){\n        this.smsStatusCallback = smsStatusCallback;\n        return this;\n    }\n\n    public ApplicationUpdater setSmsStatusCallback(final String smsStatusCallback){\n    this.smsStatusCallback = Promoter.uriFromString(smsStatusCallback);\n    return this;\n    }\n    public ApplicationUpdater setMessageStatusCallback(final URI messageStatusCallback){\n        this.messageStatusCallback = messageStatusCallback;\n        return this;\n    }\n\n    public ApplicationUpdater setMessageStatusCallback(final String messageStatusCallback){\n    this.messageStatusCallback = Promoter.uriFromString(messageStatusCallback);\n    return this;\n    }\n\n    @Override\n    public Application update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Applications/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Application update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Application.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (apiVersion != null) {\n            request.addPostParam(\"ApiVersion\", apiVersion);\n    \n        }\n        if (voiceUrl != null) {\n            request.addPostParam(\"VoiceUrl\", voiceUrl.toString());\n    \n        }\n        if (voiceMethod != null) {\n            request.addPostParam(\"VoiceMethod\", voiceMethod.toString());\n    \n        }\n        if (voiceFallbackUrl != null) {\n            request.addPostParam(\"VoiceFallbackUrl\", voiceFallbackUrl.toString());\n    \n        }\n        if (voiceFallbackMethod != null) {\n            request.addPostParam(\"VoiceFallbackMethod\", voiceFallbackMethod.toString());\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (voiceCallerIdLookup != null) {\n            request.addPostParam(\"VoiceCallerIdLookup\", voiceCallerIdLookup.toString());\n    \n        }\n        if (smsUrl != null) {\n            request.addPostParam(\"SmsUrl\", smsUrl.toString());\n    \n        }\n        if (smsMethod != null) {\n            request.addPostParam(\"SmsMethod\", smsMethod.toString());\n    \n        }\n        if (smsFallbackUrl != null) {\n            request.addPostParam(\"SmsFallbackUrl\", smsFallbackUrl.toString());\n    \n        }\n        if (smsFallbackMethod != null) {\n            request.addPostParam(\"SmsFallbackMethod\", smsFallbackMethod.toString());\n    \n        }\n        if (smsStatusCallback != null) {\n            request.addPostParam(\"SmsStatusCallback\", smsStatusCallback.toString());\n    \n        }\n        if (messageStatusCallback != null) {\n            request.addPostParam(\"MessageStatusCallback\", messageStatusCallback.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class ApplicationUpdater extends Updater<Application> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String friendlyName;\n    private String apiVersion;\n    private URI voiceUrl;\n    private HttpMethod voiceMethod;\n    private URI voiceFallbackUrl;\n    private HttpMethod voiceFallbackMethod;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Boolean voiceCallerIdLookup;\n    private URI smsUrl;\n    private HttpMethod smsMethod;\n    private URI smsFallbackUrl;\n    private HttpMethod smsFallbackMethod;\n    private URI smsStatusCallback;\n    private URI messageStatusCallback;\n\n    /**\n     * Construct a new ApplicationUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ApplicationUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ApplicationUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that will create the resource\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ApplicationUpdater(final String pathAccountSid,\n                              final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public ApplicationUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The API version to use to start a new TwiML session. Can be: `2010-04-01` or\n     * `2008-08-01`. The default value is your account's default API version..\n     *\n     * @param apiVersion The API version to use to start a new TwiML session\n     * @return this\n     */\n    public ApplicationUpdater setApiVersion(final String apiVersion) {\n        this.apiVersion = apiVersion;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the phone number assigned to this application\n     * receives a call..\n     *\n     * @param voiceUrl The URL to call when the phone number receives a call\n     * @return this\n     */\n    public ApplicationUpdater setVoiceUrl(final URI voiceUrl) {\n        this.voiceUrl = voiceUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the phone number assigned to this application\n     * receives a call..\n     *\n     * @param voiceUrl The URL to call when the phone number receives a call\n     * @return this\n     */\n    public ApplicationUpdater setVoiceUrl(final String voiceUrl) {\n        return setVoiceUrl(Promoter.uriFromString(voiceUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `voice_url`. Can be: `GET` or `POST`..\n     *\n     * @param voiceMethod The HTTP method to use with the voice_url\n     * @return this\n     */\n    public ApplicationUpdater setVoiceMethod(final HttpMethod voiceMethod) {\n        this.voiceMethod = voiceMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs retrieving or executing the\n     * TwiML requested by `url`..\n     *\n     * @param voiceFallbackUrl The URL to call when a TwiML error occurs\n     * @return this\n     */\n    public ApplicationUpdater setVoiceFallbackUrl(final URI voiceFallbackUrl) {\n        this.voiceFallbackUrl = voiceFallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs retrieving or executing the\n     * TwiML requested by `url`..\n     *\n     * @param voiceFallbackUrl The URL to call when a TwiML error occurs\n     * @return this\n     */\n    public ApplicationUpdater setVoiceFallbackUrl(final String voiceFallbackUrl) {\n        return setVoiceFallbackUrl(Promoter.uriFromString(voiceFallbackUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `voice_fallback_url`. Can be: `GET` or\n     * `POST`..\n     *\n     * @param voiceFallbackMethod The HTTP method to use with voice_fallback_url\n     * @return this\n     */\n    public ApplicationUpdater setVoiceFallbackMethod(final HttpMethod voiceFallbackMethod) {\n        this.voiceFallbackMethod = voiceFallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application..\n     *\n     * @param statusCallback The URL to send status information to your application\n     * @return this\n     */\n    public ApplicationUpdater setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application..\n     *\n     * @param statusCallback The URL to send status information to your application\n     * @return this\n     */\n    public ApplicationUpdater setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The HTTP method we should use to call `status_callback`. Can be: `GET` or\n     * `POST`..\n     *\n     * @param statusCallbackMethod The HTTP method to use to call status_callback\n     * @return this\n     */\n    public ApplicationUpdater setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * Whether we should look up the caller's caller-ID name from the CNAM database\n     * (additional charges apply). Can be: `true` or `false`..\n     *\n     * @param voiceCallerIdLookup Whether to lookup the caller's name\n     * @return this\n     */\n    public ApplicationUpdater setVoiceCallerIdLookup(final Boolean voiceCallerIdLookup) {\n        this.voiceCallerIdLookup = voiceCallerIdLookup;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the phone number receives an incoming SMS\n     * message..\n     *\n     * @param smsUrl The URL to call when the phone number receives an incoming SMS\n     *               message\n     * @return this\n     */\n    public ApplicationUpdater setSmsUrl(final URI smsUrl) {\n        this.smsUrl = smsUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the phone number receives an incoming SMS\n     * message..\n     *\n     * @param smsUrl The URL to call when the phone number receives an incoming SMS\n     *               message\n     * @return this\n     */\n    public ApplicationUpdater setSmsUrl(final String smsUrl) {\n        return setSmsUrl(Promoter.uriFromString(smsUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `sms_url`. Can be: `GET` or `POST`..\n     *\n     * @param smsMethod The HTTP method to use with sms_url\n     * @return this\n     */\n    public ApplicationUpdater setSmsMethod(final HttpMethod smsMethod) {\n        this.smsMethod = smsMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs while retrieving or\n     * executing the TwiML from `sms_url`..\n     *\n     * @param smsFallbackUrl The URL to call when an error occurs while retrieving\n     *                       or executing the TwiML\n     * @return this\n     */\n    public ApplicationUpdater setSmsFallbackUrl(final URI smsFallbackUrl) {\n        this.smsFallbackUrl = smsFallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs while retrieving or\n     * executing the TwiML from `sms_url`..\n     *\n     * @param smsFallbackUrl The URL to call when an error occurs while retrieving\n     *                       or executing the TwiML\n     * @return this\n     */\n    public ApplicationUpdater setSmsFallbackUrl(final String smsFallbackUrl) {\n        return setSmsFallbackUrl(Promoter.uriFromString(smsFallbackUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `sms_fallback_url`. Can be: `GET` or\n     * `POST`..\n     *\n     * @param smsFallbackMethod The HTTP method to use with sms_fallback_url\n     * @return this\n     */\n    public ApplicationUpdater setSmsFallbackMethod(final HttpMethod smsFallbackMethod) {\n        this.smsFallbackMethod = smsFallbackMethod;\n        return this;\n    }\n\n    /**\n     * Same as message_status_callback: The URL we should call using a POST method\n     * to send status information about SMS messages sent by the application.\n     * Deprecated, included for backwards compatibility..\n     *\n     * @param smsStatusCallback Same as message_status_callback. Deprecated,\n     *                          included for backwards compatibility.\n     * @return this\n     */\n    public ApplicationUpdater setSmsStatusCallback(final URI smsStatusCallback) {\n        this.smsStatusCallback = smsStatusCallback;\n        return this;\n    }\n\n    /**\n     * Same as message_status_callback: The URL we should call using a POST method\n     * to send status information about SMS messages sent by the application.\n     * Deprecated, included for backwards compatibility..\n     *\n     * @param smsStatusCallback Same as message_status_callback. Deprecated,\n     *                          included for backwards compatibility.\n     * @return this\n     */\n    public ApplicationUpdater setSmsStatusCallback(final String smsStatusCallback) {\n        return setSmsStatusCallback(Promoter.uriFromString(smsStatusCallback));\n    }\n\n    /**\n     * The URL we should call using a POST method to send message status information\n     * to your application..\n     *\n     * @param messageStatusCallback The URL to send message status information to\n     *                              your application\n     * @return this\n     */\n    public ApplicationUpdater setMessageStatusCallback(final URI messageStatusCallback) {\n        this.messageStatusCallback = messageStatusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we should call using a POST method to send message status information\n     * to your application..\n     *\n     * @param messageStatusCallback The URL to send message status information to\n     *                              your application\n     * @return this\n     */\n    public ApplicationUpdater setMessageStatusCallback(final String messageStatusCallback) {\n        return setMessageStatusCallback(Promoter.uriFromString(messageStatusCallback));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Application\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Application update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Applications/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Application update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Application.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (apiVersion != null) {\n            request.addPostParam(\"ApiVersion\", apiVersion);\n        }\n\n        if (voiceUrl != null) {\n            request.addPostParam(\"VoiceUrl\", voiceUrl.toString());\n        }\n\n        if (voiceMethod != null) {\n            request.addPostParam(\"VoiceMethod\", voiceMethod.toString());\n        }\n\n        if (voiceFallbackUrl != null) {\n            request.addPostParam(\"VoiceFallbackUrl\", voiceFallbackUrl.toString());\n        }\n\n        if (voiceFallbackMethod != null) {\n            request.addPostParam(\"VoiceFallbackMethod\", voiceFallbackMethod.toString());\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (voiceCallerIdLookup != null) {\n            request.addPostParam(\"VoiceCallerIdLookup\", voiceCallerIdLookup.toString());\n        }\n\n        if (smsUrl != null) {\n            request.addPostParam(\"SmsUrl\", smsUrl.toString());\n        }\n\n        if (smsMethod != null) {\n            request.addPostParam(\"SmsMethod\", smsMethod.toString());\n        }\n\n        if (smsFallbackUrl != null) {\n            request.addPostParam(\"SmsFallbackUrl\", smsFallbackUrl.toString());\n        }\n\n        if (smsFallbackMethod != null) {\n            request.addPostParam(\"SmsFallbackMethod\", smsFallbackMethod.toString());\n        }\n\n        if (smsStatusCallback != null) {\n            request.addPostParam(\"SmsStatusCallback\", smsStatusCallback.toString());\n        }\n\n        if (messageStatusCallback != null) {\n            request.addPostParam(\"MessageStatusCallback\", messageStatusCallback.toString());\n        }\n    }\n}\n","lineNo":170}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthorizedConnectAppFetcher extends Fetcher<AuthorizedConnectApp> {\n    private String connectAppSid;\n    private String accountSid;\n\n    public AuthorizedConnectAppFetcher(final String connectAppSid){\n        this.connectAppSid = connectAppSid;\n    }\n    public AuthorizedConnectAppFetcher(final String accountSid, final String connectAppSid){\n        this.accountSid = accountSid;\n        this.connectAppSid = connectAppSid;\n    }\n\n\n    @Override\n    public AuthorizedConnectApp fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/AuthorizedConnectApps/{ConnectAppSid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ConnectAppSid\"+\"}\", this.connectAppSid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"AuthorizedConnectApp fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthorizedConnectApp.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AuthorizedConnectAppFetcher extends Fetcher<AuthorizedConnectApp> {\n    private String pathAccountSid;\n    private final String pathConnectAppSid;\n\n    /**\n     * Construct a new AuthorizedConnectAppFetcher.\n     *\n     * @param pathConnectAppSid The SID of the Connect App to fetch\n     */\n    public AuthorizedConnectAppFetcher(final String pathConnectAppSid) {\n        this.pathConnectAppSid = pathConnectAppSid;\n    }\n\n    /**\n     * Construct a new AuthorizedConnectAppFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathConnectAppSid The SID of the Connect App to fetch\n     */\n    public AuthorizedConnectAppFetcher(final String pathAccountSid,\n                                       final String pathConnectAppSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathConnectAppSid = pathConnectAppSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched AuthorizedConnectApp\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AuthorizedConnectApp fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/AuthorizedConnectApps/\" + this.pathConnectAppSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthorizedConnectApp fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthorizedConnectApp.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AvailablePhoneNumberCountryFetcher extends Fetcher<AvailablePhoneNumberCountry> {\n    private String countryCode;\n    private String accountSid;\n\n    public AvailablePhoneNumberCountryFetcher(final String countryCode){\n        this.countryCode = countryCode;\n    }\n    public AvailablePhoneNumberCountryFetcher(final String accountSid, final String countryCode){\n        this.accountSid = accountSid;\n        this.countryCode = countryCode;\n    }\n\n\n    @Override\n    public AvailablePhoneNumberCountry fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/AvailablePhoneNumbers/{CountryCode}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CountryCode\"+\"}\", this.countryCode.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"AvailablePhoneNumberCountry fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AvailablePhoneNumberCountry.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AvailablePhoneNumberCountryFetcher extends Fetcher<AvailablePhoneNumberCountry> {\n    private String pathAccountSid;\n    private final String pathCountryCode;\n\n    /**\n     * Construct a new AvailablePhoneNumberCountryFetcher.\n     *\n     * @param pathCountryCode The ISO country code of the country to fetch\n     *                        available phone number information about\n     */\n    public AvailablePhoneNumberCountryFetcher(final String pathCountryCode) {\n        this.pathCountryCode = pathCountryCode;\n    }\n\n    /**\n     * Construct a new AvailablePhoneNumberCountryFetcher.\n     *\n     * @param pathAccountSid The SID of the Account requesting the available phone\n     *                       number Country resource\n     * @param pathCountryCode The ISO country code of the country to fetch\n     *                        available phone number information about\n     */\n    public AvailablePhoneNumberCountryFetcher(final String pathAccountSid,\n                                              final String pathCountryCode) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCountryCode = pathCountryCode;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched AvailablePhoneNumberCountry\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AvailablePhoneNumberCountry fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/AvailablePhoneNumbers/\" + this.pathCountryCode + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AvailablePhoneNumberCountry fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AvailablePhoneNumberCountry.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CallDeleter extends Deleter<Call> {\n    private String sid;\n    private String accountSid;\n\n    public CallDeleter(final String sid){\n        this.sid = sid;\n    }\n    public CallDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Call delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CallDeleter extends Deleter<Call> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new CallDeleter.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public CallDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CallDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       delete\n     * @param pathSid The unique string that identifies this resource\n     */\n    public CallDeleter(final String pathAccountSid,\n                       final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Call delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CallFetcher extends Fetcher<Call> {\n    private String sid;\n    private String accountSid;\n\n    public CallFetcher(final String sid){\n        this.sid = sid;\n    }\n    public CallFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Call fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Call fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Call.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CallFetcher extends Fetcher<Call> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new CallFetcher.\n     *\n     * @param pathSid The SID of the Call resource to fetch\n     */\n    public CallFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CallFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       fetch\n     * @param pathSid The SID of the Call resource to fetch\n     */\n    public CallFetcher(final String pathAccountSid,\n                       final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Call\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Call fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Call fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Call.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CallUpdater extends Updater<Call>{\n    private String sid;\n    private String accountSid;\n    private URI url;\n    private HttpMethod method;\n    private Call.UpdateStatus status;\n    private URI fallbackUrl;\n    private HttpMethod fallbackMethod;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private com.twilio.type.Twiml twiml;\n    private Integer timeLimit;\n\n    public CallUpdater(final String sid){\n        this.sid = sid;\n    }\n    public CallUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public CallUpdater setUrl(final URI url){\n        this.url = url;\n        return this;\n    }\n\n    public CallUpdater setUrl(final String url){\n    this.url = Promoter.uriFromString(url);\n    return this;\n    }\n    public CallUpdater setMethod(final HttpMethod method){\n        this.method = method;\n        return this;\n    }\n    public CallUpdater setStatus(final Call.UpdateStatus status){\n        this.status = status;\n        return this;\n    }\n    public CallUpdater setFallbackUrl(final URI fallbackUrl){\n        this.fallbackUrl = fallbackUrl;\n        return this;\n    }\n\n    public CallUpdater setFallbackUrl(final String fallbackUrl){\n    this.fallbackUrl = Promoter.uriFromString(fallbackUrl);\n    return this;\n    }\n    public CallUpdater setFallbackMethod(final HttpMethod fallbackMethod){\n        this.fallbackMethod = fallbackMethod;\n        return this;\n    }\n    public CallUpdater setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public CallUpdater setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public CallUpdater setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public CallUpdater setTwiml(final com.twilio.type.Twiml twiml){\n        this.twiml = twiml;\n        return this;\n    }\n\n    public CallUpdater setTwiml(final String twiml){\n    this.twiml = Promoter.twimlFromString(twiml);\n    return this;\n    }\n    public CallUpdater setTimeLimit(final Integer timeLimit){\n        this.timeLimit = timeLimit;\n        return this;\n    }\n\n    @Override\n    public Call update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Call update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Call.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (url != null) {\n            request.addPostParam(\"Url\", url.toString());\n    \n        }\n        if (method != null) {\n            request.addPostParam(\"Method\", method.toString());\n    \n        }\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n        if (fallbackUrl != null) {\n            request.addPostParam(\"FallbackUrl\", fallbackUrl.toString());\n    \n        }\n        if (fallbackMethod != null) {\n            request.addPostParam(\"FallbackMethod\", fallbackMethod.toString());\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (twiml != null) {\n            request.addPostParam(\"Twiml\", twiml.toString());\n    \n        }\n        if (timeLimit != null) {\n            request.addPostParam(\"TimeLimit\", timeLimit.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.type.Twiml;\n\nimport java.net.URI;\n\npublic class CallUpdater extends Updater<Call> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private URI url;\n    private HttpMethod method;\n    private Call.UpdateStatus status;\n    private URI fallbackUrl;\n    private HttpMethod fallbackMethod;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private com.twilio.type.Twiml twiml;\n    private Integer timeLimit;\n\n    /**\n     * Construct a new CallUpdater.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public CallUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CallUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       update\n     * @param pathSid The unique string that identifies this resource\n     */\n    public CallUpdater(final String pathAccountSid,\n                       final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * The absolute URL that returns the TwiML instructions for the call. We will\n     * call this URL using the `method` when the call connects. For more\n     * information, see the <a\n     * href=\"https://www.twilio.com/docs/voice/make-calls#specify-a-url-parameter\">Url\n     * Parameter<\/a> section in <a\n     * href=\"https://www.twilio.com/docs/voice/make-calls\">Making Calls<\/a>..\n     *\n     * @param url The absolute URL that returns TwiML for this call\n     * @return this\n     */\n    public CallUpdater setUrl(final URI url) {\n        this.url = url;\n        return this;\n    }\n\n    /**\n     * The absolute URL that returns the TwiML instructions for the call. We will\n     * call this URL using the `method` when the call connects. For more\n     * information, see the <a\n     * href=\"https://www.twilio.com/docs/voice/make-calls#specify-a-url-parameter\">Url\n     * Parameter<\/a> section in <a\n     * href=\"https://www.twilio.com/docs/voice/make-calls\">Making Calls<\/a>..\n     *\n     * @param url The absolute URL that returns TwiML for this call\n     * @return this\n     */\n    public CallUpdater setUrl(final String url) {\n        return setUrl(Promoter.uriFromString(url));\n    }\n\n    /**\n     * The HTTP method we should use when calling the `url`. Can be: `GET` or `POST`\n     * and the default is `POST`. If an `application_sid` parameter is present, this\n     * parameter is ignored..\n     *\n     * @param method HTTP method to use to fetch TwiML\n     * @return this\n     */\n    public CallUpdater setMethod(final HttpMethod method) {\n        this.method = method;\n        return this;\n    }\n\n    /**\n     * The new status of the resource. Can be: `canceled` or `completed`. Specifying\n     * `canceled` will attempt to hang up calls that are queued or ringing; however,\n     * it will not affect calls already in progress. Specifying `completed` will\n     * attempt to hang up a call even if it's already in progress..\n     *\n     * @param status The new status to update the call with.\n     * @return this\n     */\n    public CallUpdater setStatus(final Call.UpdateStatus status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The URL that we call using the `fallback_method` if an error occurs when\n     * requesting or executing the TwiML at `url`. If an `application_sid` parameter\n     * is present, this parameter is ignored..\n     *\n     * @param fallbackUrl Fallback URL in case of error\n     * @return this\n     */\n    public CallUpdater setFallbackUrl(final URI fallbackUrl) {\n        this.fallbackUrl = fallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we call using the `fallback_method` if an error occurs when\n     * requesting or executing the TwiML at `url`. If an `application_sid` parameter\n     * is present, this parameter is ignored..\n     *\n     * @param fallbackUrl Fallback URL in case of error\n     * @return this\n     */\n    public CallUpdater setFallbackUrl(final String fallbackUrl) {\n        return setFallbackUrl(Promoter.uriFromString(fallbackUrl));\n    }\n\n    /**\n     * The HTTP method that we should use to request the `fallback_url`. Can be:\n     * `GET` or `POST` and the default is `POST`. If an `application_sid` parameter\n     * is present, this parameter is ignored..\n     *\n     * @param fallbackMethod HTTP Method to use with fallback_url\n     * @return this\n     */\n    public CallUpdater setFallbackMethod(final HttpMethod fallbackMethod) {\n        this.fallbackMethod = fallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application. If no `status_callback_event` is specified,\n     * we will send the `completed` status. If an `application_sid` parameter is\n     * present, this parameter is ignored. URLs must contain a valid hostname\n     * (underscores are not permitted)..\n     *\n     * @param statusCallback The URL we should call to send status information to\n     *                       your application\n     * @return this\n     */\n    public CallUpdater setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application. If no `status_callback_event` is specified,\n     * we will send the `completed` status. If an `application_sid` parameter is\n     * present, this parameter is ignored. URLs must contain a valid hostname\n     * (underscores are not permitted)..\n     *\n     * @param statusCallback The URL we should call to send status information to\n     *                       your application\n     * @return this\n     */\n    public CallUpdater setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The HTTP method we should use when requesting the `status_callback` URL. Can\n     * be: `GET` or `POST` and the default is `POST`. If an `application_sid`\n     * parameter is present, this parameter is ignored..\n     *\n     * @param statusCallbackMethod HTTP Method to use to call status_callback\n     * @return this\n     */\n    public CallUpdater setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * TwiML instructions for the call Twilio will use without fetching Twiml from\n     * url. Twiml and url parameters are mutually exclusive.\n     *\n     * @param twiml TwiML instructions for the call\n     * @return this\n     */\n    public CallUpdater setTwiml(final com.twilio.type.Twiml twiml) {\n        this.twiml = twiml;\n        return this;\n    }\n\n    /**\n     * TwiML instructions for the call Twilio will use without fetching Twiml from\n     * url. Twiml and url parameters are mutually exclusive.\n     *\n     * @param twiml TwiML instructions for the call\n     * @return this\n     */\n    public CallUpdater setTwiml(final String twiml) {\n        return setTwiml(Promoter.twimlFromString(twiml));\n    }\n\n    /**\n     * The maximum duration of the call in seconds. Constraints depend on account\n     * and configuration..\n     *\n     * @param timeLimit The maximum duration of the call in seconds.\n     * @return this\n     */\n    public CallUpdater setTimeLimit(final Integer timeLimit) {\n        this.timeLimit = timeLimit;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Call\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Call update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Call update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Call.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (url != null) {\n            request.addPostParam(\"Url\", url.toString());\n        }\n\n        if (method != null) {\n            request.addPostParam(\"Method\", method.toString());\n        }\n\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n\n        if (fallbackUrl != null) {\n            request.addPostParam(\"FallbackUrl\", fallbackUrl.toString());\n        }\n\n        if (fallbackMethod != null) {\n            request.addPostParam(\"FallbackMethod\", fallbackMethod.toString());\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (twiml != null) {\n            request.addPostParam(\"Twiml\", twiml.toString());\n        }\n\n        if (timeLimit != null) {\n            request.addPostParam(\"TimeLimit\", timeLimit.toString());\n        }\n    }\n}\n","lineNo":125}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConferenceFetcher extends Fetcher<Conference> {\n    private String sid;\n    private String accountSid;\n\n    public ConferenceFetcher(final String sid){\n        this.sid = sid;\n    }\n    public ConferenceFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Conference fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Conferences/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Conference fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Conference.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConferenceFetcher extends Fetcher<Conference> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new ConferenceFetcher.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public ConferenceFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ConferenceFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       fetch\n     * @param pathSid The unique string that identifies this resource\n     */\n    public ConferenceFetcher(final String pathAccountSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Conference\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Conference fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Conferences/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Conference fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Conference.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConferenceUpdater extends Updater<Conference>{\n    private String sid;\n    private String accountSid;\n    private Conference.UpdateStatus status;\n    private URI announceUrl;\n    private HttpMethod announceMethod;\n\n    public ConferenceUpdater(final String sid){\n        this.sid = sid;\n    }\n    public ConferenceUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public ConferenceUpdater setStatus(final Conference.UpdateStatus status){\n        this.status = status;\n        return this;\n    }\n    public ConferenceUpdater setAnnounceUrl(final URI announceUrl){\n        this.announceUrl = announceUrl;\n        return this;\n    }\n\n    public ConferenceUpdater setAnnounceUrl(final String announceUrl){\n    this.announceUrl = Promoter.uriFromString(announceUrl);\n    return this;\n    }\n    public ConferenceUpdater setAnnounceMethod(final HttpMethod announceMethod){\n        this.announceMethod = announceMethod;\n        return this;\n    }\n\n    @Override\n    public Conference update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Conferences/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Conference update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Conference.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n        if (announceUrl != null) {\n            request.addPostParam(\"AnnounceUrl\", announceUrl.toString());\n    \n        }\n        if (announceMethod != null) {\n            request.addPostParam(\"AnnounceMethod\", announceMethod.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class ConferenceUpdater extends Updater<Conference> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private Conference.UpdateStatus status;\n    private URI announceUrl;\n    private HttpMethod announceMethod;\n\n    /**\n     * Construct a new ConferenceUpdater.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public ConferenceUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ConferenceUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       update\n     * @param pathSid The unique string that identifies this resource\n     */\n    public ConferenceUpdater(final String pathAccountSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * The new status of the resource. Can be:  Can be: `init`, `in-progress`, or\n     * `completed`. Specifying `completed` will end the conference and hang up all\n     * participants.\n     *\n     * @param status The new status of the resource\n     * @return this\n     */\n    public ConferenceUpdater setStatus(final Conference.UpdateStatus status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The URL we should call to announce something into the conference. The URL can\n     * return an MP3, a WAV, or a TwiML document with `&lt;Play&gt;` or\n     * `&lt;Say&gt;`..\n     *\n     * @param announceUrl The URL we should call to announce something into the\n     *                    conference\n     * @return this\n     */\n    public ConferenceUpdater setAnnounceUrl(final URI announceUrl) {\n        this.announceUrl = announceUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call to announce something into the conference. The URL can\n     * return an MP3, a WAV, or a TwiML document with `&lt;Play&gt;` or\n     * `&lt;Say&gt;`..\n     *\n     * @param announceUrl The URL we should call to announce something into the\n     *                    conference\n     * @return this\n     */\n    public ConferenceUpdater setAnnounceUrl(final String announceUrl) {\n        return setAnnounceUrl(Promoter.uriFromString(announceUrl));\n    }\n\n    /**\n     * The HTTP method used to call `announce_url`. Can be: `GET` or `POST` and the\n     * default is `POST`.\n     *\n     * @param announceMethod he HTTP method used to call announce_url\n     * @return this\n     */\n    public ConferenceUpdater setAnnounceMethod(final HttpMethod announceMethod) {\n        this.announceMethod = announceMethod;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Conference\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Conference update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Conferences/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Conference update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Conference.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n\n        if (announceUrl != null) {\n            request.addPostParam(\"AnnounceUrl\", announceUrl.toString());\n        }\n\n        if (announceMethod != null) {\n            request.addPostParam(\"AnnounceMethod\", announceMethod.toString());\n        }\n    }\n}\n","lineNo":80}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConnectAppDeleter extends Deleter<ConnectApp> {\n    private String sid;\n    private String accountSid;\n\n    public ConnectAppDeleter(final String sid){\n        this.sid = sid;\n    }\n    public ConnectAppDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/ConnectApps/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectApp delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConnectAppDeleter extends Deleter<ConnectApp> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new ConnectAppDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ConnectAppDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ConnectAppDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ConnectAppDeleter(final String pathAccountSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/ConnectApps/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectApp delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConnectAppFetcher extends Fetcher<ConnectApp> {\n    private String sid;\n    private String accountSid;\n\n    public ConnectAppFetcher(final String sid){\n        this.sid = sid;\n    }\n    public ConnectAppFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public ConnectApp fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/ConnectApps/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"ConnectApp fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ConnectApp.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConnectAppFetcher extends Fetcher<ConnectApp> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new ConnectAppFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ConnectAppFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ConnectAppFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ConnectAppFetcher(final String pathAccountSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched ConnectApp\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public ConnectApp fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/ConnectApps/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectApp fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ConnectApp.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\nimport java.util.List;\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConnectAppUpdater extends Updater<ConnectApp>{\n    private String sid;\n    private String accountSid;\n    private URI authorizeRedirectUrl;\n    private String companyName;\n    private HttpMethod deauthorizeCallbackMethod;\n    private URI deauthorizeCallbackUrl;\n    private String description;\n    private String friendlyName;\n    private URI homepageUrl;\n    private List<ConnectApp.Permission> permissions;\n\n    public ConnectAppUpdater(final String sid){\n        this.sid = sid;\n    }\n    public ConnectAppUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public ConnectAppUpdater setAuthorizeRedirectUrl(final URI authorizeRedirectUrl){\n        this.authorizeRedirectUrl = authorizeRedirectUrl;\n        return this;\n    }\n\n    public ConnectAppUpdater setAuthorizeRedirectUrl(final String authorizeRedirectUrl){\n    this.authorizeRedirectUrl = Promoter.uriFromString(authorizeRedirectUrl);\n    return this;\n    }\n    public ConnectAppUpdater setCompanyName(final String companyName){\n        this.companyName = companyName;\n        return this;\n    }\n    public ConnectAppUpdater setDeauthorizeCallbackMethod(final HttpMethod deauthorizeCallbackMethod){\n        this.deauthorizeCallbackMethod = deauthorizeCallbackMethod;\n        return this;\n    }\n    public ConnectAppUpdater setDeauthorizeCallbackUrl(final URI deauthorizeCallbackUrl){\n        this.deauthorizeCallbackUrl = deauthorizeCallbackUrl;\n        return this;\n    }\n\n    public ConnectAppUpdater setDeauthorizeCallbackUrl(final String deauthorizeCallbackUrl){\n    this.deauthorizeCallbackUrl = Promoter.uriFromString(deauthorizeCallbackUrl);\n    return this;\n    }\n    public ConnectAppUpdater setDescription(final String description){\n        this.description = description;\n        return this;\n    }\n    public ConnectAppUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ConnectAppUpdater setHomepageUrl(final URI homepageUrl){\n        this.homepageUrl = homepageUrl;\n        return this;\n    }\n\n    public ConnectAppUpdater setHomepageUrl(final String homepageUrl){\n    this.homepageUrl = Promoter.uriFromString(homepageUrl);\n    return this;\n    }\n    public ConnectAppUpdater setPermissions(final List<ConnectApp.Permission> permissions){\n        this.permissions = permissions;\n        return this;\n    }\n\n    @Override\n    public ConnectApp update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/ConnectApps/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectApp update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ConnectApp.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (authorizeRedirectUrl != null) {\n            request.addPostParam(\"AuthorizeRedirectUrl\", authorizeRedirectUrl.toString());\n    \n        }\n        if (companyName != null) {\n            request.addPostParam(\"CompanyName\", companyName);\n    \n        }\n        if (deauthorizeCallbackMethod != null) {\n            request.addPostParam(\"DeauthorizeCallbackMethod\", deauthorizeCallbackMethod.toString());\n    \n        }\n        if (deauthorizeCallbackUrl != null) {\n            request.addPostParam(\"DeauthorizeCallbackUrl\", deauthorizeCallbackUrl.toString());\n    \n        }\n        if (description != null) {\n            request.addPostParam(\"Description\", description);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (homepageUrl != null) {\n            request.addPostParam(\"HomepageUrl\", homepageUrl.toString());\n    \n        }\n        if (permissions != null) {\n            for (ConnectApp.Permission prop : permissions) {\n                request.addPostParam(\"Permissions\", prop.toString());\n            }\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\nimport java.util.List;\n\npublic class ConnectAppUpdater extends Updater<ConnectApp> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private URI authorizeRedirectUrl;\n    private String companyName;\n    private HttpMethod deauthorizeCallbackMethod;\n    private URI deauthorizeCallbackUrl;\n    private String description;\n    private String friendlyName;\n    private URI homepageUrl;\n    private List<ConnectApp.Permission> permissions;\n\n    /**\n     * Construct a new ConnectAppUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ConnectAppUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ConnectAppUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       update\n     * @param pathSid The unique string that identifies the resource\n     */\n    public ConnectAppUpdater(final String pathAccountSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * The URL to redirect the user to after we authenticate the user and obtain\n     * authorization to access the Connect App..\n     *\n     * @param authorizeRedirectUrl The URL to redirect the user to after\n     *                             authorization\n     * @return this\n     */\n    public ConnectAppUpdater setAuthorizeRedirectUrl(final URI authorizeRedirectUrl) {\n        this.authorizeRedirectUrl = authorizeRedirectUrl;\n        return this;\n    }\n\n    /**\n     * The URL to redirect the user to after we authenticate the user and obtain\n     * authorization to access the Connect App..\n     *\n     * @param authorizeRedirectUrl The URL to redirect the user to after\n     *                             authorization\n     * @return this\n     */\n    public ConnectAppUpdater setAuthorizeRedirectUrl(final String authorizeRedirectUrl) {\n        return setAuthorizeRedirectUrl(Promoter.uriFromString(authorizeRedirectUrl));\n    }\n\n    /**\n     * The company name to set for the Connect App..\n     *\n     * @param companyName The company name to set for the Connect App\n     * @return this\n     */\n    public ConnectAppUpdater setCompanyName(final String companyName) {\n        this.companyName = companyName;\n        return this;\n    }\n\n    /**\n     * The HTTP method to use when calling `deauthorize_callback_url`..\n     *\n     * @param deauthorizeCallbackMethod The HTTP method to use when calling\n     *                                  deauthorize_callback_url\n     * @return this\n     */\n    public ConnectAppUpdater setDeauthorizeCallbackMethod(final HttpMethod deauthorizeCallbackMethod) {\n        this.deauthorizeCallbackMethod = deauthorizeCallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL to call using the `deauthorize_callback_method` to de-authorize the\n     * Connect App..\n     *\n     * @param deauthorizeCallbackUrl The URL to call to de-authorize the Connect App\n     * @return this\n     */\n    public ConnectAppUpdater setDeauthorizeCallbackUrl(final URI deauthorizeCallbackUrl) {\n        this.deauthorizeCallbackUrl = deauthorizeCallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL to call using the `deauthorize_callback_method` to de-authorize the\n     * Connect App..\n     *\n     * @param deauthorizeCallbackUrl The URL to call to de-authorize the Connect App\n     * @return this\n     */\n    public ConnectAppUpdater setDeauthorizeCallbackUrl(final String deauthorizeCallbackUrl) {\n        return setDeauthorizeCallbackUrl(Promoter.uriFromString(deauthorizeCallbackUrl));\n    }\n\n    /**\n     * A description of the Connect App..\n     *\n     * @param description A description of the Connect App\n     * @return this\n     */\n    public ConnectAppUpdater setDescription(final String description) {\n        this.description = description;\n        return this;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public ConnectAppUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * A public URL where users can obtain more information about this Connect App..\n     *\n     * @param homepageUrl A public URL where users can obtain more information\n     * @return this\n     */\n    public ConnectAppUpdater setHomepageUrl(final URI homepageUrl) {\n        this.homepageUrl = homepageUrl;\n        return this;\n    }\n\n    /**\n     * A public URL where users can obtain more information about this Connect App..\n     *\n     * @param homepageUrl A public URL where users can obtain more information\n     * @return this\n     */\n    public ConnectAppUpdater setHomepageUrl(final String homepageUrl) {\n        return setHomepageUrl(Promoter.uriFromString(homepageUrl));\n    }\n\n    /**\n     * A comma-separated list of the permissions you will request from the users of\n     * this ConnectApp.  Can include: `get-all` and `post-all`..\n     *\n     * @param permissions The set of permissions that your ConnectApp will request\n     * @return this\n     */\n    public ConnectAppUpdater setPermissions(final List<ConnectApp.Permission> permissions) {\n        this.permissions = permissions;\n        return this;\n    }\n\n    /**\n     * A comma-separated list of the permissions you will request from the users of\n     * this ConnectApp.  Can include: `get-all` and `post-all`..\n     *\n     * @param permissions The set of permissions that your ConnectApp will request\n     * @return this\n     */\n    public ConnectAppUpdater setPermissions(final ConnectApp.Permission permissions) {\n        return setPermissions(Promoter.listOfOne(permissions));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated ConnectApp\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public ConnectApp update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/ConnectApps/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectApp update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ConnectApp.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (authorizeRedirectUrl != null) {\n            request.addPostParam(\"AuthorizeRedirectUrl\", authorizeRedirectUrl.toString());\n        }\n\n        if (companyName != null) {\n            request.addPostParam(\"CompanyName\", companyName);\n        }\n\n        if (deauthorizeCallbackMethod != null) {\n            request.addPostParam(\"DeauthorizeCallbackMethod\", deauthorizeCallbackMethod.toString());\n        }\n\n        if (deauthorizeCallbackUrl != null) {\n            request.addPostParam(\"DeauthorizeCallbackUrl\", deauthorizeCallbackUrl.toString());\n        }\n\n        if (description != null) {\n            request.addPostParam(\"Description\", description);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (homepageUrl != null) {\n            request.addPostParam(\"HomepageUrl\", homepageUrl.toString());\n        }\n\n        if (permissions != null) {\n            for (ConnectApp.Permission prop : permissions) {\n                request.addPostParam(\"Permissions\", prop.toString());\n            }\n        }\n    }\n}\n","lineNo":116}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IncomingPhoneNumberDeleter extends Deleter<IncomingPhoneNumber> {\n    private String sid;\n    private String accountSid;\n\n    public IncomingPhoneNumberDeleter(final String sid){\n        this.sid = sid;\n    }\n    public IncomingPhoneNumberDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/IncomingPhoneNumbers/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IncomingPhoneNumber delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IncomingPhoneNumberDeleter extends Deleter<IncomingPhoneNumber> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new IncomingPhoneNumberDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public IncomingPhoneNumberDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IncomingPhoneNumberDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public IncomingPhoneNumberDeleter(final String pathAccountSid,\n                                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/IncomingPhoneNumbers/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IncomingPhoneNumber delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IncomingPhoneNumberFetcher extends Fetcher<IncomingPhoneNumber> {\n    private String sid;\n    private String accountSid;\n\n    public IncomingPhoneNumberFetcher(final String sid){\n        this.sid = sid;\n    }\n    public IncomingPhoneNumberFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public IncomingPhoneNumber fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/IncomingPhoneNumbers/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"IncomingPhoneNumber fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IncomingPhoneNumber.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IncomingPhoneNumberFetcher extends Fetcher<IncomingPhoneNumber> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new IncomingPhoneNumberFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public IncomingPhoneNumberFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IncomingPhoneNumberFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public IncomingPhoneNumberFetcher(final String pathAccountSid,\n                                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched IncomingPhoneNumber\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IncomingPhoneNumber fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/IncomingPhoneNumbers/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IncomingPhoneNumber fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IncomingPhoneNumber.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IncomingPhoneNumberUpdater extends Updater<IncomingPhoneNumber>{\n    private String sid;\n    private String accountSid;\n    private String accountSid2;\n    private String apiVersion;\n    private String friendlyName;\n    private String smsApplicationSid;\n    private HttpMethod smsFallbackMethod;\n    private URI smsFallbackUrl;\n    private HttpMethod smsMethod;\n    private URI smsUrl;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private String voiceApplicationSid;\n    private Boolean voiceCallerIdLookup;\n    private HttpMethod voiceFallbackMethod;\n    private URI voiceFallbackUrl;\n    private HttpMethod voiceMethod;\n    private URI voiceUrl;\n    private IncomingPhoneNumber.EmergencyStatus emergencyStatus;\n    private String emergencyAddressSid;\n    private String trunkSid;\n    private IncomingPhoneNumber.VoiceReceiveMode voiceReceiveMode;\n    private String identitySid;\n    private String addressSid;\n    private String bundleSid;\n\n    public IncomingPhoneNumberUpdater(final String sid){\n        this.sid = sid;\n    }\n    public IncomingPhoneNumberUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public IncomingPhoneNumberUpdater setAccountSid2(final String accountSid2){\n        this.accountSid2 = accountSid2;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setApiVersion(final String apiVersion){\n        this.apiVersion = apiVersion;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setSmsApplicationSid(final String smsApplicationSid){\n        this.smsApplicationSid = smsApplicationSid;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setSmsFallbackMethod(final HttpMethod smsFallbackMethod){\n        this.smsFallbackMethod = smsFallbackMethod;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setSmsFallbackUrl(final URI smsFallbackUrl){\n        this.smsFallbackUrl = smsFallbackUrl;\n        return this;\n    }\n\n    public IncomingPhoneNumberUpdater setSmsFallbackUrl(final String smsFallbackUrl){\n    this.smsFallbackUrl = Promoter.uriFromString(smsFallbackUrl);\n    return this;\n    }\n    public IncomingPhoneNumberUpdater setSmsMethod(final HttpMethod smsMethod){\n        this.smsMethod = smsMethod;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setSmsUrl(final URI smsUrl){\n        this.smsUrl = smsUrl;\n        return this;\n    }\n\n    public IncomingPhoneNumberUpdater setSmsUrl(final String smsUrl){\n    this.smsUrl = Promoter.uriFromString(smsUrl);\n    return this;\n    }\n    public IncomingPhoneNumberUpdater setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public IncomingPhoneNumberUpdater setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public IncomingPhoneNumberUpdater setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setVoiceApplicationSid(final String voiceApplicationSid){\n        this.voiceApplicationSid = voiceApplicationSid;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setVoiceCallerIdLookup(final Boolean voiceCallerIdLookup){\n        this.voiceCallerIdLookup = voiceCallerIdLookup;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setVoiceFallbackMethod(final HttpMethod voiceFallbackMethod){\n        this.voiceFallbackMethod = voiceFallbackMethod;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setVoiceFallbackUrl(final URI voiceFallbackUrl){\n        this.voiceFallbackUrl = voiceFallbackUrl;\n        return this;\n    }\n\n    public IncomingPhoneNumberUpdater setVoiceFallbackUrl(final String voiceFallbackUrl){\n    this.voiceFallbackUrl = Promoter.uriFromString(voiceFallbackUrl);\n    return this;\n    }\n    public IncomingPhoneNumberUpdater setVoiceMethod(final HttpMethod voiceMethod){\n        this.voiceMethod = voiceMethod;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setVoiceUrl(final URI voiceUrl){\n        this.voiceUrl = voiceUrl;\n        return this;\n    }\n\n    public IncomingPhoneNumberUpdater setVoiceUrl(final String voiceUrl){\n    this.voiceUrl = Promoter.uriFromString(voiceUrl);\n    return this;\n    }\n    public IncomingPhoneNumberUpdater setEmergencyStatus(final IncomingPhoneNumber.EmergencyStatus emergencyStatus){\n        this.emergencyStatus = emergencyStatus;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setEmergencyAddressSid(final String emergencyAddressSid){\n        this.emergencyAddressSid = emergencyAddressSid;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setTrunkSid(final String trunkSid){\n        this.trunkSid = trunkSid;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setVoiceReceiveMode(final IncomingPhoneNumber.VoiceReceiveMode voiceReceiveMode){\n        this.voiceReceiveMode = voiceReceiveMode;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setIdentitySid(final String identitySid){\n        this.identitySid = identitySid;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setAddressSid(final String addressSid){\n        this.addressSid = addressSid;\n        return this;\n    }\n    public IncomingPhoneNumberUpdater setBundleSid(final String bundleSid){\n        this.bundleSid = bundleSid;\n        return this;\n    }\n\n    @Override\n    public IncomingPhoneNumber update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/IncomingPhoneNumbers/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"IncomingPhoneNumber update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IncomingPhoneNumber.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (accountSid2 != null) {\n            request.addPostParam(\"AccountSid\", accountSid2);\n    \n        }\n        if (apiVersion != null) {\n            request.addPostParam(\"ApiVersion\", apiVersion);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (smsApplicationSid != null) {\n            request.addPostParam(\"SmsApplicationSid\", smsApplicationSid);\n    \n        }\n        if (smsFallbackMethod != null) {\n            request.addPostParam(\"SmsFallbackMethod\", smsFallbackMethod.toString());\n    \n        }\n        if (smsFallbackUrl != null) {\n            request.addPostParam(\"SmsFallbackUrl\", smsFallbackUrl.toString());\n    \n        }\n        if (smsMethod != null) {\n            request.addPostParam(\"SmsMethod\", smsMethod.toString());\n    \n        }\n        if (smsUrl != null) {\n            request.addPostParam(\"SmsUrl\", smsUrl.toString());\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (voiceApplicationSid != null) {\n            request.addPostParam(\"VoiceApplicationSid\", voiceApplicationSid);\n    \n        }\n        if (voiceCallerIdLookup != null) {\n            request.addPostParam(\"VoiceCallerIdLookup\", voiceCallerIdLookup.toString());\n    \n        }\n        if (voiceFallbackMethod != null) {\n            request.addPostParam(\"VoiceFallbackMethod\", voiceFallbackMethod.toString());\n    \n        }\n        if (voiceFallbackUrl != null) {\n            request.addPostParam(\"VoiceFallbackUrl\", voiceFallbackUrl.toString());\n    \n        }\n        if (voiceMethod != null) {\n            request.addPostParam(\"VoiceMethod\", voiceMethod.toString());\n    \n        }\n        if (voiceUrl != null) {\n            request.addPostParam(\"VoiceUrl\", voiceUrl.toString());\n    \n        }\n        if (emergencyStatus != null) {\n            request.addPostParam(\"EmergencyStatus\", emergencyStatus.toString());\n    \n        }\n        if (emergencyAddressSid != null) {\n            request.addPostParam(\"EmergencyAddressSid\", emergencyAddressSid);\n    \n        }\n        if (trunkSid != null) {\n            request.addPostParam(\"TrunkSid\", trunkSid);\n    \n        }\n        if (voiceReceiveMode != null) {\n            request.addPostParam(\"VoiceReceiveMode\", voiceReceiveMode.toString());\n    \n        }\n        if (identitySid != null) {\n            request.addPostParam(\"IdentitySid\", identitySid);\n    \n        }\n        if (addressSid != null) {\n            request.addPostParam(\"AddressSid\", addressSid);\n    \n        }\n        if (bundleSid != null) {\n            request.addPostParam(\"BundleSid\", bundleSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class IncomingPhoneNumberUpdater extends Updater<IncomingPhoneNumber> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String accountSid;\n    private String apiVersion;\n    private String friendlyName;\n    private String smsApplicationSid;\n    private HttpMethod smsFallbackMethod;\n    private URI smsFallbackUrl;\n    private HttpMethod smsMethod;\n    private URI smsUrl;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private String voiceApplicationSid;\n    private Boolean voiceCallerIdLookup;\n    private HttpMethod voiceFallbackMethod;\n    private URI voiceFallbackUrl;\n    private HttpMethod voiceMethod;\n    private URI voiceUrl;\n    private IncomingPhoneNumber.EmergencyStatus emergencyStatus;\n    private String emergencyAddressSid;\n    private String trunkSid;\n    private IncomingPhoneNumber.VoiceReceiveMode voiceReceiveMode;\n    private String identitySid;\n    private String addressSid;\n    private String bundleSid;\n\n    /**\n     * Construct a new IncomingPhoneNumberUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public IncomingPhoneNumberUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IncomingPhoneNumberUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       update\n     * @param pathSid The unique string that identifies the resource\n     */\n    public IncomingPhoneNumberUpdater(final String pathAccountSid,\n                                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * The SID of the <a\n     * href=\"https://www.twilio.com/docs/iam/api/account\">Account<\/a> that created\n     * the IncomingPhoneNumber resource to update.  For more information, see <a\n     * href=\"https://www.twilio.com/docs/iam/api/subaccounts#exchanging-numbers\">Exchanging\n     * Numbers Between Subaccounts<\/a>..\n     *\n     * @param accountSid The SID of the Account that created the resource to update\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setAccountSid(final String accountSid) {\n        this.accountSid = accountSid;\n        return this;\n    }\n\n    /**\n     * The API version to use for incoming calls made to the phone number. The\n     * default is `2010-04-01`..\n     *\n     * @param apiVersion The API version to use for incoming calls made to the\n     *                   phone number\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setApiVersion(final String apiVersion) {\n        this.apiVersion = apiVersion;\n        return this;\n    }\n\n    /**\n     * A descriptive string that you created to describe this phone number. It can\n     * be up to 64 characters long. By default, this is a formatted version of the\n     * phone number..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The SID of the application that should handle SMS messages sent to the\n     * number. If an `sms_application_sid` is present, we ignore all of the\n     * `sms_*_url` urls and use those set on the application..\n     *\n     * @param smsApplicationSid Unique string that identifies the application\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setSmsApplicationSid(final String smsApplicationSid) {\n        this.smsApplicationSid = smsApplicationSid;\n        return this;\n    }\n\n    /**\n     * The HTTP method that we should use to call `sms_fallback_url`. Can be: `GET`\n     * or `POST` and defaults to `POST`..\n     *\n     * @param smsFallbackMethod HTTP method used with sms_fallback_url\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setSmsFallbackMethod(final HttpMethod smsFallbackMethod) {\n        this.smsFallbackMethod = smsFallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs while requesting or\n     * executing the TwiML defined by `sms_url`..\n     *\n     * @param smsFallbackUrl The URL we call when an error occurs while executing\n     *                       TwiML\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setSmsFallbackUrl(final URI smsFallbackUrl) {\n        this.smsFallbackUrl = smsFallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs while requesting or\n     * executing the TwiML defined by `sms_url`..\n     *\n     * @param smsFallbackUrl The URL we call when an error occurs while executing\n     *                       TwiML\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setSmsFallbackUrl(final String smsFallbackUrl) {\n        return setSmsFallbackUrl(Promoter.uriFromString(smsFallbackUrl));\n    }\n\n    /**\n     * The HTTP method that we should use to call `sms_url`. Can be: `GET` or `POST`\n     * and defaults to `POST`..\n     *\n     * @param smsMethod The HTTP method to use with sms_url\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setSmsMethod(final HttpMethod smsMethod) {\n        this.smsMethod = smsMethod;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the phone number receives an incoming SMS\n     * message..\n     *\n     * @param smsUrl The URL we should call when the phone number receives an\n     *               incoming SMS message\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setSmsUrl(final URI smsUrl) {\n        this.smsUrl = smsUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the phone number receives an incoming SMS\n     * message..\n     *\n     * @param smsUrl The URL we should call when the phone number receives an\n     *               incoming SMS message\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setSmsUrl(final String smsUrl) {\n        return setSmsUrl(Promoter.uriFromString(smsUrl));\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application..\n     *\n     * @param statusCallback The URL we should call to send status information to\n     *                       your application\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application..\n     *\n     * @param statusCallback The URL we should call to send status information to\n     *                       your application\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The HTTP method we should use to call `status_callback`. Can be: `GET` or\n     * `POST` and defaults to `POST`..\n     *\n     * @param statusCallbackMethod The HTTP method we should use to call\n     *                             status_callback\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * The SID of the application we should use to handle phone calls to the phone\n     * number. If a `voice_application_sid` is present, we ignore all of the voice\n     * urls and use only those set on the application. Setting a\n     * `voice_application_sid` will automatically delete your `trunk_sid` and vice\n     * versa..\n     *\n     * @param voiceApplicationSid The SID of the application to handle the phone\n     *                            number\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceApplicationSid(final String voiceApplicationSid) {\n        this.voiceApplicationSid = voiceApplicationSid;\n        return this;\n    }\n\n    /**\n     * Whether to lookup the caller's name from the CNAM database and post it to\n     * your app. Can be: `true` or `false` and defaults to `false`..\n     *\n     * @param voiceCallerIdLookup Whether to lookup the caller's name\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceCallerIdLookup(final Boolean voiceCallerIdLookup) {\n        this.voiceCallerIdLookup = voiceCallerIdLookup;\n        return this;\n    }\n\n    /**\n     * The HTTP method that we should use to call `voice_fallback_url`. Can be:\n     * `GET` or `POST` and defaults to `POST`..\n     *\n     * @param voiceFallbackMethod The HTTP method used with fallback_url\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceFallbackMethod(final HttpMethod voiceFallbackMethod) {\n        this.voiceFallbackMethod = voiceFallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs retrieving or executing the\n     * TwiML requested by `url`..\n     *\n     * @param voiceFallbackUrl The URL we will call when an error occurs in TwiML\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceFallbackUrl(final URI voiceFallbackUrl) {\n        this.voiceFallbackUrl = voiceFallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs retrieving or executing the\n     * TwiML requested by `url`..\n     *\n     * @param voiceFallbackUrl The URL we will call when an error occurs in TwiML\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceFallbackUrl(final String voiceFallbackUrl) {\n        return setVoiceFallbackUrl(Promoter.uriFromString(voiceFallbackUrl));\n    }\n\n    /**\n     * The HTTP method that we should use to call `voice_url`. Can be: `GET` or\n     * `POST` and defaults to `POST`..\n     *\n     * @param voiceMethod The HTTP method used with the voice_url\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceMethod(final HttpMethod voiceMethod) {\n        this.voiceMethod = voiceMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call to answer a call to the phone number. The\n     * `voice_url` will not be called if a `voice_application_sid` or a `trunk_sid`\n     * is set..\n     *\n     * @param voiceUrl The URL we should call when the phone number receives a call\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceUrl(final URI voiceUrl) {\n        this.voiceUrl = voiceUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call to answer a call to the phone number. The\n     * `voice_url` will not be called if a `voice_application_sid` or a `trunk_sid`\n     * is set..\n     *\n     * @param voiceUrl The URL we should call when the phone number receives a call\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceUrl(final String voiceUrl) {\n        return setVoiceUrl(Promoter.uriFromString(voiceUrl));\n    }\n\n    /**\n     * The parameter displays if emergency calling is enabled for this number.\n     * Active numbers may place emergency calls by dialing valid emergency numbers\n     * for the country..\n     *\n     * @param emergencyStatus Displays if emergency calling is enabled for this\n     *                        number.\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setEmergencyStatus(final IncomingPhoneNumber.EmergencyStatus emergencyStatus) {\n        this.emergencyStatus = emergencyStatus;\n        return this;\n    }\n\n    /**\n     * The SID of the emergency address configuration to use for emergency calling\n     * from this phone number..\n     *\n     * @param emergencyAddressSid The emergency address configuration to use for\n     *                            emergency calling\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setEmergencyAddressSid(final String emergencyAddressSid) {\n        this.emergencyAddressSid = emergencyAddressSid;\n        return this;\n    }\n\n    /**\n     * The SID of the Trunk we should use to handle phone calls to the phone number.\n     * If a `trunk_sid` is present, we ignore all of the voice urls and voice\n     * applications and use only those set on the Trunk. Setting a `trunk_sid` will\n     * automatically delete your `voice_application_sid` and vice versa..\n     *\n     * @param trunkSid SID of the trunk to handle phone calls to the phone number\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setTrunkSid(final String trunkSid) {\n        this.trunkSid = trunkSid;\n        return this;\n    }\n\n    /**\n     * The configuration parameter for the phone number to receive incoming voice\n     * calls or faxes. Can be: `fax` or `voice` and defaults to `voice`..\n     *\n     * @param voiceReceiveMode Incoming call type: fax or voice\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setVoiceReceiveMode(final IncomingPhoneNumber.VoiceReceiveMode voiceReceiveMode) {\n        this.voiceReceiveMode = voiceReceiveMode;\n        return this;\n    }\n\n    /**\n     * The SID of the Identity resource that we should associate with the phone\n     * number. Some regions require an identity to meet local regulations..\n     *\n     * @param identitySid Unique string that identifies the identity associated\n     *                    with number\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setIdentitySid(final String identitySid) {\n        this.identitySid = identitySid;\n        return this;\n    }\n\n    /**\n     * The SID of the Address resource we should associate with the phone number.\n     * Some regions require addresses to meet local regulations..\n     *\n     * @param addressSid The SID of the Address resource associated with the phone\n     *                   number\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setAddressSid(final String addressSid) {\n        this.addressSid = addressSid;\n        return this;\n    }\n\n    /**\n     * The SID of the Bundle resource that you associate with the phone number. Some\n     * regions require a Bundle to meet local Regulations..\n     *\n     * @param bundleSid The SID of the Bundle resource associated with number\n     * @return this\n     */\n    public IncomingPhoneNumberUpdater setBundleSid(final String bundleSid) {\n        this.bundleSid = bundleSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated IncomingPhoneNumber\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IncomingPhoneNumber update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/IncomingPhoneNumbers/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IncomingPhoneNumber update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IncomingPhoneNumber.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (accountSid != null) {\n            request.addPostParam(\"AccountSid\", accountSid);\n        }\n\n        if (apiVersion != null) {\n            request.addPostParam(\"ApiVersion\", apiVersion);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (smsApplicationSid != null) {\n            request.addPostParam(\"SmsApplicationSid\", smsApplicationSid);\n        }\n\n        if (smsFallbackMethod != null) {\n            request.addPostParam(\"SmsFallbackMethod\", smsFallbackMethod.toString());\n        }\n\n        if (smsFallbackUrl != null) {\n            request.addPostParam(\"SmsFallbackUrl\", smsFallbackUrl.toString());\n        }\n\n        if (smsMethod != null) {\n            request.addPostParam(\"SmsMethod\", smsMethod.toString());\n        }\n\n        if (smsUrl != null) {\n            request.addPostParam(\"SmsUrl\", smsUrl.toString());\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (voiceApplicationSid != null) {\n            request.addPostParam(\"VoiceApplicationSid\", voiceApplicationSid);\n        }\n\n        if (voiceCallerIdLookup != null) {\n            request.addPostParam(\"VoiceCallerIdLookup\", voiceCallerIdLookup.toString());\n        }\n\n        if (voiceFallbackMethod != null) {\n            request.addPostParam(\"VoiceFallbackMethod\", voiceFallbackMethod.toString());\n        }\n\n        if (voiceFallbackUrl != null) {\n            request.addPostParam(\"VoiceFallbackUrl\", voiceFallbackUrl.toString());\n        }\n\n        if (voiceMethod != null) {\n            request.addPostParam(\"VoiceMethod\", voiceMethod.toString());\n        }\n\n        if (voiceUrl != null) {\n            request.addPostParam(\"VoiceUrl\", voiceUrl.toString());\n        }\n\n        if (emergencyStatus != null) {\n            request.addPostParam(\"EmergencyStatus\", emergencyStatus.toString());\n        }\n\n        if (emergencyAddressSid != null) {\n            request.addPostParam(\"EmergencyAddressSid\", emergencyAddressSid);\n        }\n\n        if (trunkSid != null) {\n            request.addPostParam(\"TrunkSid\", trunkSid);\n        }\n\n        if (voiceReceiveMode != null) {\n            request.addPostParam(\"VoiceReceiveMode\", voiceReceiveMode.toString());\n        }\n\n        if (identitySid != null) {\n            request.addPostParam(\"IdentitySid\", identitySid);\n        }\n\n        if (addressSid != null) {\n            request.addPostParam(\"AddressSid\", addressSid);\n        }\n\n        if (bundleSid != null) {\n            request.addPostParam(\"BundleSid\", bundleSid);\n        }\n    }\n}\n","lineNo":200}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class KeyDeleter extends Deleter<Key> {\n    private String sid;\n    private String accountSid;\n\n    public KeyDeleter(final String sid){\n        this.sid = sid;\n    }\n    public KeyDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Keys/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Key delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class KeyDeleter extends Deleter<Key> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new KeyDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public KeyDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new KeyDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public KeyDeleter(final String pathAccountSid,\n                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Keys/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Key delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class KeyFetcher extends Fetcher<Key> {\n    private String sid;\n    private String accountSid;\n\n    public KeyFetcher(final String sid){\n        this.sid = sid;\n    }\n    public KeyFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Key fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Keys/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Key fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Key.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class KeyFetcher extends Fetcher<Key> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new KeyFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public KeyFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new KeyFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public KeyFetcher(final String pathAccountSid,\n                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Key\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Key fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Keys/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Key fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Key.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class KeyUpdater extends Updater<Key>{\n    private String sid;\n    private String accountSid;\n    private String friendlyName;\n\n    public KeyUpdater(final String sid){\n        this.sid = sid;\n    }\n    public KeyUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public KeyUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Key update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Keys/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Key update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Key.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class KeyUpdater extends Updater<Key> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String friendlyName;\n\n    /**\n     * Construct a new KeyUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public KeyUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new KeyUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       update\n     * @param pathSid The unique string that identifies the resource\n     */\n    public KeyUpdater(final String pathAccountSid,\n                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public KeyUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Key\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Key update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Keys/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Key update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Key.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MessageDeleter extends Deleter<Message> {\n    private String sid;\n    private String accountSid;\n\n    public MessageDeleter(final String sid){\n        this.sid = sid;\n    }\n    public MessageDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Messages/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Message delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class MessageDeleter extends Deleter<Message> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new MessageDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public MessageDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new MessageDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public MessageDeleter(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Messages/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Message delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MessageFetcher extends Fetcher<Message> {\n    private String sid;\n    private String accountSid;\n\n    public MessageFetcher(final String sid){\n        this.sid = sid;\n    }\n    public MessageFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Message fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Messages/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Message fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Message.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class MessageFetcher extends Fetcher<Message> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new MessageFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public MessageFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new MessageFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public MessageFetcher(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Message\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Message fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Messages/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Message fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Message.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MessageUpdater extends Updater<Message>{\n    private String sid;\n    private String accountSid;\n    private String body;\n    private Message.UpdateStatus status;\n\n    public MessageUpdater(final String sid){\n        this.sid = sid;\n    }\n    public MessageUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public MessageUpdater setBody(final String body){\n        this.body = body;\n        return this;\n    }\n    public MessageUpdater setStatus(final Message.UpdateStatus status){\n        this.status = status;\n        return this;\n    }\n\n    @Override\n    public Message update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Messages/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Message update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Message.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (body != null) {\n            request.addPostParam(\"Body\", body);\n    \n        }\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class MessageUpdater extends Updater<Message> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String body;\n    private Message.UpdateStatus status;\n\n    /**\n     * Construct a new MessageUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public MessageUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new MessageUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       update\n     * @param pathSid The unique string that identifies the resource\n     */\n    public MessageUpdater(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * The text of the message you want to send. Can be up to 1,600 characters\n     * long..\n     *\n     * @param body The text of the message you want to send\n     * @return this\n     */\n    public MessageUpdater setBody(final String body) {\n        this.body = body;\n        return this;\n    }\n\n    /**\n     * When set as `canceled`, allows a message cancelation request if a message has\n     * not yet been sent..\n     *\n     * @param status Set as `canceled` to cancel a message from being sent.\n     * @return this\n     */\n    public MessageUpdater setStatus(final Message.UpdateStatus status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Message\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Message update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Messages/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Message update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Message.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (body != null) {\n            request.addPostParam(\"Body\", body);\n        }\n\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n    }\n}\n","lineNo":68}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class NotificationFetcher extends Fetcher<Notification> {\n    private String sid;\n    private String accountSid;\n\n    public NotificationFetcher(final String sid){\n        this.sid = sid;\n    }\n    public NotificationFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Notification fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Notifications/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Notification fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Notification.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class NotificationFetcher extends Fetcher<Notification> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new NotificationFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public NotificationFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new NotificationFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public NotificationFetcher(final String pathAccountSid,\n                               final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Notification\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Notification fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Notifications/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Notification fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Notification.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class OutgoingCallerIdDeleter extends Deleter<OutgoingCallerId> {\n    private String sid;\n    private String accountSid;\n\n    public OutgoingCallerIdDeleter(final String sid){\n        this.sid = sid;\n    }\n    public OutgoingCallerIdDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/OutgoingCallerIds/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"OutgoingCallerId delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class OutgoingCallerIdDeleter extends Deleter<OutgoingCallerId> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new OutgoingCallerIdDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public OutgoingCallerIdDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new OutgoingCallerIdDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public OutgoingCallerIdDeleter(final String pathAccountSid,\n                                   final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/OutgoingCallerIds/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"OutgoingCallerId delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class OutgoingCallerIdFetcher extends Fetcher<OutgoingCallerId> {\n    private String sid;\n    private String accountSid;\n\n    public OutgoingCallerIdFetcher(final String sid){\n        this.sid = sid;\n    }\n    public OutgoingCallerIdFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public OutgoingCallerId fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/OutgoingCallerIds/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"OutgoingCallerId fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return OutgoingCallerId.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class OutgoingCallerIdFetcher extends Fetcher<OutgoingCallerId> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new OutgoingCallerIdFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public OutgoingCallerIdFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new OutgoingCallerIdFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public OutgoingCallerIdFetcher(final String pathAccountSid,\n                                   final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched OutgoingCallerId\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public OutgoingCallerId fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/OutgoingCallerIds/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"OutgoingCallerId fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return OutgoingCallerId.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class OutgoingCallerIdUpdater extends Updater<OutgoingCallerId>{\n    private String sid;\n    private String accountSid;\n    private String friendlyName;\n\n    public OutgoingCallerIdUpdater(final String sid){\n        this.sid = sid;\n    }\n    public OutgoingCallerIdUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public OutgoingCallerIdUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public OutgoingCallerId update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/OutgoingCallerIds/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"OutgoingCallerId update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return OutgoingCallerId.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class OutgoingCallerIdUpdater extends Updater<OutgoingCallerId> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String friendlyName;\n\n    /**\n     * Construct a new OutgoingCallerIdUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public OutgoingCallerIdUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new OutgoingCallerIdUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       update\n     * @param pathSid The unique string that identifies the resource\n     */\n    public OutgoingCallerIdUpdater(final String pathAccountSid,\n                                   final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public OutgoingCallerIdUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated OutgoingCallerId\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public OutgoingCallerId update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/OutgoingCallerIds/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"OutgoingCallerId update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return OutgoingCallerId.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class QueueDeleter extends Deleter<Queue> {\n    private String sid;\n    private String accountSid;\n\n    public QueueDeleter(final String sid){\n        this.sid = sid;\n    }\n    public QueueDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Queues/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Queue delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class QueueDeleter extends Deleter<Queue> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new QueueDeleter.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public QueueDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new QueueDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       delete\n     * @param pathSid The unique string that identifies this resource\n     */\n    public QueueDeleter(final String pathAccountSid,\n                        final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Queues/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Queue delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class QueueFetcher extends Fetcher<Queue> {\n    private String sid;\n    private String accountSid;\n\n    public QueueFetcher(final String sid){\n        this.sid = sid;\n    }\n    public QueueFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Queue fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Queues/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Queue fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Queue.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class QueueFetcher extends Fetcher<Queue> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new QueueFetcher.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public QueueFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new QueueFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       fetch\n     * @param pathSid The unique string that identifies this resource\n     */\n    public QueueFetcher(final String pathAccountSid,\n                        final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Queue\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Queue fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Queues/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Queue fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Queue.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class QueueUpdater extends Updater<Queue>{\n    private String sid;\n    private String accountSid;\n    private String friendlyName;\n    private Integer maxSize;\n\n    public QueueUpdater(final String sid){\n        this.sid = sid;\n    }\n    public QueueUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public QueueUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public QueueUpdater setMaxSize(final Integer maxSize){\n        this.maxSize = maxSize;\n        return this;\n    }\n\n    @Override\n    public Queue update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Queues/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Queue update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Queue.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (maxSize != null) {\n            request.addPostParam(\"MaxSize\", maxSize.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class QueueUpdater extends Updater<Queue> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String friendlyName;\n    private Integer maxSize;\n\n    /**\n     * Construct a new QueueUpdater.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public QueueUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new QueueUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       update\n     * @param pathSid The unique string that identifies this resource\n     */\n    public QueueUpdater(final String pathAccountSid,\n                        final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * A descriptive string that you created to describe this resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe this resource\n     * @return this\n     */\n    public QueueUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The maximum number of calls allowed to be in the queue. The default is 100.\n     * The maximum is 5000..\n     *\n     * @param maxSize The max number of calls allowed in the queue\n     * @return this\n     */\n    public QueueUpdater setMaxSize(final Integer maxSize) {\n        this.maxSize = maxSize;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Queue\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Queue update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Queues/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Queue update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Queue.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (maxSize != null) {\n            request.addPostParam(\"MaxSize\", maxSize.toString());\n        }\n    }\n}\n","lineNo":68}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingDeleter extends Deleter<Recording> {\n    private String sid;\n    private String accountSid;\n\n    public RecordingDeleter(final String sid){\n        this.sid = sid;\n    }\n    public RecordingDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Recordings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingDeleter extends Deleter<Recording> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new RecordingDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new RecordingDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingDeleter(final String pathAccountSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Recordings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingFetcher extends Fetcher<Recording> {\n    private String sid;\n    private String accountSid;\n    private Boolean includeSoftDeleted;\n\n    public RecordingFetcher(final String sid){\n        this.sid = sid;\n    }\n    public RecordingFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public RecordingFetcher setIncludeSoftDeleted(final Boolean includeSoftDeleted){\n    this.includeSoftDeleted = includeSoftDeleted;\n    return this;\n    }\n\n    @Override\n    public Recording fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Recordings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Recording fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addQueryParams(final Request request) {\n        if (includeSoftDeleted != null) {\n    \n            request.addQueryParam(\"IncludeSoftDeleted\", includeSoftDeleted.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingFetcher extends Fetcher<Recording> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private Boolean includeSoftDeleted;\n\n    /**\n     * Construct a new RecordingFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new RecordingFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingFetcher(final String pathAccountSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * A boolean parameter indicating whether to retrieve soft deleted recordings or\n     * not. Recordings metadata are kept after deletion for a retention period of 40\n     * days..\n     *\n     * @param includeSoftDeleted A boolean parameter indicating whether to retrieve\n     *                           soft deleted recordings or not.\n     * @return this\n     */\n    public RecordingFetcher setIncludeSoftDeleted(final Boolean includeSoftDeleted) {\n        this.includeSoftDeleted = includeSoftDeleted;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Recording\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Recording fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Recordings/\" + this.pathSid + \".json\"\n        );\n\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (includeSoftDeleted != null) {\n            request.addQueryParam(\"IncludeSoftDeleted\", includeSoftDeleted.toString());\n        }\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ShortCodeFetcher extends Fetcher<ShortCode> {\n    private String sid;\n    private String accountSid;\n\n    public ShortCodeFetcher(final String sid){\n        this.sid = sid;\n    }\n    public ShortCodeFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public ShortCode fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SMS/ShortCodes/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"ShortCode fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ShortCode.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ShortCodeFetcher extends Fetcher<ShortCode> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new ShortCodeFetcher.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public ShortCodeFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ShortCodeFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       fetch\n     * @param pathSid The unique string that identifies this resource\n     */\n    public ShortCodeFetcher(final String pathAccountSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched ShortCode\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public ShortCode fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SMS/ShortCodes/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ShortCode fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ShortCode.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ShortCodeUpdater extends Updater<ShortCode>{\n    private String sid;\n    private String accountSid;\n    private String friendlyName;\n    private String apiVersion;\n    private URI smsUrl;\n    private HttpMethod smsMethod;\n    private URI smsFallbackUrl;\n    private HttpMethod smsFallbackMethod;\n\n    public ShortCodeUpdater(final String sid){\n        this.sid = sid;\n    }\n    public ShortCodeUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public ShortCodeUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ShortCodeUpdater setApiVersion(final String apiVersion){\n        this.apiVersion = apiVersion;\n        return this;\n    }\n    public ShortCodeUpdater setSmsUrl(final URI smsUrl){\n        this.smsUrl = smsUrl;\n        return this;\n    }\n\n    public ShortCodeUpdater setSmsUrl(final String smsUrl){\n    this.smsUrl = Promoter.uriFromString(smsUrl);\n    return this;\n    }\n    public ShortCodeUpdater setSmsMethod(final HttpMethod smsMethod){\n        this.smsMethod = smsMethod;\n        return this;\n    }\n    public ShortCodeUpdater setSmsFallbackUrl(final URI smsFallbackUrl){\n        this.smsFallbackUrl = smsFallbackUrl;\n        return this;\n    }\n\n    public ShortCodeUpdater setSmsFallbackUrl(final String smsFallbackUrl){\n    this.smsFallbackUrl = Promoter.uriFromString(smsFallbackUrl);\n    return this;\n    }\n    public ShortCodeUpdater setSmsFallbackMethod(final HttpMethod smsFallbackMethod){\n        this.smsFallbackMethod = smsFallbackMethod;\n        return this;\n    }\n\n    @Override\n    public ShortCode update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SMS/ShortCodes/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"ShortCode update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ShortCode.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (apiVersion != null) {\n            request.addPostParam(\"ApiVersion\", apiVersion);\n    \n        }\n        if (smsUrl != null) {\n            request.addPostParam(\"SmsUrl\", smsUrl.toString());\n    \n        }\n        if (smsMethod != null) {\n            request.addPostParam(\"SmsMethod\", smsMethod.toString());\n    \n        }\n        if (smsFallbackUrl != null) {\n            request.addPostParam(\"SmsFallbackUrl\", smsFallbackUrl.toString());\n    \n        }\n        if (smsFallbackMethod != null) {\n            request.addPostParam(\"SmsFallbackMethod\", smsFallbackMethod.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class ShortCodeUpdater extends Updater<ShortCode> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String friendlyName;\n    private String apiVersion;\n    private URI smsUrl;\n    private HttpMethod smsMethod;\n    private URI smsFallbackUrl;\n    private HttpMethod smsFallbackMethod;\n\n    /**\n     * Construct a new ShortCodeUpdater.\n     *\n     * @param pathSid The unique string that identifies this resource\n     */\n    public ShortCodeUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new ShortCodeUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       update\n     * @param pathSid The unique string that identifies this resource\n     */\n    public ShortCodeUpdater(final String pathAccountSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * A descriptive string that you created to describe this resource. It can be up\n     * to 64 characters long. By default, the `FriendlyName` is the short code..\n     *\n     * @param friendlyName A string to describe this resource\n     * @return this\n     */\n    public ShortCodeUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The API version to use to start a new TwiML session. Can be: `2010-04-01` or\n     * `2008-08-01`..\n     *\n     * @param apiVersion The API version to use to start a new TwiML session\n     * @return this\n     */\n    public ShortCodeUpdater setApiVersion(final String apiVersion) {\n        this.apiVersion = apiVersion;\n        return this;\n    }\n\n    /**\n     * The URL we should call when receiving an incoming SMS message to this short\n     * code..\n     *\n     * @param smsUrl URL Twilio will request when receiving an SMS\n     * @return this\n     */\n    public ShortCodeUpdater setSmsUrl(final URI smsUrl) {\n        this.smsUrl = smsUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when receiving an incoming SMS message to this short\n     * code..\n     *\n     * @param smsUrl URL Twilio will request when receiving an SMS\n     * @return this\n     */\n    public ShortCodeUpdater setSmsUrl(final String smsUrl) {\n        return setSmsUrl(Promoter.uriFromString(smsUrl));\n    }\n\n    /**\n     * The HTTP method we should use when calling the `sms_url`. Can be: `GET` or\n     * `POST`..\n     *\n     * @param smsMethod HTTP method to use when requesting the sms url\n     * @return this\n     */\n    public ShortCodeUpdater setSmsMethod(final HttpMethod smsMethod) {\n        this.smsMethod = smsMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call if an error occurs while retrieving or executing\n     * the TwiML from `sms_url`..\n     *\n     * @param smsFallbackUrl URL Twilio will request if an error occurs in\n     *                       executing TwiML\n     * @return this\n     */\n    public ShortCodeUpdater setSmsFallbackUrl(final URI smsFallbackUrl) {\n        this.smsFallbackUrl = smsFallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call if an error occurs while retrieving or executing\n     * the TwiML from `sms_url`..\n     *\n     * @param smsFallbackUrl URL Twilio will request if an error occurs in\n     *                       executing TwiML\n     * @return this\n     */\n    public ShortCodeUpdater setSmsFallbackUrl(final String smsFallbackUrl) {\n        return setSmsFallbackUrl(Promoter.uriFromString(smsFallbackUrl));\n    }\n\n    /**\n     * The HTTP method that we should use to call the `sms_fallback_url`. Can be:\n     * `GET` or `POST`..\n     *\n     * @param smsFallbackMethod HTTP method Twilio will use with sms_fallback_url\n     * @return this\n     */\n    public ShortCodeUpdater setSmsFallbackMethod(final HttpMethod smsFallbackMethod) {\n        this.smsFallbackMethod = smsFallbackMethod;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated ShortCode\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public ShortCode update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SMS/ShortCodes/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ShortCode update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ShortCode.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (apiVersion != null) {\n            request.addPostParam(\"ApiVersion\", apiVersion);\n        }\n\n        if (smsUrl != null) {\n            request.addPostParam(\"SmsUrl\", smsUrl.toString());\n        }\n\n        if (smsMethod != null) {\n            request.addPostParam(\"SmsMethod\", smsMethod.toString());\n        }\n\n        if (smsFallbackUrl != null) {\n            request.addPostParam(\"SmsFallbackUrl\", smsFallbackUrl.toString());\n        }\n\n        if (smsFallbackMethod != null) {\n            request.addPostParam(\"SmsFallbackMethod\", smsFallbackMethod.toString());\n        }\n    }\n}\n","lineNo":100}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SigningKeyDeleter extends Deleter<SigningKey> {\n    private String sid;\n    private String accountSid;\n\n    public SigningKeyDeleter(final String sid){\n        this.sid = sid;\n    }\n    public SigningKeyDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SigningKeys/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SigningKey delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SigningKeyDeleter extends Deleter<SigningKey> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new SigningKeyDeleter.\n     *\n     * @param pathSid The sid\n     */\n    public SigningKeyDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new SigningKeyDeleter.\n     *\n     * @param pathAccountSid The account_sid\n     * @param pathSid The sid\n     */\n    public SigningKeyDeleter(final String pathAccountSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SigningKeys/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SigningKey delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SigningKeyFetcher extends Fetcher<SigningKey> {\n    private String sid;\n    private String accountSid;\n\n    public SigningKeyFetcher(final String sid){\n        this.sid = sid;\n    }\n    public SigningKeyFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public SigningKey fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SigningKeys/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"SigningKey fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SigningKey.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SigningKeyFetcher extends Fetcher<SigningKey> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new SigningKeyFetcher.\n     *\n     * @param pathSid The sid\n     */\n    public SigningKeyFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new SigningKeyFetcher.\n     *\n     * @param pathAccountSid The account_sid\n     * @param pathSid The sid\n     */\n    public SigningKeyFetcher(final String pathAccountSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched SigningKey\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public SigningKey fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SigningKeys/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SigningKey fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SigningKey.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SigningKeyUpdater extends Updater<SigningKey>{\n    private String sid;\n    private String accountSid;\n    private String friendlyName;\n\n    public SigningKeyUpdater(final String sid){\n        this.sid = sid;\n    }\n    public SigningKeyUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public SigningKeyUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public SigningKey update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SigningKeys/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"SigningKey update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SigningKey.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SigningKeyUpdater extends Updater<SigningKey> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String friendlyName;\n\n    /**\n     * Construct a new SigningKeyUpdater.\n     *\n     * @param pathSid The sid\n     */\n    public SigningKeyUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new SigningKeyUpdater.\n     *\n     * @param pathAccountSid The account_sid\n     * @param pathSid The sid\n     */\n    public SigningKeyUpdater(final String pathAccountSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * The friendly_name.\n     *\n     * @param friendlyName The friendly_name\n     * @return this\n     */\n    public SigningKeyUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated SigningKey\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public SigningKey update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SigningKeys/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SigningKey update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SigningKey.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TranscriptionDeleter extends Deleter<Transcription> {\n    private String sid;\n    private String accountSid;\n\n    public TranscriptionDeleter(final String sid){\n        this.sid = sid;\n    }\n    public TranscriptionDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Transcriptions/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Transcription delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TranscriptionDeleter extends Deleter<Transcription> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new TranscriptionDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TranscriptionDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new TranscriptionDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TranscriptionDeleter(final String pathAccountSid,\n                                final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Transcriptions/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Transcription delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TranscriptionFetcher extends Fetcher<Transcription> {\n    private String sid;\n    private String accountSid;\n\n    public TranscriptionFetcher(final String sid){\n        this.sid = sid;\n    }\n    public TranscriptionFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Transcription fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Transcriptions/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Transcription fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Transcription.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TranscriptionFetcher extends Fetcher<Transcription> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new TranscriptionFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TranscriptionFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new TranscriptionFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TranscriptionFetcher(final String pathAccountSid,\n                                final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Transcription\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Transcription fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Transcriptions/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Transcription fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Transcription.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FeedbackSummaryDeleter extends Deleter<FeedbackSummary> {\n    private String sid;\n    private String accountSid;\n\n    public FeedbackSummaryDeleter(final String sid){\n        this.sid = sid;\n    }\n    public FeedbackSummaryDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/FeedbackSummary/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"FeedbackSummary delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class FeedbackSummaryDeleter extends Deleter<FeedbackSummary> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new FeedbackSummaryDeleter.\n     *\n     * @param pathSid A string that uniquely identifies this feedback summary\n     *                resource\n     */\n    public FeedbackSummaryDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new FeedbackSummaryDeleter.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathSid A string that uniquely identifies this feedback summary\n     *                resource\n     */\n    public FeedbackSummaryDeleter(final String pathAccountSid,\n                                  final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/FeedbackSummary/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"FeedbackSummary delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FeedbackSummaryFetcher extends Fetcher<FeedbackSummary> {\n    private String sid;\n    private String accountSid;\n\n    public FeedbackSummaryFetcher(final String sid){\n        this.sid = sid;\n    }\n    public FeedbackSummaryFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public FeedbackSummary fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/FeedbackSummary/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"FeedbackSummary fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return FeedbackSummary.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class FeedbackSummaryFetcher extends Fetcher<FeedbackSummary> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new FeedbackSummaryFetcher.\n     *\n     * @param pathSid A string that uniquely identifies this feedback summary\n     *                resource\n     */\n    public FeedbackSummaryFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new FeedbackSummaryFetcher.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathSid A string that uniquely identifies this feedback summary\n     *                resource\n     */\n    public FeedbackSummaryFetcher(final String pathAccountSid,\n                                  final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched FeedbackSummary\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public FeedbackSummary fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/FeedbackSummary/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"FeedbackSummary fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return FeedbackSummary.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class NotificationFetcher extends Fetcher<Notification> {\n    private String callSid;\n    private String sid;\n    private String accountSid;\n\n    public NotificationFetcher(final String callSid, final String sid){\n        this.callSid = callSid;\n        this.sid = sid;\n    }\n    public NotificationFetcher(final String accountSid, final String callSid, final String sid){\n        this.accountSid = accountSid;\n        this.callSid = callSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Notification fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}/Notifications/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Notification fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Notification.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class NotificationFetcher extends Fetcher<Notification> {\n    private String pathAccountSid;\n    private final String pathCallSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new NotificationFetcher.\n     *\n     * @param pathCallSid The Call SID of the resource to fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public NotificationFetcher(final String pathCallSid,\n                               final String pathSid) {\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new NotificationFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathCallSid The Call SID of the resource to fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public NotificationFetcher(final String pathAccountSid,\n                               final String pathCallSid,\n                               final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Notification\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Notification fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathCallSid + \"/Notifications/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Notification fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Notification.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class PaymentUpdater extends Updater<Payment>{\n    private String callSid;\n    private String sid;\n    private String idempotencyKey;\n    private URI statusCallback;\n    private String accountSid;\n    private Payment.Capture capture;\n    private Payment.Status status;\n\n    public PaymentUpdater(final String callSid, final String sid, final String idempotencyKey, final URI statusCallback){\n        this.callSid = callSid;\n        this.sid = sid;\n        this.idempotencyKey = idempotencyKey;\n        this.statusCallback = statusCallback;\n    }\n    public PaymentUpdater(final String accountSid, final String callSid, final String sid, final String idempotencyKey, final URI statusCallback){\n        this.accountSid = accountSid;\n        this.callSid = callSid;\n        this.sid = sid;\n        this.idempotencyKey = idempotencyKey;\n        this.statusCallback = statusCallback;\n    }\n\n    public PaymentUpdater setIdempotencyKey(final String idempotencyKey){\n        this.idempotencyKey = idempotencyKey;\n        return this;\n    }\n    public PaymentUpdater setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public PaymentUpdater setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public PaymentUpdater setCapture(final Payment.Capture capture){\n        this.capture = capture;\n        return this;\n    }\n    public PaymentUpdater setStatus(final Payment.Status status){\n        this.status = status;\n        return this;\n    }\n\n    @Override\n    public Payment update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}/Payments/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n        path = path.replace(\"{\"+\"IdempotencyKey\"+\"}\", this.idempotencyKey.toString());\n        path = path.replace(\"{\"+\"StatusCallback\"+\"}\", this.statusCallback.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Payment update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Payment.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (idempotencyKey != null) {\n            request.addPostParam(\"IdempotencyKey\", idempotencyKey);\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (capture != null) {\n            request.addPostParam(\"Capture\", capture.toString());\n    \n        }\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class PaymentUpdater extends Updater<Payment> {\n    private String pathAccountSid;\n    private final String pathCallSid;\n    private final String pathSid;\n    private final String idempotencyKey;\n    private final URI statusCallback;\n    private Payment.Capture capture;\n    private Payment.Status status;\n\n    /**\n     * Construct a new PaymentUpdater.\n     *\n     * @param pathCallSid The SID of the call that will create the resource.\n     * @param pathSid The SID of Payments session\n     * @param idempotencyKey A unique token that will be used to ensure that\n     *                       multiple API calls with the same information do not\n     *                       result in multiple transactions.\n     * @param statusCallback Provide an absolute or relative URL to receive status\n     *                       updates regarding your Pay session.\n     */\n    public PaymentUpdater(final String pathCallSid,\n                          final String pathSid,\n                          final String idempotencyKey,\n                          final URI statusCallback) {\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n        this.idempotencyKey = idempotencyKey;\n        this.statusCallback = statusCallback;\n    }\n\n    /**\n     * Construct a new PaymentUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that will update the resource\n     * @param pathCallSid The SID of the call that will create the resource.\n     * @param pathSid The SID of Payments session\n     * @param idempotencyKey A unique token that will be used to ensure that\n     *                       multiple API calls with the same information do not\n     *                       result in multiple transactions.\n     * @param statusCallback Provide an absolute or relative URL to receive status\n     *                       updates regarding your Pay session.\n     */\n    public PaymentUpdater(final String pathAccountSid,\n                          final String pathCallSid,\n                          final String pathSid,\n                          final String idempotencyKey,\n                          final URI statusCallback) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n        this.idempotencyKey = idempotencyKey;\n        this.statusCallback = statusCallback;\n    }\n\n    /**\n     * The piece of payment information that you wish the caller to enter. Must be\n     * one of `payment-card-number`, `expiration-date`, `security-code`,\n     * `postal-code`, `bank-routing-number`, or `bank-account-number`..\n     *\n     * @param capture The piece of payment information that you wish the caller to\n     *                enter.\n     * @return this\n     */\n    public PaymentUpdater setCapture(final Payment.Capture capture) {\n        this.capture = capture;\n        return this;\n    }\n\n    /**\n     * Indicates whether the current payment session should be cancelled or\n     * completed. When `cancel` the payment session is cancelled. When `complete`,\n     * Twilio sends the payment information to the selected Pay Connector for\n     * processing..\n     *\n     * @param status Indicates whether the current payment session should be\n     *               cancelled or completed.\n     * @return this\n     */\n    public PaymentUpdater setStatus(final Payment.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Payment\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Payment update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathCallSid + \"/Payments/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Payment update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Payment.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (idempotencyKey != null) {\n            request.addPostParam(\"IdempotencyKey\", idempotencyKey);\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (capture != null) {\n            request.addPostParam(\"Capture\", capture.toString());\n        }\n\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n    }\n}\n","lineNo":92}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingDeleter extends Deleter<Recording> {\n    private String callSid;\n    private String sid;\n    private String accountSid;\n\n    public RecordingDeleter(final String callSid, final String sid){\n        this.callSid = callSid;\n        this.sid = sid;\n    }\n    public RecordingDeleter(final String accountSid, final String callSid, final String sid){\n        this.accountSid = accountSid;\n        this.callSid = callSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}/Recordings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingDeleter extends Deleter<Recording> {\n    private String pathAccountSid;\n    private final String pathCallSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new RecordingDeleter.\n     *\n     * @param pathCallSid The Call SID of the resources to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingDeleter(final String pathCallSid,\n                            final String pathSid) {\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new RecordingDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathCallSid The Call SID of the resources to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingDeleter(final String pathAccountSid,\n                            final String pathCallSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathCallSid + \"/Recordings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingFetcher extends Fetcher<Recording> {\n    private String callSid;\n    private String sid;\n    private String accountSid;\n\n    public RecordingFetcher(final String callSid, final String sid){\n        this.callSid = callSid;\n        this.sid = sid;\n    }\n    public RecordingFetcher(final String accountSid, final String callSid, final String sid){\n        this.accountSid = accountSid;\n        this.callSid = callSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Recording fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}/Recordings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Recording fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingFetcher extends Fetcher<Recording> {\n    private String pathAccountSid;\n    private final String pathCallSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new RecordingFetcher.\n     *\n     * @param pathCallSid The Call SID of the resource to fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingFetcher(final String pathCallSid,\n                            final String pathSid) {\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new RecordingFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathCallSid The Call SID of the resource to fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingFetcher(final String pathAccountSid,\n                            final String pathCallSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Recording\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Recording fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathCallSid + \"/Recordings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingUpdater extends Updater<Recording>{\n    private String callSid;\n    private String sid;\n    private Recording.Status status;\n    private String accountSid;\n    private String pauseBehavior;\n\n    public RecordingUpdater(final String callSid, final String sid, final Recording.Status status){\n        this.callSid = callSid;\n        this.sid = sid;\n        this.status = status;\n    }\n    public RecordingUpdater(final String accountSid, final String callSid, final String sid, final Recording.Status status){\n        this.accountSid = accountSid;\n        this.callSid = callSid;\n        this.sid = sid;\n        this.status = status;\n    }\n\n    public RecordingUpdater setStatus(final Recording.Status status){\n        this.status = status;\n        return this;\n    }\n    public RecordingUpdater setPauseBehavior(final String pauseBehavior){\n        this.pauseBehavior = pauseBehavior;\n        return this;\n    }\n\n    @Override\n    public Recording update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}/Recordings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n        path = path.replace(\"{\"+\"Status\"+\"}\", this.status.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n        if (pauseBehavior != null) {\n            request.addPostParam(\"PauseBehavior\", pauseBehavior);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingUpdater extends Updater<Recording> {\n    private String pathAccountSid;\n    private final String pathCallSid;\n    private final String pathSid;\n    private final Recording.Status status;\n    private String pauseBehavior;\n\n    /**\n     * Construct a new RecordingUpdater.\n     *\n     * @param pathCallSid The Call SID of the resource to update\n     * @param pathSid The unique string that identifies the resource\n     * @param status The new status of the recording\n     */\n    public RecordingUpdater(final String pathCallSid,\n                            final String pathSid,\n                            final Recording.Status status) {\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n        this.status = status;\n    }\n\n    /**\n     * Construct a new RecordingUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       update\n     * @param pathCallSid The Call SID of the resource to update\n     * @param pathSid The unique string that identifies the resource\n     * @param status The new status of the recording\n     */\n    public RecordingUpdater(final String pathAccountSid,\n                            final String pathCallSid,\n                            final String pathSid,\n                            final Recording.Status status) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n        this.status = status;\n    }\n\n    /**\n     * Whether to record during a pause. Can be: `skip` or `silence` and the default\n     * is `silence`. `skip` does not record during the pause period, while `silence`\n     * will replace the actual audio of the call with silence during the pause\n     * period. This parameter only applies when setting `status` is set to\n     * `paused`..\n     *\n     * @param pauseBehavior Whether to record or not during the pause period.\n     * @return this\n     */\n    public RecordingUpdater setPauseBehavior(final String pauseBehavior) {\n        this.pauseBehavior = pauseBehavior;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Recording\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Recording update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathCallSid + \"/Recordings/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n\n        if (pauseBehavior != null) {\n            request.addPostParam(\"PauseBehavior\", pauseBehavior);\n        }\n    }\n}\n","lineNo":73}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SiprecUpdater extends Updater<Siprec>{\n    private String callSid;\n    private String sid;\n    private Siprec.UpdateStatus status;\n    private String accountSid;\n\n    public SiprecUpdater(final String callSid, final String sid, final Siprec.UpdateStatus status){\n        this.callSid = callSid;\n        this.sid = sid;\n        this.status = status;\n    }\n    public SiprecUpdater(final String accountSid, final String callSid, final String sid, final Siprec.UpdateStatus status){\n        this.accountSid = accountSid;\n        this.callSid = callSid;\n        this.sid = sid;\n        this.status = status;\n    }\n\n    public SiprecUpdater setStatus(final Siprec.UpdateStatus status){\n        this.status = status;\n        return this;\n    }\n\n    @Override\n    public Siprec update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}/Siprec/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n        path = path.replace(\"{\"+\"Status\"+\"}\", this.status.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Siprec update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Siprec.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SiprecUpdater extends Updater<Siprec> {\n    private String pathAccountSid;\n    private final String pathCallSid;\n    private final String pathSid;\n    private final Siprec.UpdateStatus status;\n\n    /**\n     * Construct a new SiprecUpdater.\n     *\n     * @param pathCallSid The SID of the Call the resource is associated with\n     * @param pathSid The SID of the Siprec resource, or the `name`\n     * @param status The status. Must have the value `stopped`\n     */\n    public SiprecUpdater(final String pathCallSid,\n                         final String pathSid,\n                         final Siprec.UpdateStatus status) {\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n        this.status = status;\n    }\n\n    /**\n     * Construct a new SiprecUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created this resource\n     * @param pathCallSid The SID of the Call the resource is associated with\n     * @param pathSid The SID of the Siprec resource, or the `name`\n     * @param status The status. Must have the value `stopped`\n     */\n    public SiprecUpdater(final String pathAccountSid,\n                         final String pathCallSid,\n                         final String pathSid,\n                         final Siprec.UpdateStatus status) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n        this.status = status;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Siprec\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Siprec update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathCallSid + \"/Siprec/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Siprec update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Siprec.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n    }\n}\n","lineNo":68}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class StreamUpdater extends Updater<Stream>{\n    private String callSid;\n    private String sid;\n    private Stream.UpdateStatus status;\n    private String accountSid;\n\n    public StreamUpdater(final String callSid, final String sid, final Stream.UpdateStatus status){\n        this.callSid = callSid;\n        this.sid = sid;\n        this.status = status;\n    }\n    public StreamUpdater(final String accountSid, final String callSid, final String sid, final Stream.UpdateStatus status){\n        this.accountSid = accountSid;\n        this.callSid = callSid;\n        this.sid = sid;\n        this.status = status;\n    }\n\n    public StreamUpdater setStatus(final Stream.UpdateStatus status){\n        this.status = status;\n        return this;\n    }\n\n    @Override\n    public Stream update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Calls/{CallSid}/Streams/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n        path = path.replace(\"{\"+\"Status\"+\"}\", this.status.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Stream update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Stream.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.call;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class StreamUpdater extends Updater<Stream> {\n    private String pathAccountSid;\n    private final String pathCallSid;\n    private final String pathSid;\n    private final Stream.UpdateStatus status;\n\n    /**\n     * Construct a new StreamUpdater.\n     *\n     * @param pathCallSid The SID of the Call the resource is associated with\n     * @param pathSid The SID of the Stream resource, or the `name`\n     * @param status The status. Must have the value `stopped`\n     */\n    public StreamUpdater(final String pathCallSid,\n                         final String pathSid,\n                         final Stream.UpdateStatus status) {\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n        this.status = status;\n    }\n\n    /**\n     * Construct a new StreamUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created this resource\n     * @param pathCallSid The SID of the Call the resource is associated with\n     * @param pathSid The SID of the Stream resource, or the `name`\n     * @param status The status. Must have the value `stopped`\n     */\n    public StreamUpdater(final String pathAccountSid,\n                         final String pathCallSid,\n                         final String pathSid,\n                         final Stream.UpdateStatus status) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCallSid = pathCallSid;\n        this.pathSid = pathSid;\n        this.status = status;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Stream\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Stream update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Calls/\" + this.pathCallSid + \"/Streams/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Stream update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Stream.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n    }\n}\n","lineNo":68}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ParticipantDeleter extends Deleter<Participant> {\n    private String conferenceSid;\n    private String callSid;\n    private String accountSid;\n\n    public ParticipantDeleter(final String conferenceSid, final String callSid){\n        this.conferenceSid = conferenceSid;\n        this.callSid = callSid;\n    }\n    public ParticipantDeleter(final String accountSid, final String conferenceSid, final String callSid){\n        this.accountSid = accountSid;\n        this.conferenceSid = conferenceSid;\n        this.callSid = callSid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Conferences/{ConferenceSid}/Participants/{CallSid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ConferenceSid\"+\"}\", this.conferenceSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Participant delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ParticipantDeleter extends Deleter<Participant> {\n    private String pathAccountSid;\n    private final String pathConferenceSid;\n    private final String pathCallSid;\n\n    /**\n     * Construct a new ParticipantDeleter.\n     *\n     * @param pathConferenceSid The SID of the conference with the participants to\n     *                          delete\n     * @param pathCallSid The Call SID or URL encoded label of the participant to\n     *                    delete\n     */\n    public ParticipantDeleter(final String pathConferenceSid,\n                              final String pathCallSid) {\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathCallSid = pathCallSid;\n    }\n\n    /**\n     * Construct a new ParticipantDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathConferenceSid The SID of the conference with the participants to\n     *                          delete\n     * @param pathCallSid The Call SID or URL encoded label of the participant to\n     *                    delete\n     */\n    public ParticipantDeleter(final String pathAccountSid,\n                              final String pathConferenceSid,\n                              final String pathCallSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathCallSid = pathCallSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Conferences/\" + this.pathConferenceSid + \"/Participants/\" + this.pathCallSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Participant delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ParticipantFetcher extends Fetcher<Participant> {\n    private String conferenceSid;\n    private String callSid;\n    private String accountSid;\n\n    public ParticipantFetcher(final String conferenceSid, final String callSid){\n        this.conferenceSid = conferenceSid;\n        this.callSid = callSid;\n    }\n    public ParticipantFetcher(final String accountSid, final String conferenceSid, final String callSid){\n        this.accountSid = accountSid;\n        this.conferenceSid = conferenceSid;\n        this.callSid = callSid;\n    }\n\n\n    @Override\n    public Participant fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Conferences/{ConferenceSid}/Participants/{CallSid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ConferenceSid\"+\"}\", this.conferenceSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Participant fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Participant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ParticipantFetcher extends Fetcher<Participant> {\n    private String pathAccountSid;\n    private final String pathConferenceSid;\n    private final String pathCallSid;\n\n    /**\n     * Construct a new ParticipantFetcher.\n     *\n     * @param pathConferenceSid The SID of the conference with the participant to\n     *                          fetch\n     * @param pathCallSid The Call SID or URL encoded label of the participant to\n     *                    fetch\n     */\n    public ParticipantFetcher(final String pathConferenceSid,\n                              final String pathCallSid) {\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathCallSid = pathCallSid;\n    }\n\n    /**\n     * Construct a new ParticipantFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathConferenceSid The SID of the conference with the participant to\n     *                          fetch\n     * @param pathCallSid The Call SID or URL encoded label of the participant to\n     *                    fetch\n     */\n    public ParticipantFetcher(final String pathAccountSid,\n                              final String pathConferenceSid,\n                              final String pathCallSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathCallSid = pathCallSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Participant\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Participant fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Conferences/\" + this.pathConferenceSid + \"/Participants/\" + this.pathCallSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Participant fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Participant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ParticipantUpdater extends Updater<Participant>{\n    private String conferenceSid;\n    private String callSid;\n    private String accountSid;\n    private Boolean muted;\n    private Boolean hold;\n    private URI holdUrl;\n    private HttpMethod holdMethod;\n    private URI announceUrl;\n    private HttpMethod announceMethod;\n    private URI waitUrl;\n    private HttpMethod waitMethod;\n    private Boolean beepOnExit;\n    private Boolean endConferenceOnExit;\n    private Boolean coaching;\n    private String callSidToCoach;\n\n    public ParticipantUpdater(final String conferenceSid, final String callSid){\n        this.conferenceSid = conferenceSid;\n        this.callSid = callSid;\n    }\n    public ParticipantUpdater(final String accountSid, final String conferenceSid, final String callSid){\n        this.accountSid = accountSid;\n        this.conferenceSid = conferenceSid;\n        this.callSid = callSid;\n    }\n\n    public ParticipantUpdater setMuted(final Boolean muted){\n        this.muted = muted;\n        return this;\n    }\n    public ParticipantUpdater setHold(final Boolean hold){\n        this.hold = hold;\n        return this;\n    }\n    public ParticipantUpdater setHoldUrl(final URI holdUrl){\n        this.holdUrl = holdUrl;\n        return this;\n    }\n\n    public ParticipantUpdater setHoldUrl(final String holdUrl){\n    this.holdUrl = Promoter.uriFromString(holdUrl);\n    return this;\n    }\n    public ParticipantUpdater setHoldMethod(final HttpMethod holdMethod){\n        this.holdMethod = holdMethod;\n        return this;\n    }\n    public ParticipantUpdater setAnnounceUrl(final URI announceUrl){\n        this.announceUrl = announceUrl;\n        return this;\n    }\n\n    public ParticipantUpdater setAnnounceUrl(final String announceUrl){\n    this.announceUrl = Promoter.uriFromString(announceUrl);\n    return this;\n    }\n    public ParticipantUpdater setAnnounceMethod(final HttpMethod announceMethod){\n        this.announceMethod = announceMethod;\n        return this;\n    }\n    public ParticipantUpdater setWaitUrl(final URI waitUrl){\n        this.waitUrl = waitUrl;\n        return this;\n    }\n\n    public ParticipantUpdater setWaitUrl(final String waitUrl){\n    this.waitUrl = Promoter.uriFromString(waitUrl);\n    return this;\n    }\n    public ParticipantUpdater setWaitMethod(final HttpMethod waitMethod){\n        this.waitMethod = waitMethod;\n        return this;\n    }\n    public ParticipantUpdater setBeepOnExit(final Boolean beepOnExit){\n        this.beepOnExit = beepOnExit;\n        return this;\n    }\n    public ParticipantUpdater setEndConferenceOnExit(final Boolean endConferenceOnExit){\n        this.endConferenceOnExit = endConferenceOnExit;\n        return this;\n    }\n    public ParticipantUpdater setCoaching(final Boolean coaching){\n        this.coaching = coaching;\n        return this;\n    }\n    public ParticipantUpdater setCallSidToCoach(final String callSidToCoach){\n        this.callSidToCoach = callSidToCoach;\n        return this;\n    }\n\n    @Override\n    public Participant update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Conferences/{ConferenceSid}/Participants/{CallSid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ConferenceSid\"+\"}\", this.conferenceSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Participant update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Participant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (muted != null) {\n            request.addPostParam(\"Muted\", muted.toString());\n    \n        }\n        if (hold != null) {\n            request.addPostParam(\"Hold\", hold.toString());\n    \n        }\n        if (holdUrl != null) {\n            request.addPostParam(\"HoldUrl\", holdUrl.toString());\n    \n        }\n        if (holdMethod != null) {\n            request.addPostParam(\"HoldMethod\", holdMethod.toString());\n    \n        }\n        if (announceUrl != null) {\n            request.addPostParam(\"AnnounceUrl\", announceUrl.toString());\n    \n        }\n        if (announceMethod != null) {\n            request.addPostParam(\"AnnounceMethod\", announceMethod.toString());\n    \n        }\n        if (waitUrl != null) {\n            request.addPostParam(\"WaitUrl\", waitUrl.toString());\n    \n        }\n        if (waitMethod != null) {\n            request.addPostParam(\"WaitMethod\", waitMethod.toString());\n    \n        }\n        if (beepOnExit != null) {\n            request.addPostParam(\"BeepOnExit\", beepOnExit.toString());\n    \n        }\n        if (endConferenceOnExit != null) {\n            request.addPostParam(\"EndConferenceOnExit\", endConferenceOnExit.toString());\n    \n        }\n        if (coaching != null) {\n            request.addPostParam(\"Coaching\", coaching.toString());\n    \n        }\n        if (callSidToCoach != null) {\n            request.addPostParam(\"CallSidToCoach\", callSidToCoach);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class ParticipantUpdater extends Updater<Participant> {\n    private String pathAccountSid;\n    private final String pathConferenceSid;\n    private final String pathCallSid;\n    private Boolean muted;\n    private Boolean hold;\n    private URI holdUrl;\n    private HttpMethod holdMethod;\n    private URI announceUrl;\n    private HttpMethod announceMethod;\n    private URI waitUrl;\n    private HttpMethod waitMethod;\n    private Boolean beepOnExit;\n    private Boolean endConferenceOnExit;\n    private Boolean coaching;\n    private String callSidToCoach;\n\n    /**\n     * Construct a new ParticipantUpdater.\n     *\n     * @param pathConferenceSid The SID of the conference with the participant to\n     *                          update\n     * @param pathCallSid The Call SID or URL encoded label of the participant to\n     *                    update\n     */\n    public ParticipantUpdater(final String pathConferenceSid,\n                              final String pathCallSid) {\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathCallSid = pathCallSid;\n    }\n\n    /**\n     * Construct a new ParticipantUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       update\n     * @param pathConferenceSid The SID of the conference with the participant to\n     *                          update\n     * @param pathCallSid The Call SID or URL encoded label of the participant to\n     *                    update\n     */\n    public ParticipantUpdater(final String pathAccountSid,\n                              final String pathConferenceSid,\n                              final String pathCallSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathCallSid = pathCallSid;\n    }\n\n    /**\n     * Whether the participant should be muted. Can be `true` or `false`. `true`\n     * will mute the participant, and `false` will un-mute them. Anything value\n     * other than `true` or `false` is interpreted as `false`..\n     *\n     * @param muted Whether the participant should be muted\n     * @return this\n     */\n    public ParticipantUpdater setMuted(final Boolean muted) {\n        this.muted = muted;\n        return this;\n    }\n\n    /**\n     * Whether the participant should be on hold. Can be: `true` or `false`. `true`\n     * puts the participant on hold, and `false` lets them rejoin the conference..\n     *\n     * @param hold Whether the participant should be on hold\n     * @return this\n     */\n    public ParticipantUpdater setHold(final Boolean hold) {\n        this.hold = hold;\n        return this;\n    }\n\n    /**\n     * The URL we call using the `hold_method` for  music that plays when the\n     * participant is on hold. The URL may return an MP3 file, a WAV file, or a\n     * TwiML document that contains the `&lt;Play&gt;`, `&lt;Say&gt;` or\n     * `&lt;Redirect&gt;` commands..\n     *\n     * @param holdUrl The URL we call using the `hold_method` for  music that plays\n     *                when the participant is on hold\n     * @return this\n     */\n    public ParticipantUpdater setHoldUrl(final URI holdUrl) {\n        this.holdUrl = holdUrl;\n        return this;\n    }\n\n    /**\n     * The URL we call using the `hold_method` for  music that plays when the\n     * participant is on hold. The URL may return an MP3 file, a WAV file, or a\n     * TwiML document that contains the `&lt;Play&gt;`, `&lt;Say&gt;` or\n     * `&lt;Redirect&gt;` commands..\n     *\n     * @param holdUrl The URL we call using the `hold_method` for  music that plays\n     *                when the participant is on hold\n     * @return this\n     */\n    public ParticipantUpdater setHoldUrl(final String holdUrl) {\n        return setHoldUrl(Promoter.uriFromString(holdUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `hold_url`. Can be: `GET` or `POST` and\n     * the default is `GET`..\n     *\n     * @param holdMethod The HTTP method we should use to call hold_url\n     * @return this\n     */\n    public ParticipantUpdater setHoldMethod(final HttpMethod holdMethod) {\n        this.holdMethod = holdMethod;\n        return this;\n    }\n\n    /**\n     * The URL we call using the `announce_method` for an announcement to the\n     * participant. The URL must return an MP3 file, a WAV file, or a TwiML document\n     * that contains `&lt;Play&gt;` or `&lt;Say&gt;` commands..\n     *\n     * @param announceUrl The URL we call using the `announce_method` for an\n     *                    announcement to the participant\n     * @return this\n     */\n    public ParticipantUpdater setAnnounceUrl(final URI announceUrl) {\n        this.announceUrl = announceUrl;\n        return this;\n    }\n\n    /**\n     * The URL we call using the `announce_method` for an announcement to the\n     * participant. The URL must return an MP3 file, a WAV file, or a TwiML document\n     * that contains `&lt;Play&gt;` or `&lt;Say&gt;` commands..\n     *\n     * @param announceUrl The URL we call using the `announce_method` for an\n     *                    announcement to the participant\n     * @return this\n     */\n    public ParticipantUpdater setAnnounceUrl(final String announceUrl) {\n        return setAnnounceUrl(Promoter.uriFromString(announceUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `announce_url`. Can be: `GET` or `POST`\n     * and defaults to `POST`..\n     *\n     * @param announceMethod The HTTP method we should use to call announce_url\n     * @return this\n     */\n    public ParticipantUpdater setAnnounceMethod(final HttpMethod announceMethod) {\n        this.announceMethod = announceMethod;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `wait_method` for the music to play while\n     * participants are waiting for the conference to start. The default value is\n     * the URL of our standard hold music. <a\n     * href=\"https://www.twilio.com/labs/twimlets/holdmusic\">Learn more about hold\n     * music<\/a>..\n     *\n     * @param waitUrl URL that hosts pre-conference hold music\n     * @return this\n     */\n    public ParticipantUpdater setWaitUrl(final URI waitUrl) {\n        this.waitUrl = waitUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `wait_method` for the music to play while\n     * participants are waiting for the conference to start. The default value is\n     * the URL of our standard hold music. <a\n     * href=\"https://www.twilio.com/labs/twimlets/holdmusic\">Learn more about hold\n     * music<\/a>..\n     *\n     * @param waitUrl URL that hosts pre-conference hold music\n     * @return this\n     */\n    public ParticipantUpdater setWaitUrl(final String waitUrl) {\n        return setWaitUrl(Promoter.uriFromString(waitUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `wait_url`. Can be `GET` or `POST` and\n     * the default is `POST`. When using a static audio file, this should be `GET`\n     * so that we can cache the file..\n     *\n     * @param waitMethod The HTTP method we should use to call `wait_url`\n     * @return this\n     */\n    public ParticipantUpdater setWaitMethod(final HttpMethod waitMethod) {\n        this.waitMethod = waitMethod;\n        return this;\n    }\n\n    /**\n     * Whether to play a notification beep to the conference when the participant\n     * exits. Can be: `true` or `false`..\n     *\n     * @param beepOnExit Whether to play a notification beep to the conference when\n     *                   the participant exit\n     * @return this\n     */\n    public ParticipantUpdater setBeepOnExit(final Boolean beepOnExit) {\n        this.beepOnExit = beepOnExit;\n        return this;\n    }\n\n    /**\n     * Whether to end the conference when the participant leaves. Can be: `true` or\n     * `false` and defaults to `false`..\n     *\n     * @param endConferenceOnExit Whether to end the conference when the\n     *                            participant leaves\n     * @return this\n     */\n    public ParticipantUpdater setEndConferenceOnExit(final Boolean endConferenceOnExit) {\n        this.endConferenceOnExit = endConferenceOnExit;\n        return this;\n    }\n\n    /**\n     * Whether the participant is coaching another call. Can be: `true` or `false`.\n     * If not present, defaults to `false` unless `call_sid_to_coach` is defined. If\n     * `true`, `call_sid_to_coach` must be defined..\n     *\n     * @param coaching Indicates if the participant changed to coach\n     * @return this\n     */\n    public ParticipantUpdater setCoaching(final Boolean coaching) {\n        this.coaching = coaching;\n        return this;\n    }\n\n    /**\n     * The SID of the participant who is being `coached`. The participant being\n     * coached is the only participant who can hear the participant who is\n     * `coaching`..\n     *\n     * @param callSidToCoach The SID of the participant who is being `coached`\n     * @return this\n     */\n    public ParticipantUpdater setCallSidToCoach(final String callSidToCoach) {\n        this.callSidToCoach = callSidToCoach;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Participant\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Participant update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Conferences/\" + this.pathConferenceSid + \"/Participants/\" + this.pathCallSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Participant update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Participant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (muted != null) {\n            request.addPostParam(\"Muted\", muted.toString());\n        }\n\n        if (hold != null) {\n            request.addPostParam(\"Hold\", hold.toString());\n        }\n\n        if (holdUrl != null) {\n            request.addPostParam(\"HoldUrl\", holdUrl.toString());\n        }\n\n        if (holdMethod != null) {\n            request.addPostParam(\"HoldMethod\", holdMethod.toString());\n        }\n\n        if (announceUrl != null) {\n            request.addPostParam(\"AnnounceUrl\", announceUrl.toString());\n        }\n\n        if (announceMethod != null) {\n            request.addPostParam(\"AnnounceMethod\", announceMethod.toString());\n        }\n\n        if (waitUrl != null) {\n            request.addPostParam(\"WaitUrl\", waitUrl.toString());\n        }\n\n        if (waitMethod != null) {\n            request.addPostParam(\"WaitMethod\", waitMethod.toString());\n        }\n\n        if (beepOnExit != null) {\n            request.addPostParam(\"BeepOnExit\", beepOnExit.toString());\n        }\n\n        if (endConferenceOnExit != null) {\n            request.addPostParam(\"EndConferenceOnExit\", endConferenceOnExit.toString());\n        }\n\n        if (coaching != null) {\n            request.addPostParam(\"Coaching\", coaching.toString());\n        }\n\n        if (callSidToCoach != null) {\n            request.addPostParam(\"CallSidToCoach\", callSidToCoach);\n        }\n    }\n}\n","lineNo":138}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingDeleter extends Deleter<Recording> {\n    private String conferenceSid;\n    private String sid;\n    private String accountSid;\n\n    public RecordingDeleter(final String conferenceSid, final String sid){\n        this.conferenceSid = conferenceSid;\n        this.sid = sid;\n    }\n    public RecordingDeleter(final String accountSid, final String conferenceSid, final String sid){\n        this.accountSid = accountSid;\n        this.conferenceSid = conferenceSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Conferences/{ConferenceSid}/Recordings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ConferenceSid\"+\"}\", this.conferenceSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingDeleter extends Deleter<Recording> {\n    private String pathAccountSid;\n    private final String pathConferenceSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new RecordingDeleter.\n     *\n     * @param pathConferenceSid Delete by the recording's conference SID\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingDeleter(final String pathConferenceSid,\n                            final String pathSid) {\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new RecordingDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathConferenceSid Delete by the recording's conference SID\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingDeleter(final String pathAccountSid,\n                            final String pathConferenceSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Conferences/\" + this.pathConferenceSid + \"/Recordings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingFetcher extends Fetcher<Recording> {\n    private String conferenceSid;\n    private String sid;\n    private String accountSid;\n\n    public RecordingFetcher(final String conferenceSid, final String sid){\n        this.conferenceSid = conferenceSid;\n        this.sid = sid;\n    }\n    public RecordingFetcher(final String accountSid, final String conferenceSid, final String sid){\n        this.accountSid = accountSid;\n        this.conferenceSid = conferenceSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Recording fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Conferences/{ConferenceSid}/Recordings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ConferenceSid\"+\"}\", this.conferenceSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Recording fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingFetcher extends Fetcher<Recording> {\n    private String pathAccountSid;\n    private final String pathConferenceSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new RecordingFetcher.\n     *\n     * @param pathConferenceSid Fetch by unique Conference SID for the recording\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingFetcher(final String pathConferenceSid,\n                            final String pathSid) {\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new RecordingFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathConferenceSid Fetch by unique Conference SID for the recording\n     * @param pathSid The unique string that identifies the resource\n     */\n    public RecordingFetcher(final String pathAccountSid,\n                            final String pathConferenceSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Recording\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Recording fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Conferences/\" + this.pathConferenceSid + \"/Recordings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingUpdater extends Updater<Recording>{\n    private String conferenceSid;\n    private String sid;\n    private Recording.Status status;\n    private String accountSid;\n    private String pauseBehavior;\n\n    public RecordingUpdater(final String conferenceSid, final String sid, final Recording.Status status){\n        this.conferenceSid = conferenceSid;\n        this.sid = sid;\n        this.status = status;\n    }\n    public RecordingUpdater(final String accountSid, final String conferenceSid, final String sid, final Recording.Status status){\n        this.accountSid = accountSid;\n        this.conferenceSid = conferenceSid;\n        this.sid = sid;\n        this.status = status;\n    }\n\n    public RecordingUpdater setStatus(final Recording.Status status){\n        this.status = status;\n        return this;\n    }\n    public RecordingUpdater setPauseBehavior(final String pauseBehavior){\n        this.pauseBehavior = pauseBehavior;\n        return this;\n    }\n\n    @Override\n    public Recording update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Conferences/{ConferenceSid}/Recordings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ConferenceSid\"+\"}\", this.conferenceSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n        path = path.replace(\"{\"+\"Status\"+\"}\", this.status.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n        if (pauseBehavior != null) {\n            request.addPostParam(\"PauseBehavior\", pauseBehavior);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.conference;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingUpdater extends Updater<Recording> {\n    private String pathAccountSid;\n    private final String pathConferenceSid;\n    private final String pathSid;\n    private final Recording.Status status;\n    private String pauseBehavior;\n\n    /**\n     * Construct a new RecordingUpdater.\n     *\n     * @param pathConferenceSid Update by unique Conference SID for the recording\n     * @param pathSid The unique string that identifies the resource\n     * @param status The new status of the recording\n     */\n    public RecordingUpdater(final String pathConferenceSid,\n                            final String pathSid,\n                            final Recording.Status status) {\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathSid = pathSid;\n        this.status = status;\n    }\n\n    /**\n     * Construct a new RecordingUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       update\n     * @param pathConferenceSid Update by unique Conference SID for the recording\n     * @param pathSid The unique string that identifies the resource\n     * @param status The new status of the recording\n     */\n    public RecordingUpdater(final String pathAccountSid,\n                            final String pathConferenceSid,\n                            final String pathSid,\n                            final Recording.Status status) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathConferenceSid = pathConferenceSid;\n        this.pathSid = pathSid;\n        this.status = status;\n    }\n\n    /**\n     * Whether to record during a pause. Can be: `skip` or `silence` and the default\n     * is `silence`. `skip` does not record during the pause period, while `silence`\n     * will replace the actual audio of the call with silence during the pause\n     * period. This parameter only applies when setting `status` is set to\n     * `paused`..\n     *\n     * @param pauseBehavior Whether to record during a pause\n     * @return this\n     */\n    public RecordingUpdater setPauseBehavior(final String pauseBehavior) {\n        this.pauseBehavior = pauseBehavior;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Recording\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Recording update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Conferences/\" + this.pathConferenceSid + \"/Recordings/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Recording.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n\n        if (pauseBehavior != null) {\n            request.addPostParam(\"PauseBehavior\", pauseBehavior);\n        }\n    }\n}\n","lineNo":73}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.incomingphonenumber;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AssignedAddOnDeleter extends Deleter<AssignedAddOn> {\n    private String resourceSid;\n    private String sid;\n    private String accountSid;\n\n    public AssignedAddOnDeleter(final String resourceSid, final String sid){\n        this.resourceSid = resourceSid;\n        this.sid = sid;\n    }\n    public AssignedAddOnDeleter(final String accountSid, final String resourceSid, final String sid){\n        this.accountSid = accountSid;\n        this.resourceSid = resourceSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/IncomingPhoneNumbers/{ResourceSid}/AssignedAddOns/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ResourceSid\"+\"}\", this.resourceSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AssignedAddOn delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.incomingphonenumber;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class AssignedAddOnDeleter extends Deleter<AssignedAddOn> {\n    private String pathAccountSid;\n    private final String pathResourceSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AssignedAddOnDeleter.\n     *\n     * @param pathResourceSid The SID of the Phone Number that installed this Add-on\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AssignedAddOnDeleter(final String pathResourceSid,\n                                final String pathSid) {\n        this.pathResourceSid = pathResourceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AssignedAddOnDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathResourceSid The SID of the Phone Number that installed this Add-on\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AssignedAddOnDeleter(final String pathAccountSid,\n                                final String pathResourceSid,\n                                final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathResourceSid = pathResourceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/IncomingPhoneNumbers/\" + this.pathResourceSid + \"/AssignedAddOns/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AssignedAddOn delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.incomingphonenumber;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AssignedAddOnFetcher extends Fetcher<AssignedAddOn> {\n    private String resourceSid;\n    private String sid;\n    private String accountSid;\n\n    public AssignedAddOnFetcher(final String resourceSid, final String sid){\n        this.resourceSid = resourceSid;\n        this.sid = sid;\n    }\n    public AssignedAddOnFetcher(final String accountSid, final String resourceSid, final String sid){\n        this.accountSid = accountSid;\n        this.resourceSid = resourceSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public AssignedAddOn fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/IncomingPhoneNumbers/{ResourceSid}/AssignedAddOns/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ResourceSid\"+\"}\", this.resourceSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"AssignedAddOn fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AssignedAddOn.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.incomingphonenumber;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class AssignedAddOnFetcher extends Fetcher<AssignedAddOn> {\n    private String pathAccountSid;\n    private final String pathResourceSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AssignedAddOnFetcher.\n     *\n     * @param pathResourceSid The SID of the Phone Number that installed this Add-on\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AssignedAddOnFetcher(final String pathResourceSid,\n                                final String pathSid) {\n        this.pathResourceSid = pathResourceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AssignedAddOnFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathResourceSid The SID of the Phone Number that installed this Add-on\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AssignedAddOnFetcher(final String pathAccountSid,\n                                final String pathResourceSid,\n                                final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathResourceSid = pathResourceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched AssignedAddOn\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AssignedAddOn fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/IncomingPhoneNumbers/\" + this.pathResourceSid + \"/AssignedAddOns/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AssignedAddOn fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AssignedAddOn.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.incomingphonenumber.assignedaddon;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AssignedAddOnExtensionFetcher extends Fetcher<AssignedAddOnExtension> {\n    private String resourceSid;\n    private String assignedAddOnSid;\n    private String sid;\n    private String accountSid;\n\n    public AssignedAddOnExtensionFetcher(final String resourceSid, final String assignedAddOnSid, final String sid){\n        this.resourceSid = resourceSid;\n        this.assignedAddOnSid = assignedAddOnSid;\n        this.sid = sid;\n    }\n    public AssignedAddOnExtensionFetcher(final String accountSid, final String resourceSid, final String assignedAddOnSid, final String sid){\n        this.accountSid = accountSid;\n        this.resourceSid = resourceSid;\n        this.assignedAddOnSid = assignedAddOnSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public AssignedAddOnExtension fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/IncomingPhoneNumbers/{ResourceSid}/AssignedAddOns/{AssignedAddOnSid}/Extensions/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ResourceSid\"+\"}\", this.resourceSid.toString());\n        path = path.replace(\"{\"+\"AssignedAddOnSid\"+\"}\", this.assignedAddOnSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"AssignedAddOnExtension fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AssignedAddOnExtension.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.incomingphonenumber.assignedaddon;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class AssignedAddOnExtensionFetcher extends Fetcher<AssignedAddOnExtension> {\n    private String pathAccountSid;\n    private final String pathResourceSid;\n    private final String pathAssignedAddOnSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AssignedAddOnExtensionFetcher.\n     *\n     * @param pathResourceSid The SID of the Phone Number to which the Add-on is\n     *                        assigned\n     * @param pathAssignedAddOnSid The SID that uniquely identifies the assigned\n     *                             Add-on installation\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AssignedAddOnExtensionFetcher(final String pathResourceSid,\n                                         final String pathAssignedAddOnSid,\n                                         final String pathSid) {\n        this.pathResourceSid = pathResourceSid;\n        this.pathAssignedAddOnSid = pathAssignedAddOnSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AssignedAddOnExtensionFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathResourceSid The SID of the Phone Number to which the Add-on is\n     *                        assigned\n     * @param pathAssignedAddOnSid The SID that uniquely identifies the assigned\n     *                             Add-on installation\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AssignedAddOnExtensionFetcher(final String pathAccountSid,\n                                         final String pathResourceSid,\n                                         final String pathAssignedAddOnSid,\n                                         final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathResourceSid = pathResourceSid;\n        this.pathAssignedAddOnSid = pathAssignedAddOnSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched AssignedAddOnExtension\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AssignedAddOnExtension fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/IncomingPhoneNumbers/\" + this.pathResourceSid + \"/AssignedAddOns/\" + this.pathAssignedAddOnSid + \"/Extensions/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AssignedAddOnExtension fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AssignedAddOnExtension.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":64}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.message;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MediaDeleter extends Deleter<Media> {\n    private String messageSid;\n    private String sid;\n    private String accountSid;\n\n    public MediaDeleter(final String messageSid, final String sid){\n        this.messageSid = messageSid;\n        this.sid = sid;\n    }\n    public MediaDeleter(final String accountSid, final String messageSid, final String sid){\n        this.accountSid = accountSid;\n        this.messageSid = messageSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Messages/{MessageSid}/Media/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"MessageSid\"+\"}\", this.messageSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Media delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.message;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class MediaDeleter extends Deleter<Media> {\n    private String pathAccountSid;\n    private final String pathMessageSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new MediaDeleter.\n     *\n     * @param pathMessageSid The SID of the Message resource that this Media\n     *                       resource belongs to\n     * @param pathSid The unique string that identifies this resource\n     */\n    public MediaDeleter(final String pathMessageSid,\n                        final String pathSid) {\n        this.pathMessageSid = pathMessageSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new MediaDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       delete\n     * @param pathMessageSid The SID of the Message resource that this Media\n     *                       resource belongs to\n     * @param pathSid The unique string that identifies this resource\n     */\n    public MediaDeleter(final String pathAccountSid,\n                        final String pathMessageSid,\n                        final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathMessageSid = pathMessageSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Messages/\" + this.pathMessageSid + \"/Media/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Media delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.message;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MediaFetcher extends Fetcher<Media> {\n    private String messageSid;\n    private String sid;\n    private String accountSid;\n\n    public MediaFetcher(final String messageSid, final String sid){\n        this.messageSid = messageSid;\n        this.sid = sid;\n    }\n    public MediaFetcher(final String accountSid, final String messageSid, final String sid){\n        this.accountSid = accountSid;\n        this.messageSid = messageSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Media fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Messages/{MessageSid}/Media/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"MessageSid\"+\"}\", this.messageSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Media fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Media.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.message;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class MediaFetcher extends Fetcher<Media> {\n    private String pathAccountSid;\n    private final String pathMessageSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new MediaFetcher.\n     *\n     * @param pathMessageSid The SID of the Message resource that this Media\n     *                       resource belongs to\n     * @param pathSid The unique string that identifies this resource\n     */\n    public MediaFetcher(final String pathMessageSid,\n                        final String pathSid) {\n        this.pathMessageSid = pathMessageSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new MediaFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       fetch\n     * @param pathMessageSid The SID of the Message resource that this Media\n     *                       resource belongs to\n     * @param pathSid The unique string that identifies this resource\n     */\n    public MediaFetcher(final String pathAccountSid,\n                        final String pathMessageSid,\n                        final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathMessageSid = pathMessageSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Media\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Media fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Messages/\" + this.pathMessageSid + \"/Media/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Media fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Media.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.queue;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MemberFetcher extends Fetcher<Member> {\n    private String queueSid;\n    private String callSid;\n    private String accountSid;\n\n    public MemberFetcher(final String queueSid, final String callSid){\n        this.queueSid = queueSid;\n        this.callSid = callSid;\n    }\n    public MemberFetcher(final String accountSid, final String queueSid, final String callSid){\n        this.accountSid = accountSid;\n        this.queueSid = queueSid;\n        this.callSid = callSid;\n    }\n\n\n    @Override\n    public Member fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Queues/{QueueSid}/Members/{CallSid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"QueueSid\"+\"}\", this.queueSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Member fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Member.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.queue;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class MemberFetcher extends Fetcher<Member> {\n    private String pathAccountSid;\n    private final String pathQueueSid;\n    private final String pathCallSid;\n\n    /**\n     * Construct a new MemberFetcher.\n     *\n     * @param pathQueueSid The SID of the Queue in which to find the members\n     * @param pathCallSid The Call SID of the resource(s) to fetch\n     */\n    public MemberFetcher(final String pathQueueSid,\n                         final String pathCallSid) {\n        this.pathQueueSid = pathQueueSid;\n        this.pathCallSid = pathCallSid;\n    }\n\n    /**\n     * Construct a new MemberFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       fetch\n     * @param pathQueueSid The SID of the Queue in which to find the members\n     * @param pathCallSid The Call SID of the resource(s) to fetch\n     */\n    public MemberFetcher(final String pathAccountSid,\n                         final String pathQueueSid,\n                         final String pathCallSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathQueueSid = pathQueueSid;\n        this.pathCallSid = pathCallSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Member\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Member fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Queues/\" + this.pathQueueSid + \"/Members/\" + this.pathCallSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Member fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Member.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.queue;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MemberUpdater extends Updater<Member>{\n    private String queueSid;\n    private String callSid;\n    private URI url;\n    private String accountSid;\n    private HttpMethod method;\n\n    public MemberUpdater(final String queueSid, final String callSid, final URI url){\n        this.queueSid = queueSid;\n        this.callSid = callSid;\n        this.url = url;\n    }\n    public MemberUpdater(final String accountSid, final String queueSid, final String callSid, final URI url){\n        this.accountSid = accountSid;\n        this.queueSid = queueSid;\n        this.callSid = callSid;\n        this.url = url;\n    }\n\n    public MemberUpdater setUrl(final URI url){\n        this.url = url;\n        return this;\n    }\n\n    public MemberUpdater setUrl(final String url){\n    this.url = Promoter.uriFromString(url);\n    return this;\n    }\n    public MemberUpdater setMethod(final HttpMethod method){\n        this.method = method;\n        return this;\n    }\n\n    @Override\n    public Member update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Queues/{QueueSid}/Members/{CallSid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"QueueSid\"+\"}\", this.queueSid.toString());\n        path = path.replace(\"{\"+\"CallSid\"+\"}\", this.callSid.toString());\n        path = path.replace(\"{\"+\"Url\"+\"}\", this.url.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Member update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Member.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (url != null) {\n            request.addPostParam(\"Url\", url.toString());\n    \n        }\n        if (method != null) {\n            request.addPostParam(\"Method\", method.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.queue;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class MemberUpdater extends Updater<Member> {\n    private String pathAccountSid;\n    private final String pathQueueSid;\n    private final String pathCallSid;\n    private final URI url;\n    private HttpMethod method;\n\n    /**\n     * Construct a new MemberUpdater.\n     *\n     * @param pathQueueSid The SID of the Queue in which to find the members\n     * @param pathCallSid The Call SID of the resource(s) to update\n     * @param url The absolute URL of the Queue resource\n     */\n    public MemberUpdater(final String pathQueueSid,\n                         final String pathCallSid,\n                         final URI url) {\n        this.pathQueueSid = pathQueueSid;\n        this.pathCallSid = pathCallSid;\n        this.url = url;\n    }\n\n    /**\n     * Construct a new MemberUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource(s) to\n     *                       update\n     * @param pathQueueSid The SID of the Queue in which to find the members\n     * @param pathCallSid The Call SID of the resource(s) to update\n     * @param url The absolute URL of the Queue resource\n     */\n    public MemberUpdater(final String pathAccountSid,\n                         final String pathQueueSid,\n                         final String pathCallSid,\n                         final URI url) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathQueueSid = pathQueueSid;\n        this.pathCallSid = pathCallSid;\n        this.url = url;\n    }\n\n    /**\n     * How to pass the update request data. Can be `GET` or `POST` and the default\n     * is `POST`. `POST` sends the data as encoded form data and `GET` sends the\n     * data as query parameters..\n     *\n     * @param method How to pass the update request data\n     * @return this\n     */\n    public MemberUpdater setMethod(final HttpMethod method) {\n        this.method = method;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Member\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Member update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Queues/\" + this.pathQueueSid + \"/Members/\" + this.pathCallSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Member update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Member.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (url != null) {\n            request.addPostParam(\"Url\", url.toString());\n        }\n\n        if (method != null) {\n            request.addPostParam(\"Method\", method.toString());\n        }\n    }\n}\n","lineNo":80}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.recording;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AddOnResultDeleter extends Deleter<AddOnResult> {\n    private String referenceSid;\n    private String sid;\n    private String accountSid;\n\n    public AddOnResultDeleter(final String referenceSid, final String sid){\n        this.referenceSid = referenceSid;\n        this.sid = sid;\n    }\n    public AddOnResultDeleter(final String accountSid, final String referenceSid, final String sid){\n        this.accountSid = accountSid;\n        this.referenceSid = referenceSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Recordings/{ReferenceSid}/AddOnResults/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ReferenceSid\"+\"}\", this.referenceSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AddOnResult delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.recording;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AddOnResultDeleter extends Deleter<AddOnResult> {\n    private String pathAccountSid;\n    private final String pathReferenceSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AddOnResultDeleter.\n     *\n     * @param pathReferenceSid The SID of the recording to which the result to\n     *                         delete belongs\n     * @param pathSid The unique string that identifies the resource to delete\n     */\n    public AddOnResultDeleter(final String pathReferenceSid,\n                              final String pathSid) {\n        this.pathReferenceSid = pathReferenceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AddOnResultDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathReferenceSid The SID of the recording to which the result to\n     *                         delete belongs\n     * @param pathSid The unique string that identifies the resource to delete\n     */\n    public AddOnResultDeleter(final String pathAccountSid,\n                              final String pathReferenceSid,\n                              final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathReferenceSid = pathReferenceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Recordings/\" + this.pathReferenceSid + \"/AddOnResults/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AddOnResult delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.recording;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AddOnResultFetcher extends Fetcher<AddOnResult> {\n    private String referenceSid;\n    private String sid;\n    private String accountSid;\n\n    public AddOnResultFetcher(final String referenceSid, final String sid){\n        this.referenceSid = referenceSid;\n        this.sid = sid;\n    }\n    public AddOnResultFetcher(final String accountSid, final String referenceSid, final String sid){\n        this.accountSid = accountSid;\n        this.referenceSid = referenceSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public AddOnResult fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Recordings/{ReferenceSid}/AddOnResults/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ReferenceSid\"+\"}\", this.referenceSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"AddOnResult fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AddOnResult.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.recording;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AddOnResultFetcher extends Fetcher<AddOnResult> {\n    private String pathAccountSid;\n    private final String pathReferenceSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AddOnResultFetcher.\n     *\n     * @param pathReferenceSid The SID of the recording to which the result to\n     *                         fetch belongs\n     * @param pathSid The unique string that identifies the resource to fetch\n     */\n    public AddOnResultFetcher(final String pathReferenceSid,\n                              final String pathSid) {\n        this.pathReferenceSid = pathReferenceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AddOnResultFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathReferenceSid The SID of the recording to which the result to\n     *                         fetch belongs\n     * @param pathSid The unique string that identifies the resource to fetch\n     */\n    public AddOnResultFetcher(final String pathAccountSid,\n                              final String pathReferenceSid,\n                              final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathReferenceSid = pathReferenceSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched AddOnResult\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AddOnResult fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Recordings/\" + this.pathReferenceSid + \"/AddOnResults/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AddOnResult fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AddOnResult.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.recording;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TranscriptionDeleter extends Deleter<Transcription> {\n    private String recordingSid;\n    private String sid;\n    private String accountSid;\n\n    public TranscriptionDeleter(final String recordingSid, final String sid){\n        this.recordingSid = recordingSid;\n        this.sid = sid;\n    }\n    public TranscriptionDeleter(final String accountSid, final String recordingSid, final String sid){\n        this.accountSid = accountSid;\n        this.recordingSid = recordingSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Recordings/{RecordingSid}/Transcriptions/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"RecordingSid\"+\"}\", this.recordingSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Transcription delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.recording;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TranscriptionDeleter extends Deleter<Transcription> {\n    private String pathAccountSid;\n    private final String pathRecordingSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new TranscriptionDeleter.\n     *\n     * @param pathRecordingSid The SID of the recording that created the\n     *                         transcription to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TranscriptionDeleter(final String pathRecordingSid,\n                                final String pathSid) {\n        this.pathRecordingSid = pathRecordingSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new TranscriptionDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathRecordingSid The SID of the recording that created the\n     *                         transcription to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TranscriptionDeleter(final String pathAccountSid,\n                                final String pathRecordingSid,\n                                final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathRecordingSid = pathRecordingSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Recordings/\" + this.pathRecordingSid + \"/Transcriptions/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Transcription delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.recording;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TranscriptionFetcher extends Fetcher<Transcription> {\n    private String recordingSid;\n    private String sid;\n    private String accountSid;\n\n    public TranscriptionFetcher(final String recordingSid, final String sid){\n        this.recordingSid = recordingSid;\n        this.sid = sid;\n    }\n    public TranscriptionFetcher(final String accountSid, final String recordingSid, final String sid){\n        this.accountSid = accountSid;\n        this.recordingSid = recordingSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Transcription fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Recordings/{RecordingSid}/Transcriptions/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"RecordingSid\"+\"}\", this.recordingSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Transcription fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Transcription.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.recording;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TranscriptionFetcher extends Fetcher<Transcription> {\n    private String pathAccountSid;\n    private final String pathRecordingSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new TranscriptionFetcher.\n     *\n     * @param pathRecordingSid The SID of the recording that created the\n     *                         transcriptions to fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TranscriptionFetcher(final String pathRecordingSid,\n                                final String pathSid) {\n        this.pathRecordingSid = pathRecordingSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new TranscriptionFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathRecordingSid The SID of the recording that created the\n     *                         transcriptions to fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TranscriptionFetcher(final String pathAccountSid,\n                                final String pathRecordingSid,\n                                final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathRecordingSid = pathRecordingSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Transcription\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Transcription fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Recordings/\" + this.pathRecordingSid + \"/Transcriptions/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Transcription fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Transcription.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.recording.addonresult;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class PayloadDeleter extends Deleter<Payload> {\n    private String referenceSid;\n    private String addOnResultSid;\n    private String sid;\n    private String accountSid;\n\n    public PayloadDeleter(final String referenceSid, final String addOnResultSid, final String sid){\n        this.referenceSid = referenceSid;\n        this.addOnResultSid = addOnResultSid;\n        this.sid = sid;\n    }\n    public PayloadDeleter(final String accountSid, final String referenceSid, final String addOnResultSid, final String sid){\n        this.accountSid = accountSid;\n        this.referenceSid = referenceSid;\n        this.addOnResultSid = addOnResultSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Recordings/{ReferenceSid}/AddOnResults/{AddOnResultSid}/Payloads/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ReferenceSid\"+\"}\", this.referenceSid.toString());\n        path = path.replace(\"{\"+\"AddOnResultSid\"+\"}\", this.addOnResultSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Payload delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.recording.addonresult;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class PayloadDeleter extends Deleter<Payload> {\n    private String pathAccountSid;\n    private final String pathReferenceSid;\n    private final String pathAddOnResultSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new PayloadDeleter.\n     *\n     * @param pathReferenceSid The SID of the recording to which the AddOnResult\n     *                         resource that contains the payloads to delete belongs\n     * @param pathAddOnResultSid The SID of the AddOnResult to which the payloads\n     *                           to delete belongs\n     * @param pathSid The unique string that identifies the resource\n     */\n    public PayloadDeleter(final String pathReferenceSid,\n                          final String pathAddOnResultSid,\n                          final String pathSid) {\n        this.pathReferenceSid = pathReferenceSid;\n        this.pathAddOnResultSid = pathAddOnResultSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new PayloadDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathReferenceSid The SID of the recording to which the AddOnResult\n     *                         resource that contains the payloads to delete belongs\n     * @param pathAddOnResultSid The SID of the AddOnResult to which the payloads\n     *                           to delete belongs\n     * @param pathSid The unique string that identifies the resource\n     */\n    public PayloadDeleter(final String pathAccountSid,\n                          final String pathReferenceSid,\n                          final String pathAddOnResultSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathReferenceSid = pathReferenceSid;\n        this.pathAddOnResultSid = pathAddOnResultSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Recordings/\" + this.pathReferenceSid + \"/AddOnResults/\" + this.pathAddOnResultSid + \"/Payloads/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Payload delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.recording.addonresult;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class PayloadFetcher extends Fetcher<Payload> {\n    private String referenceSid;\n    private String addOnResultSid;\n    private String sid;\n    private String accountSid;\n\n    public PayloadFetcher(final String referenceSid, final String addOnResultSid, final String sid){\n        this.referenceSid = referenceSid;\n        this.addOnResultSid = addOnResultSid;\n        this.sid = sid;\n    }\n    public PayloadFetcher(final String accountSid, final String referenceSid, final String addOnResultSid, final String sid){\n        this.accountSid = accountSid;\n        this.referenceSid = referenceSid;\n        this.addOnResultSid = addOnResultSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Payload fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Recordings/{ReferenceSid}/AddOnResults/{AddOnResultSid}/Payloads/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"ReferenceSid\"+\"}\", this.referenceSid.toString());\n        path = path.replace(\"{\"+\"AddOnResultSid\"+\"}\", this.addOnResultSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Payload fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Payload.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.recording.addonresult;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class PayloadFetcher extends Fetcher<Payload> {\n    private String pathAccountSid;\n    private final String pathReferenceSid;\n    private final String pathAddOnResultSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new PayloadFetcher.\n     *\n     * @param pathReferenceSid The SID of the recording to which the AddOnResult\n     *                         resource that contains the payload to fetch belongs\n     * @param pathAddOnResultSid The SID of the AddOnResult to which the payload to\n     *                           fetch belongs\n     * @param pathSid The unique string that identifies the resource to fetch\n     */\n    public PayloadFetcher(final String pathReferenceSid,\n                          final String pathAddOnResultSid,\n                          final String pathSid) {\n        this.pathReferenceSid = pathReferenceSid;\n        this.pathAddOnResultSid = pathAddOnResultSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new PayloadFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathReferenceSid The SID of the recording to which the AddOnResult\n     *                         resource that contains the payload to fetch belongs\n     * @param pathAddOnResultSid The SID of the AddOnResult to which the payload to\n     *                           fetch belongs\n     * @param pathSid The unique string that identifies the resource to fetch\n     */\n    public PayloadFetcher(final String pathAccountSid,\n                          final String pathReferenceSid,\n                          final String pathAddOnResultSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathReferenceSid = pathReferenceSid;\n        this.pathAddOnResultSid = pathAddOnResultSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Payload\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Payload fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Recordings/\" + this.pathReferenceSid + \"/AddOnResults/\" + this.pathAddOnResultSid + \"/Payloads/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Payload fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Payload.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":64}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialListDeleter extends Deleter<CredentialList> {\n    private String sid;\n    private String accountSid;\n\n    public CredentialListDeleter(final String sid){\n        this.sid = sid;\n    }\n    public CredentialListDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/CredentialLists/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CredentialList delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialListDeleter extends Deleter<CredentialList> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new CredentialListDeleter.\n     *\n     * @param pathSid Delete by unique credential list Sid\n     */\n    public CredentialListDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CredentialListDeleter.\n     *\n     * @param pathAccountSid The unique id of the Account that is responsible for\n     *                       this resource.\n     * @param pathSid Delete by unique credential list Sid\n     */\n    public CredentialListDeleter(final String pathAccountSid,\n                                 final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/CredentialLists/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CredentialList delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialListFetcher extends Fetcher<CredentialList> {\n    private String sid;\n    private String accountSid;\n\n    public CredentialListFetcher(final String sid){\n        this.sid = sid;\n    }\n    public CredentialListFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public CredentialList fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/CredentialLists/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"CredentialList fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CredentialList.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialListFetcher extends Fetcher<CredentialList> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new CredentialListFetcher.\n     *\n     * @param pathSid Fetch by unique credential list Sid\n     */\n    public CredentialListFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CredentialListFetcher.\n     *\n     * @param pathAccountSid The unique id of the Account that is responsible for\n     *                       this resource.\n     * @param pathSid Fetch by unique credential list Sid\n     */\n    public CredentialListFetcher(final String pathAccountSid,\n                                 final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched CredentialList\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public CredentialList fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/CredentialLists/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CredentialList fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CredentialList.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialListUpdater extends Updater<CredentialList>{\n    private String sid;\n    private String friendlyName;\n    private String accountSid;\n\n    public CredentialListUpdater(final String sid, final String friendlyName){\n        this.sid = sid;\n        this.friendlyName = friendlyName;\n    }\n    public CredentialListUpdater(final String accountSid, final String sid, final String friendlyName){\n        this.accountSid = accountSid;\n        this.sid = sid;\n        this.friendlyName = friendlyName;\n    }\n\n    public CredentialListUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public CredentialList update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/CredentialLists/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"CredentialList update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CredentialList.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialListUpdater extends Updater<CredentialList> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private final String friendlyName;\n\n    /**\n     * Construct a new CredentialListUpdater.\n     *\n     * @param pathSid Update by unique credential list Sid\n     * @param friendlyName Human readable descriptive text\n     */\n    public CredentialListUpdater(final String pathSid,\n                                 final String friendlyName) {\n        this.pathSid = pathSid;\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Construct a new CredentialListUpdater.\n     *\n     * @param pathAccountSid The unique id of the Account that is responsible for\n     *                       this resource.\n     * @param pathSid Update by unique credential list Sid\n     * @param friendlyName Human readable descriptive text\n     */\n    public CredentialListUpdater(final String pathAccountSid,\n                                 final String pathSid,\n                                 final String friendlyName) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated CredentialList\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public CredentialList update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/CredentialLists/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CredentialList update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CredentialList.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":65}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class DomainDeleter extends Deleter<Domain> {\n    private String sid;\n    private String accountSid;\n\n    public DomainDeleter(final String sid){\n        this.sid = sid;\n    }\n    public DomainDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Domain delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class DomainDeleter extends Deleter<Domain> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new DomainDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public DomainDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new DomainDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public DomainDeleter(final String pathAccountSid,\n                         final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Domain delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class DomainFetcher extends Fetcher<Domain> {\n    private String sid;\n    private String accountSid;\n\n    public DomainFetcher(final String sid){\n        this.sid = sid;\n    }\n    public DomainFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Domain fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Domain fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Domain.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class DomainFetcher extends Fetcher<Domain> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new DomainFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public DomainFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new DomainFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public DomainFetcher(final String pathAccountSid,\n                         final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Domain\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Domain fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Domain fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Domain.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class DomainUpdater extends Updater<Domain>{\n    private String sid;\n    private String accountSid;\n    private String friendlyName;\n    private HttpMethod voiceFallbackMethod;\n    private URI voiceFallbackUrl;\n    private HttpMethod voiceMethod;\n    private HttpMethod voiceStatusCallbackMethod;\n    private URI voiceStatusCallbackUrl;\n    private URI voiceUrl;\n    private Boolean sipRegistration;\n    private String domainName;\n    private Boolean emergencyCallingEnabled;\n    private Boolean secure;\n    private String byocTrunkSid;\n    private String emergencyCallerSid;\n\n    public DomainUpdater(final String sid){\n        this.sid = sid;\n    }\n    public DomainUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public DomainUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public DomainUpdater setVoiceFallbackMethod(final HttpMethod voiceFallbackMethod){\n        this.voiceFallbackMethod = voiceFallbackMethod;\n        return this;\n    }\n    public DomainUpdater setVoiceFallbackUrl(final URI voiceFallbackUrl){\n        this.voiceFallbackUrl = voiceFallbackUrl;\n        return this;\n    }\n\n    public DomainUpdater setVoiceFallbackUrl(final String voiceFallbackUrl){\n    this.voiceFallbackUrl = Promoter.uriFromString(voiceFallbackUrl);\n    return this;\n    }\n    public DomainUpdater setVoiceMethod(final HttpMethod voiceMethod){\n        this.voiceMethod = voiceMethod;\n        return this;\n    }\n    public DomainUpdater setVoiceStatusCallbackMethod(final HttpMethod voiceStatusCallbackMethod){\n        this.voiceStatusCallbackMethod = voiceStatusCallbackMethod;\n        return this;\n    }\n    public DomainUpdater setVoiceStatusCallbackUrl(final URI voiceStatusCallbackUrl){\n        this.voiceStatusCallbackUrl = voiceStatusCallbackUrl;\n        return this;\n    }\n\n    public DomainUpdater setVoiceStatusCallbackUrl(final String voiceStatusCallbackUrl){\n    this.voiceStatusCallbackUrl = Promoter.uriFromString(voiceStatusCallbackUrl);\n    return this;\n    }\n    public DomainUpdater setVoiceUrl(final URI voiceUrl){\n        this.voiceUrl = voiceUrl;\n        return this;\n    }\n\n    public DomainUpdater setVoiceUrl(final String voiceUrl){\n    this.voiceUrl = Promoter.uriFromString(voiceUrl);\n    return this;\n    }\n    public DomainUpdater setSipRegistration(final Boolean sipRegistration){\n        this.sipRegistration = sipRegistration;\n        return this;\n    }\n    public DomainUpdater setDomainName(final String domainName){\n        this.domainName = domainName;\n        return this;\n    }\n    public DomainUpdater setEmergencyCallingEnabled(final Boolean emergencyCallingEnabled){\n        this.emergencyCallingEnabled = emergencyCallingEnabled;\n        return this;\n    }\n    public DomainUpdater setSecure(final Boolean secure){\n        this.secure = secure;\n        return this;\n    }\n    public DomainUpdater setByocTrunkSid(final String byocTrunkSid){\n        this.byocTrunkSid = byocTrunkSid;\n        return this;\n    }\n    public DomainUpdater setEmergencyCallerSid(final String emergencyCallerSid){\n        this.emergencyCallerSid = emergencyCallerSid;\n        return this;\n    }\n\n    @Override\n    public Domain update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Domain update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Domain.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (voiceFallbackMethod != null) {\n            request.addPostParam(\"VoiceFallbackMethod\", voiceFallbackMethod.toString());\n    \n        }\n        if (voiceFallbackUrl != null) {\n            request.addPostParam(\"VoiceFallbackUrl\", voiceFallbackUrl.toString());\n    \n        }\n        if (voiceMethod != null) {\n            request.addPostParam(\"VoiceMethod\", voiceMethod.toString());\n    \n        }\n        if (voiceStatusCallbackMethod != null) {\n            request.addPostParam(\"VoiceStatusCallbackMethod\", voiceStatusCallbackMethod.toString());\n    \n        }\n        if (voiceStatusCallbackUrl != null) {\n            request.addPostParam(\"VoiceStatusCallbackUrl\", voiceStatusCallbackUrl.toString());\n    \n        }\n        if (voiceUrl != null) {\n            request.addPostParam(\"VoiceUrl\", voiceUrl.toString());\n    \n        }\n        if (sipRegistration != null) {\n            request.addPostParam(\"SipRegistration\", sipRegistration.toString());\n    \n        }\n        if (domainName != null) {\n            request.addPostParam(\"DomainName\", domainName);\n    \n        }\n        if (emergencyCallingEnabled != null) {\n            request.addPostParam(\"EmergencyCallingEnabled\", emergencyCallingEnabled.toString());\n    \n        }\n        if (secure != null) {\n            request.addPostParam(\"Secure\", secure.toString());\n    \n        }\n        if (byocTrunkSid != null) {\n            request.addPostParam(\"ByocTrunkSid\", byocTrunkSid);\n    \n        }\n        if (emergencyCallerSid != null) {\n            request.addPostParam(\"EmergencyCallerSid\", emergencyCallerSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class DomainUpdater extends Updater<Domain> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private String friendlyName;\n    private HttpMethod voiceFallbackMethod;\n    private URI voiceFallbackUrl;\n    private HttpMethod voiceMethod;\n    private HttpMethod voiceStatusCallbackMethod;\n    private URI voiceStatusCallbackUrl;\n    private URI voiceUrl;\n    private Boolean sipRegistration;\n    private String domainName;\n    private Boolean emergencyCallingEnabled;\n    private Boolean secure;\n    private String byocTrunkSid;\n    private String emergencyCallerSid;\n\n    /**\n     * Construct a new DomainUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public DomainUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new DomainUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       update\n     * @param pathSid The unique string that identifies the resource\n     */\n    public DomainUpdater(final String pathAccountSid,\n                         final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * A descriptive string that you created to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public DomainUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The HTTP method we should use to call `voice_fallback_url`. Can be: `GET` or\n     * `POST`..\n     *\n     * @param voiceFallbackMethod The HTTP method used with voice_fallback_url\n     * @return this\n     */\n    public DomainUpdater setVoiceFallbackMethod(final HttpMethod voiceFallbackMethod) {\n        this.voiceFallbackMethod = voiceFallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs while retrieving or\n     * executing the TwiML requested by `voice_url`..\n     *\n     * @param voiceFallbackUrl The URL we should call when an error occurs in\n     *                         executing TwiML\n     * @return this\n     */\n    public DomainUpdater setVoiceFallbackUrl(final URI voiceFallbackUrl) {\n        this.voiceFallbackUrl = voiceFallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs while retrieving or\n     * executing the TwiML requested by `voice_url`..\n     *\n     * @param voiceFallbackUrl The URL we should call when an error occurs in\n     *                         executing TwiML\n     * @return this\n     */\n    public DomainUpdater setVoiceFallbackUrl(final String voiceFallbackUrl) {\n        return setVoiceFallbackUrl(Promoter.uriFromString(voiceFallbackUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `voice_url`.\n     *\n     * @param voiceMethod The HTTP method we should use with voice_url\n     * @return this\n     */\n    public DomainUpdater setVoiceMethod(final HttpMethod voiceMethod) {\n        this.voiceMethod = voiceMethod;\n        return this;\n    }\n\n    /**\n     * The HTTP method we should use to call `voice_status_callback_url`. Can be:\n     * `GET` or `POST`..\n     *\n     * @param voiceStatusCallbackMethod The HTTP method we should use to call\n     *                                  voice_status_callback_url\n     * @return this\n     */\n    public DomainUpdater setVoiceStatusCallbackMethod(final HttpMethod voiceStatusCallbackMethod) {\n        this.voiceStatusCallbackMethod = voiceStatusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call to pass status parameters (such as call ended) to\n     * your application..\n     *\n     * @param voiceStatusCallbackUrl The URL that we should call to pass status\n     *                               updates\n     * @return this\n     */\n    public DomainUpdater setVoiceStatusCallbackUrl(final URI voiceStatusCallbackUrl) {\n        this.voiceStatusCallbackUrl = voiceStatusCallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call to pass status parameters (such as call ended) to\n     * your application..\n     *\n     * @param voiceStatusCallbackUrl The URL that we should call to pass status\n     *                               updates\n     * @return this\n     */\n    public DomainUpdater setVoiceStatusCallbackUrl(final String voiceStatusCallbackUrl) {\n        return setVoiceStatusCallbackUrl(Promoter.uriFromString(voiceStatusCallbackUrl));\n    }\n\n    /**\n     * The URL we should call when the domain receives a call..\n     *\n     * @param voiceUrl The URL we should call when receiving a call\n     * @return this\n     */\n    public DomainUpdater setVoiceUrl(final URI voiceUrl) {\n        this.voiceUrl = voiceUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the domain receives a call..\n     *\n     * @param voiceUrl The URL we should call when receiving a call\n     * @return this\n     */\n    public DomainUpdater setVoiceUrl(final String voiceUrl) {\n        return setVoiceUrl(Promoter.uriFromString(voiceUrl));\n    }\n\n    /**\n     * Whether to allow SIP Endpoints to register with the domain to receive calls.\n     * Can be `true` or `false`. `true` allows SIP Endpoints to register with the\n     * domain to receive calls, `false` does not..\n     *\n     * @param sipRegistration Whether SIP registration is allowed\n     * @return this\n     */\n    public DomainUpdater setSipRegistration(final Boolean sipRegistration) {\n        this.sipRegistration = sipRegistration;\n        return this;\n    }\n\n    /**\n     * The unique address you reserve on Twilio to which you route your SIP traffic.\n     * Domain names can contain letters, digits, and \"-\" and must end with\n     * `sip.twilio.com`..\n     *\n     * @param domainName The unique address on Twilio to route SIP traffic\n     * @return this\n     */\n    public DomainUpdater setDomainName(final String domainName) {\n        this.domainName = domainName;\n        return this;\n    }\n\n    /**\n     * Whether emergency calling is enabled for the domain. If enabled, allows\n     * emergency calls on the domain from phone numbers with validated addresses..\n     *\n     * @param emergencyCallingEnabled Whether emergency calling is enabled for the\n     *                                domain.\n     * @return this\n     */\n    public DomainUpdater setEmergencyCallingEnabled(final Boolean emergencyCallingEnabled) {\n        this.emergencyCallingEnabled = emergencyCallingEnabled;\n        return this;\n    }\n\n    /**\n     * Whether secure SIP is enabled for the domain. If enabled, TLS will be\n     * enforced and SRTP will be negotiated on all incoming calls to this sip\n     * domain..\n     *\n     * @param secure Whether secure SIP is enabled for the domain\n     * @return this\n     */\n    public DomainUpdater setSecure(final Boolean secure) {\n        this.secure = secure;\n        return this;\n    }\n\n    /**\n     * The SID of the BYOC Trunk(Bring Your Own Carrier) resource that the Sip\n     * Domain will be associated with..\n     *\n     * @param byocTrunkSid The SID of the BYOC Trunk resource.\n     * @return this\n     */\n    public DomainUpdater setByocTrunkSid(final String byocTrunkSid) {\n        this.byocTrunkSid = byocTrunkSid;\n        return this;\n    }\n\n    /**\n     * Whether an emergency caller sid is configured for the domain. If present,\n     * this phone number will be used as the callback for the emergency call..\n     *\n     * @param emergencyCallerSid Whether an emergency caller sid is configured for\n     *                           the domain.\n     * @return this\n     */\n    public DomainUpdater setEmergencyCallerSid(final String emergencyCallerSid) {\n        this.emergencyCallerSid = emergencyCallerSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Domain\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Domain update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Domain update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Domain.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (voiceFallbackMethod != null) {\n            request.addPostParam(\"VoiceFallbackMethod\", voiceFallbackMethod.toString());\n        }\n\n        if (voiceFallbackUrl != null) {\n            request.addPostParam(\"VoiceFallbackUrl\", voiceFallbackUrl.toString());\n        }\n\n        if (voiceMethod != null) {\n            request.addPostParam(\"VoiceMethod\", voiceMethod.toString());\n        }\n\n        if (voiceStatusCallbackMethod != null) {\n            request.addPostParam(\"VoiceStatusCallbackMethod\", voiceStatusCallbackMethod.toString());\n        }\n\n        if (voiceStatusCallbackUrl != null) {\n            request.addPostParam(\"VoiceStatusCallbackUrl\", voiceStatusCallbackUrl.toString());\n        }\n\n        if (voiceUrl != null) {\n            request.addPostParam(\"VoiceUrl\", voiceUrl.toString());\n        }\n\n        if (sipRegistration != null) {\n            request.addPostParam(\"SipRegistration\", sipRegistration.toString());\n        }\n\n        if (domainName != null) {\n            request.addPostParam(\"DomainName\", domainName);\n        }\n\n        if (emergencyCallingEnabled != null) {\n            request.addPostParam(\"EmergencyCallingEnabled\", emergencyCallingEnabled.toString());\n        }\n\n        if (secure != null) {\n            request.addPostParam(\"Secure\", secure.toString());\n        }\n\n        if (byocTrunkSid != null) {\n            request.addPostParam(\"ByocTrunkSid\", byocTrunkSid);\n        }\n\n        if (emergencyCallerSid != null) {\n            request.addPostParam(\"EmergencyCallerSid\", emergencyCallerSid);\n        }\n    }\n}\n","lineNo":140}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpAccessControlListDeleter extends Deleter<IpAccessControlList> {\n    private String sid;\n    private String accountSid;\n\n    public IpAccessControlListDeleter(final String sid){\n        this.sid = sid;\n    }\n    public IpAccessControlListDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/IpAccessControlLists/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAccessControlList delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpAccessControlListDeleter extends Deleter<IpAccessControlList> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new IpAccessControlListDeleter.\n     *\n     * @param pathSid A string that identifies the resource to delete\n     */\n    public IpAccessControlListDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IpAccessControlListDeleter.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathSid A string that identifies the resource to delete\n     */\n    public IpAccessControlListDeleter(final String pathAccountSid,\n                                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/IpAccessControlLists/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAccessControlList delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpAccessControlListFetcher extends Fetcher<IpAccessControlList> {\n    private String sid;\n    private String accountSid;\n\n    public IpAccessControlListFetcher(final String sid){\n        this.sid = sid;\n    }\n    public IpAccessControlListFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public IpAccessControlList fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/IpAccessControlLists/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"IpAccessControlList fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAccessControlList.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpAccessControlListFetcher extends Fetcher<IpAccessControlList> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new IpAccessControlListFetcher.\n     *\n     * @param pathSid A string that identifies the resource to fetch\n     */\n    public IpAccessControlListFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IpAccessControlListFetcher.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathSid A string that identifies the resource to fetch\n     */\n    public IpAccessControlListFetcher(final String pathAccountSid,\n                                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched IpAccessControlList\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IpAccessControlList fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/IpAccessControlLists/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAccessControlList fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAccessControlList.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpAccessControlListUpdater extends Updater<IpAccessControlList>{\n    private String sid;\n    private String friendlyName;\n    private String accountSid;\n\n    public IpAccessControlListUpdater(final String sid, final String friendlyName){\n        this.sid = sid;\n        this.friendlyName = friendlyName;\n    }\n    public IpAccessControlListUpdater(final String accountSid, final String sid, final String friendlyName){\n        this.accountSid = accountSid;\n        this.sid = sid;\n        this.friendlyName = friendlyName;\n    }\n\n    public IpAccessControlListUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public IpAccessControlList update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/IpAccessControlLists/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAccessControlList update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAccessControlList.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpAccessControlListUpdater extends Updater<IpAccessControlList> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private final String friendlyName;\n\n    /**\n     * Construct a new IpAccessControlListUpdater.\n     *\n     * @param pathSid A string that identifies the resource to update\n     * @param friendlyName A human readable description of this resource\n     */\n    public IpAccessControlListUpdater(final String pathSid,\n                                      final String friendlyName) {\n        this.pathSid = pathSid;\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Construct a new IpAccessControlListUpdater.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathSid A string that identifies the resource to update\n     * @param friendlyName A human readable description of this resource\n     */\n    public IpAccessControlListUpdater(final String pathAccountSid,\n                                      final String pathSid,\n                                      final String friendlyName) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated IpAccessControlList\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IpAccessControlList update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/IpAccessControlLists/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAccessControlList update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAccessControlList.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":65}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.credentiallist;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialDeleter extends Deleter<Credential> {\n    private String credentialListSid;\n    private String sid;\n    private String accountSid;\n\n    public CredentialDeleter(final String credentialListSid, final String sid){\n        this.credentialListSid = credentialListSid;\n        this.sid = sid;\n    }\n    public CredentialDeleter(final String accountSid, final String credentialListSid, final String sid){\n        this.accountSid = accountSid;\n        this.credentialListSid = credentialListSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/CredentialLists/{CredentialListSid}/Credentials/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CredentialListSid\"+\"}\", this.credentialListSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.credentiallist;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialDeleter extends Deleter<Credential> {\n    private String pathAccountSid;\n    private final String pathCredentialListSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new CredentialDeleter.\n     *\n     * @param pathCredentialListSid The unique id that identifies the credential\n     *                              list that contains the desired credentials\n     * @param pathSid The unique id that identifies the resource to delete\n     */\n    public CredentialDeleter(final String pathCredentialListSid,\n                             final String pathSid) {\n        this.pathCredentialListSid = pathCredentialListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CredentialDeleter.\n     *\n     * @param pathAccountSid The unique id of the Account that is responsible for\n     *                       this resource.\n     * @param pathCredentialListSid The unique id that identifies the credential\n     *                              list that contains the desired credentials\n     * @param pathSid The unique id that identifies the resource to delete\n     */\n    public CredentialDeleter(final String pathAccountSid,\n                             final String pathCredentialListSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCredentialListSid = pathCredentialListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/CredentialLists/\" + this.pathCredentialListSid + \"/Credentials/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.credentiallist;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialFetcher extends Fetcher<Credential> {\n    private String credentialListSid;\n    private String sid;\n    private String accountSid;\n\n    public CredentialFetcher(final String credentialListSid, final String sid){\n        this.credentialListSid = credentialListSid;\n        this.sid = sid;\n    }\n    public CredentialFetcher(final String accountSid, final String credentialListSid, final String sid){\n        this.accountSid = accountSid;\n        this.credentialListSid = credentialListSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Credential fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/CredentialLists/{CredentialListSid}/Credentials/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CredentialListSid\"+\"}\", this.credentialListSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Credential fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.credentiallist;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialFetcher extends Fetcher<Credential> {\n    private String pathAccountSid;\n    private final String pathCredentialListSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new CredentialFetcher.\n     *\n     * @param pathCredentialListSid The unique id that identifies the credential\n     *                              list that contains the desired credential\n     * @param pathSid The unique id that identifies the resource to fetch.\n     */\n    public CredentialFetcher(final String pathCredentialListSid,\n                             final String pathSid) {\n        this.pathCredentialListSid = pathCredentialListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CredentialFetcher.\n     *\n     * @param pathAccountSid The unique id of the Account that is responsible for\n     *                       this resource.\n     * @param pathCredentialListSid The unique id that identifies the credential\n     *                              list that contains the desired credential\n     * @param pathSid The unique id that identifies the resource to fetch.\n     */\n    public CredentialFetcher(final String pathAccountSid,\n                             final String pathCredentialListSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCredentialListSid = pathCredentialListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Credential\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Credential fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/CredentialLists/\" + this.pathCredentialListSid + \"/Credentials/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.credentiallist;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialUpdater extends Updater<Credential>{\n    private String credentialListSid;\n    private String sid;\n    private String accountSid;\n    private String password;\n\n    public CredentialUpdater(final String credentialListSid, final String sid){\n        this.credentialListSid = credentialListSid;\n        this.sid = sid;\n    }\n    public CredentialUpdater(final String accountSid, final String credentialListSid, final String sid){\n        this.accountSid = accountSid;\n        this.credentialListSid = credentialListSid;\n        this.sid = sid;\n    }\n\n    public CredentialUpdater setPassword(final String password){\n        this.password = password;\n        return this;\n    }\n\n    @Override\n    public Credential update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/CredentialLists/{CredentialListSid}/Credentials/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"CredentialListSid\"+\"}\", this.credentialListSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (password != null) {\n            request.addPostParam(\"Password\", password);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.credentiallist;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialUpdater extends Updater<Credential> {\n    private String pathAccountSid;\n    private final String pathCredentialListSid;\n    private final String pathSid;\n    private String password;\n\n    /**\n     * Construct a new CredentialUpdater.\n     *\n     * @param pathCredentialListSid The unique id that identifies the credential\n     *                              list that includes this credential\n     * @param pathSid The unique id that identifies the resource to update\n     */\n    public CredentialUpdater(final String pathCredentialListSid,\n                             final String pathSid) {\n        this.pathCredentialListSid = pathCredentialListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CredentialUpdater.\n     *\n     * @param pathAccountSid The unique id of the Account that is responsible for\n     *                       this resource\n     * @param pathCredentialListSid The unique id that identifies the credential\n     *                              list that includes this credential\n     * @param pathSid The unique id that identifies the resource to update\n     */\n    public CredentialUpdater(final String pathAccountSid,\n                             final String pathCredentialListSid,\n                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathCredentialListSid = pathCredentialListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * The password that the username will use when authenticating SIP requests. The\n     * password must be a minimum of 12 characters, contain at least 1 digit, and\n     * have mixed case. (eg `IWasAtSignal2018`).\n     *\n     * @param password The password will not be returned in the response\n     * @return this\n     */\n    public CredentialUpdater setPassword(final String password) {\n        this.password = password;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Credential\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Credential update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/CredentialLists/\" + this.pathCredentialListSid + \"/Credentials/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (password != null) {\n            request.addPostParam(\"Password\", password);\n        }\n    }\n}\n","lineNo":66}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialListMappingDeleter extends Deleter<CredentialListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public CredentialListMappingDeleter(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public CredentialListMappingDeleter(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/CredentialListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CredentialListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialListMappingDeleter extends Deleter<CredentialListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new CredentialListMappingDeleter.\n     *\n     * @param pathDomainSid A string that identifies the SIP Domain that includes\n     *                      the resource to delete\n     * @param pathSid A string that identifies the resource to delete\n     */\n    public CredentialListMappingDeleter(final String pathDomainSid,\n                                        final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CredentialListMappingDeleter.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathDomainSid A string that identifies the SIP Domain that includes\n     *                      the resource to delete\n     * @param pathSid A string that identifies the resource to delete\n     */\n    public CredentialListMappingDeleter(final String pathAccountSid,\n                                        final String pathDomainSid,\n                                        final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/CredentialListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CredentialListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialListMappingFetcher extends Fetcher<CredentialListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public CredentialListMappingFetcher(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public CredentialListMappingFetcher(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public CredentialListMapping fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/CredentialListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"CredentialListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CredentialListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialListMappingFetcher extends Fetcher<CredentialListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new CredentialListMappingFetcher.\n     *\n     * @param pathDomainSid A string that identifies the SIP Domain that includes\n     *                      the resource to fetch\n     * @param pathSid A string that identifies the resource to fetch\n     */\n    public CredentialListMappingFetcher(final String pathDomainSid,\n                                        final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new CredentialListMappingFetcher.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathDomainSid A string that identifies the SIP Domain that includes\n     *                      the resource to fetch\n     * @param pathSid A string that identifies the resource to fetch\n     */\n    public CredentialListMappingFetcher(final String pathAccountSid,\n                                        final String pathDomainSid,\n                                        final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched CredentialListMapping\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public CredentialListMapping fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/CredentialListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CredentialListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CredentialListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpAccessControlListMappingDeleter extends Deleter<IpAccessControlListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public IpAccessControlListMappingDeleter(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public IpAccessControlListMappingDeleter(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/IpAccessControlListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAccessControlListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpAccessControlListMappingDeleter extends Deleter<IpAccessControlListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new IpAccessControlListMappingDeleter.\n     *\n     * @param pathDomainSid A string that uniquely identifies the SIP Domain\n     * @param pathSid A 34 character string that uniquely identifies the resource\n     *                to delete.\n     */\n    public IpAccessControlListMappingDeleter(final String pathDomainSid,\n                                             final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IpAccessControlListMappingDeleter.\n     *\n     * @param pathAccountSid The unique id of the Account that is responsible for\n     *                       this resource.\n     * @param pathDomainSid A string that uniquely identifies the SIP Domain\n     * @param pathSid A 34 character string that uniquely identifies the resource\n     *                to delete.\n     */\n    public IpAccessControlListMappingDeleter(final String pathAccountSid,\n                                             final String pathDomainSid,\n                                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/IpAccessControlListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAccessControlListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpAccessControlListMappingFetcher extends Fetcher<IpAccessControlListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public IpAccessControlListMappingFetcher(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public IpAccessControlListMappingFetcher(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public IpAccessControlListMapping fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/IpAccessControlListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"IpAccessControlListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAccessControlListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpAccessControlListMappingFetcher extends Fetcher<IpAccessControlListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new IpAccessControlListMappingFetcher.\n     *\n     * @param pathDomainSid A string that uniquely identifies the SIP Domain\n     * @param pathSid A 34 character string that uniquely identifies the resource\n     *                to fetch.\n     */\n    public IpAccessControlListMappingFetcher(final String pathDomainSid,\n                                             final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IpAccessControlListMappingFetcher.\n     *\n     * @param pathAccountSid The unique id of the Account that is responsible for\n     *                       this resource.\n     * @param pathDomainSid A string that uniquely identifies the SIP Domain\n     * @param pathSid A 34 character string that uniquely identifies the resource\n     *                to fetch.\n     */\n    public IpAccessControlListMappingFetcher(final String pathAccountSid,\n                                             final String pathDomainSid,\n                                             final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched IpAccessControlListMapping\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IpAccessControlListMapping fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/IpAccessControlListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAccessControlListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAccessControlListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtypecalls;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthCallsCredentialListMappingDeleter extends Deleter<AuthCallsCredentialListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public AuthCallsCredentialListMappingDeleter(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public AuthCallsCredentialListMappingDeleter(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/Auth/Calls/CredentialListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthCallsCredentialListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtypecalls;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AuthCallsCredentialListMappingDeleter extends Deleter<AuthCallsCredentialListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AuthCallsCredentialListMappingDeleter.\n     *\n     * @param pathDomainSid The SID of the SIP domain that contains the resource to\n     *                      delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthCallsCredentialListMappingDeleter(final String pathDomainSid,\n                                                 final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AuthCallsCredentialListMappingDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathDomainSid The SID of the SIP domain that contains the resource to\n     *                      delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthCallsCredentialListMappingDeleter(final String pathAccountSid,\n                                                 final String pathDomainSid,\n                                                 final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/Auth/Calls/CredentialListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthCallsCredentialListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtypecalls;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthCallsCredentialListMappingFetcher extends Fetcher<AuthCallsCredentialListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public AuthCallsCredentialListMappingFetcher(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public AuthCallsCredentialListMappingFetcher(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public AuthCallsCredentialListMapping fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/Auth/Calls/CredentialListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"AuthCallsCredentialListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthCallsCredentialListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtypecalls;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AuthCallsCredentialListMappingFetcher extends Fetcher<AuthCallsCredentialListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AuthCallsCredentialListMappingFetcher.\n     *\n     * @param pathDomainSid The SID of the SIP domain that contains the resource to\n     *                      fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthCallsCredentialListMappingFetcher(final String pathDomainSid,\n                                                 final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AuthCallsCredentialListMappingFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathDomainSid The SID of the SIP domain that contains the resource to\n     *                      fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthCallsCredentialListMappingFetcher(final String pathAccountSid,\n                                                 final String pathDomainSid,\n                                                 final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched AuthCallsCredentialListMapping\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AuthCallsCredentialListMapping fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/Auth/Calls/CredentialListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthCallsCredentialListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthCallsCredentialListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtypecalls;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthCallsIpAccessControlListMappingDeleter extends Deleter<AuthCallsIpAccessControlListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public AuthCallsIpAccessControlListMappingDeleter(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public AuthCallsIpAccessControlListMappingDeleter(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/Auth/Calls/IpAccessControlListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthCallsIpAccessControlListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtypecalls;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AuthCallsIpAccessControlListMappingDeleter extends Deleter<AuthCallsIpAccessControlListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AuthCallsIpAccessControlListMappingDeleter.\n     *\n     * @param pathDomainSid The SID of the SIP domain that contains the resources\n     *                      to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthCallsIpAccessControlListMappingDeleter(final String pathDomainSid,\n                                                      final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AuthCallsIpAccessControlListMappingDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathDomainSid The SID of the SIP domain that contains the resources\n     *                      to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthCallsIpAccessControlListMappingDeleter(final String pathAccountSid,\n                                                      final String pathDomainSid,\n                                                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/Auth/Calls/IpAccessControlListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthCallsIpAccessControlListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtypecalls;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthCallsIpAccessControlListMappingFetcher extends Fetcher<AuthCallsIpAccessControlListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public AuthCallsIpAccessControlListMappingFetcher(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public AuthCallsIpAccessControlListMappingFetcher(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public AuthCallsIpAccessControlListMapping fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/Auth/Calls/IpAccessControlListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"AuthCallsIpAccessControlListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthCallsIpAccessControlListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtypecalls;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AuthCallsIpAccessControlListMappingFetcher extends Fetcher<AuthCallsIpAccessControlListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AuthCallsIpAccessControlListMappingFetcher.\n     *\n     * @param pathDomainSid The SID of the SIP domain that contains the resource to\n     *                      fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthCallsIpAccessControlListMappingFetcher(final String pathDomainSid,\n                                                      final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AuthCallsIpAccessControlListMappingFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathDomainSid The SID of the SIP domain that contains the resource to\n     *                      fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthCallsIpAccessControlListMappingFetcher(final String pathAccountSid,\n                                                      final String pathDomainSid,\n                                                      final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched AuthCallsIpAccessControlListMapping\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AuthCallsIpAccessControlListMapping fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/Auth/Calls/IpAccessControlListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthCallsIpAccessControlListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthCallsIpAccessControlListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtyperegistrations;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthRegistrationsCredentialListMappingDeleter extends Deleter<AuthRegistrationsCredentialListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public AuthRegistrationsCredentialListMappingDeleter(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public AuthRegistrationsCredentialListMappingDeleter(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/Auth/Registrations/CredentialListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthRegistrationsCredentialListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtyperegistrations;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AuthRegistrationsCredentialListMappingDeleter extends Deleter<AuthRegistrationsCredentialListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AuthRegistrationsCredentialListMappingDeleter.\n     *\n     * @param pathDomainSid The SID of the SIP domain that contains the resources\n     *                      to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthRegistrationsCredentialListMappingDeleter(final String pathDomainSid,\n                                                         final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AuthRegistrationsCredentialListMappingDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathDomainSid The SID of the SIP domain that contains the resources\n     *                      to delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthRegistrationsCredentialListMappingDeleter(final String pathAccountSid,\n                                                         final String pathDomainSid,\n                                                         final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/Auth/Registrations/CredentialListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthRegistrationsCredentialListMapping delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtyperegistrations;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthRegistrationsCredentialListMappingFetcher extends Fetcher<AuthRegistrationsCredentialListMapping> {\n    private String domainSid;\n    private String sid;\n    private String accountSid;\n\n    public AuthRegistrationsCredentialListMappingFetcher(final String domainSid, final String sid){\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n    public AuthRegistrationsCredentialListMappingFetcher(final String accountSid, final String domainSid, final String sid){\n        this.accountSid = accountSid;\n        this.domainSid = domainSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public AuthRegistrationsCredentialListMapping fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/Domains/{DomainSid}/Auth/Registrations/CredentialListMappings/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"DomainSid\"+\"}\", this.domainSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"AuthRegistrationsCredentialListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthRegistrationsCredentialListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.domain.authtypes.authtyperegistrations;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AuthRegistrationsCredentialListMappingFetcher extends Fetcher<AuthRegistrationsCredentialListMapping> {\n    private String pathAccountSid;\n    private final String pathDomainSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new AuthRegistrationsCredentialListMappingFetcher.\n     *\n     * @param pathDomainSid The SID of the SIP domain that contains the resource to\n     *                      fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthRegistrationsCredentialListMappingFetcher(final String pathDomainSid,\n                                                         final String pathSid) {\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new AuthRegistrationsCredentialListMappingFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathDomainSid The SID of the SIP domain that contains the resource to\n     *                      fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public AuthRegistrationsCredentialListMappingFetcher(final String pathAccountSid,\n                                                         final String pathDomainSid,\n                                                         final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathDomainSid = pathDomainSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched AuthRegistrationsCredentialListMapping\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AuthRegistrationsCredentialListMapping fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/Domains/\" + this.pathDomainSid + \"/Auth/Registrations/CredentialListMappings/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthRegistrationsCredentialListMapping fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthRegistrationsCredentialListMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.ipaccesscontrollist;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpAddressDeleter extends Deleter<IpAddress> {\n    private String ipAccessControlListSid;\n    private String sid;\n    private String accountSid;\n\n    public IpAddressDeleter(final String ipAccessControlListSid, final String sid){\n        this.ipAccessControlListSid = ipAccessControlListSid;\n        this.sid = sid;\n    }\n    public IpAddressDeleter(final String accountSid, final String ipAccessControlListSid, final String sid){\n        this.accountSid = accountSid;\n        this.ipAccessControlListSid = ipAccessControlListSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/IpAccessControlLists/{IpAccessControlListSid}/IpAddresses/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"IpAccessControlListSid\"+\"}\", this.ipAccessControlListSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAddress delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.ipaccesscontrollist;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpAddressDeleter extends Deleter<IpAddress> {\n    private String pathAccountSid;\n    private final String pathIpAccessControlListSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new IpAddressDeleter.\n     *\n     * @param pathIpAccessControlListSid The IpAccessControlList Sid that\n     *                                   identifies the IpAddress resources to\n     *                                   delete\n     * @param pathSid A string that identifies the resource to delete\n     */\n    public IpAddressDeleter(final String pathIpAccessControlListSid,\n                            final String pathSid) {\n        this.pathIpAccessControlListSid = pathIpAccessControlListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IpAddressDeleter.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathIpAccessControlListSid The IpAccessControlList Sid that\n     *                                   identifies the IpAddress resources to\n     *                                   delete\n     * @param pathSid A string that identifies the resource to delete\n     */\n    public IpAddressDeleter(final String pathAccountSid,\n                            final String pathIpAccessControlListSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathIpAccessControlListSid = pathIpAccessControlListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/IpAccessControlLists/\" + this.pathIpAccessControlListSid + \"/IpAddresses/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAddress delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":60}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.ipaccesscontrollist;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpAddressFetcher extends Fetcher<IpAddress> {\n    private String ipAccessControlListSid;\n    private String sid;\n    private String accountSid;\n\n    public IpAddressFetcher(final String ipAccessControlListSid, final String sid){\n        this.ipAccessControlListSid = ipAccessControlListSid;\n        this.sid = sid;\n    }\n    public IpAddressFetcher(final String accountSid, final String ipAccessControlListSid, final String sid){\n        this.accountSid = accountSid;\n        this.ipAccessControlListSid = ipAccessControlListSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public IpAddress fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/IpAccessControlLists/{IpAccessControlListSid}/IpAddresses/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"IpAccessControlListSid\"+\"}\", this.ipAccessControlListSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"IpAddress fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAddress.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.ipaccesscontrollist;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpAddressFetcher extends Fetcher<IpAddress> {\n    private String pathAccountSid;\n    private final String pathIpAccessControlListSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new IpAddressFetcher.\n     *\n     * @param pathIpAccessControlListSid The IpAccessControlList Sid that\n     *                                   identifies the IpAddress resources to fetch\n     * @param pathSid A string that identifies the IpAddress resource to fetch\n     */\n    public IpAddressFetcher(final String pathIpAccessControlListSid,\n                            final String pathSid) {\n        this.pathIpAccessControlListSid = pathIpAccessControlListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IpAddressFetcher.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathIpAccessControlListSid The IpAccessControlList Sid that\n     *                                   identifies the IpAddress resources to fetch\n     * @param pathSid A string that identifies the IpAddress resource to fetch\n     */\n    public IpAddressFetcher(final String pathAccountSid,\n                            final String pathIpAccessControlListSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathIpAccessControlListSid = pathIpAccessControlListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched IpAddress\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IpAddress fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/IpAccessControlLists/\" + this.pathIpAccessControlListSid + \"/IpAddresses/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAddress fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAddress.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.sip.ipaccesscontrollist;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpAddressUpdater extends Updater<IpAddress>{\n    private String ipAccessControlListSid;\n    private String sid;\n    private String accountSid;\n    private String ipAddress;\n    private String friendlyName;\n    private Integer cidrPrefixLength;\n\n    public IpAddressUpdater(final String ipAccessControlListSid, final String sid){\n        this.ipAccessControlListSid = ipAccessControlListSid;\n        this.sid = sid;\n    }\n    public IpAddressUpdater(final String accountSid, final String ipAccessControlListSid, final String sid){\n        this.accountSid = accountSid;\n        this.ipAccessControlListSid = ipAccessControlListSid;\n        this.sid = sid;\n    }\n\n    public IpAddressUpdater setIpAddress(final String ipAddress){\n        this.ipAddress = ipAddress;\n        return this;\n    }\n    public IpAddressUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public IpAddressUpdater setCidrPrefixLength(final Integer cidrPrefixLength){\n        this.cidrPrefixLength = cidrPrefixLength;\n        return this;\n    }\n\n    @Override\n    public IpAddress update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/SIP/IpAccessControlLists/{IpAccessControlListSid}/IpAddresses/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"IpAccessControlListSid\"+\"}\", this.ipAccessControlListSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAddress update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAddress.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (ipAddress != null) {\n            request.addPostParam(\"IpAddress\", ipAddress);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (cidrPrefixLength != null) {\n            request.addPostParam(\"CidrPrefixLength\", cidrPrefixLength.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.sip.ipaccesscontrollist;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpAddressUpdater extends Updater<IpAddress> {\n    private String pathAccountSid;\n    private final String pathIpAccessControlListSid;\n    private final String pathSid;\n    private String ipAddress;\n    private String friendlyName;\n    private Integer cidrPrefixLength;\n\n    /**\n     * Construct a new IpAddressUpdater.\n     *\n     * @param pathIpAccessControlListSid The IpAccessControlList Sid that\n     *                                   identifies the IpAddress resources to\n     *                                   update\n     * @param pathSid A string that identifies the IpAddress resource to update\n     */\n    public IpAddressUpdater(final String pathIpAccessControlListSid,\n                            final String pathSid) {\n        this.pathIpAccessControlListSid = pathIpAccessControlListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new IpAddressUpdater.\n     *\n     * @param pathAccountSid The unique sid that identifies this account\n     * @param pathIpAccessControlListSid The IpAccessControlList Sid that\n     *                                   identifies the IpAddress resources to\n     *                                   update\n     * @param pathSid A string that identifies the IpAddress resource to update\n     */\n    public IpAddressUpdater(final String pathAccountSid,\n                            final String pathIpAccessControlListSid,\n                            final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathIpAccessControlListSid = pathIpAccessControlListSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * An IP address in dotted decimal notation from which you want to accept\n     * traffic. Any SIP requests from this IP address will be allowed by Twilio.\n     * IPv4 only supported today..\n     *\n     * @param ipAddress An IP address in dotted decimal notation from which you\n     *                  want to accept traffic. Any SIP requests from this IP\n     *                  address will be allowed by Twilio. IPv4 only supported\n     *                  today.\n     * @return this\n     */\n    public IpAddressUpdater setIpAddress(final String ipAddress) {\n        this.ipAddress = ipAddress;\n        return this;\n    }\n\n    /**\n     * A human readable descriptive text for this resource, up to 255 characters\n     * long..\n     *\n     * @param friendlyName A human readable descriptive text for this resource, up\n     *                     to 255 characters long.\n     * @return this\n     */\n    public IpAddressUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * An integer representing the length of the CIDR prefix to use with this IP\n     * address when accepting traffic. By default the entire IP address is used..\n     *\n     * @param cidrPrefixLength An integer representing the length of the CIDR\n     *                         prefix to use with this IP address when accepting\n     *                         traffic. By default the entire IP address is used.\n     * @return this\n     */\n    public IpAddressUpdater setCidrPrefixLength(final Integer cidrPrefixLength) {\n        this.cidrPrefixLength = cidrPrefixLength;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated IpAddress\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IpAddress update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/SIP/IpAccessControlLists/\" + this.pathIpAccessControlListSid + \"/IpAddresses/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpAddress update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpAddress.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (ipAddress != null) {\n            request.addPostParam(\"IpAddress\", ipAddress);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (cidrPrefixLength != null) {\n            request.addPostParam(\"CidrPrefixLength\", cidrPrefixLength.toString());\n        }\n    }\n}\n","lineNo":76}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.usage;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TriggerDeleter extends Deleter<Trigger> {\n    private String sid;\n    private String accountSid;\n\n    public TriggerDeleter(final String sid){\n        this.sid = sid;\n    }\n    public TriggerDeleter(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public boolean delete(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Usage/Triggers/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Trigger delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n        return response.getStatusCode() == 204;\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.usage;\n\nimport com.twilio.base.Deleter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TriggerDeleter extends Deleter<Trigger> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new TriggerDeleter.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TriggerDeleter(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new TriggerDeleter.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       delete\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TriggerDeleter(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the delete.\n     *\n     * @param client TwilioRestClient with which to make the request\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public boolean delete(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.DELETE,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Usage/Triggers/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Trigger delete failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return response.getStatusCode() == 204;\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.usage;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TriggerFetcher extends Fetcher<Trigger> {\n    private String sid;\n    private String accountSid;\n\n    public TriggerFetcher(final String sid){\n        this.sid = sid;\n    }\n    public TriggerFetcher(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n\n    @Override\n    public Trigger fetch(final TwilioRestClient client) {\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Usage/Triggers/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Trigger fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Trigger.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.usage;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TriggerFetcher extends Fetcher<Trigger> {\n    private String pathAccountSid;\n    private final String pathSid;\n\n    /**\n     * Construct a new TriggerFetcher.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TriggerFetcher(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new TriggerFetcher.\n     *\n     * @param pathAccountSid The SID of the Account that created the resource to\n     *                       fetch\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TriggerFetcher(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Trigger\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Trigger fetch(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Usage/Triggers/\" + this.pathSid + \".json\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Trigger fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Trigger.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Api\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.api.v2010.account.usage;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n\n\n\n/*\n    * Twilio - Api\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TriggerUpdater extends Updater<Trigger>{\n    private String sid;\n    private String accountSid;\n    private HttpMethod callbackMethod;\n    private URI callbackUrl;\n    private String friendlyName;\n\n    public TriggerUpdater(final String sid){\n        this.sid = sid;\n    }\n    public TriggerUpdater(final String accountSid, final String sid){\n        this.accountSid = accountSid;\n        this.sid = sid;\n    }\n\n    public TriggerUpdater setCallbackMethod(final HttpMethod callbackMethod){\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n    public TriggerUpdater setCallbackUrl(final URI callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    public TriggerUpdater setCallbackUrl(final String callbackUrl){\n    this.callbackUrl = Promoter.uriFromString(callbackUrl);\n    return this;\n    }\n    public TriggerUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Trigger update(final TwilioRestClient client){\n        String path = \"/2010-04-01/Accounts/{AccountSid}/Usage/Triggers/{Sid}.json\";\n\n        this.accountSid = this.accountSid == null ? client.getAccountSid() : this.accountSid;\n        path = path.replace(\"{\"+\"AccountSid\"+\"}\", this.accountSid.toString());\n        path = path.replace(\"{\"+\"Sid\"+\"}\", this.sid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Trigger update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Trigger.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n    \n        }\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.api.v2010.account.usage;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class TriggerUpdater extends Updater<Trigger> {\n    private String pathAccountSid;\n    private final String pathSid;\n    private HttpMethod callbackMethod;\n    private URI callbackUrl;\n    private String friendlyName;\n\n    /**\n     * Construct a new TriggerUpdater.\n     *\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TriggerUpdater(final String pathSid) {\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * Construct a new TriggerUpdater.\n     *\n     * @param pathAccountSid The SID of the Account that created the resources to\n     *                       update\n     * @param pathSid The unique string that identifies the resource\n     */\n    public TriggerUpdater(final String pathAccountSid,\n                          final String pathSid) {\n        this.pathAccountSid = pathAccountSid;\n        this.pathSid = pathSid;\n    }\n\n    /**\n     * The HTTP method we should use to call `callback_url`. Can be: `GET` or `POST`\n     * and the default is `POST`..\n     *\n     * @param callbackMethod The HTTP method to use to call callback_url\n     * @return this\n     */\n    public TriggerUpdater setCallbackMethod(final HttpMethod callbackMethod) {\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL we should call using `callback_method` when the trigger fires..\n     *\n     * @param callbackUrl The URL we call when the trigger fires\n     * @return this\n     */\n    public TriggerUpdater setCallbackUrl(final URI callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call using `callback_method` when the trigger fires..\n     *\n     * @param callbackUrl The URL we call when the trigger fires\n     * @return this\n     */\n    public TriggerUpdater setCallbackUrl(final String callbackUrl) {\n        return setCallbackUrl(Promoter.uriFromString(callbackUrl));\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public TriggerUpdater setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Trigger\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Trigger update(final TwilioRestClient client) {\n        this.pathAccountSid = this.pathAccountSid == null ? client.getAccountSid() : this.pathAccountSid;\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.API.toString(),\n            \"/2010-04-01/Accounts/\" + this.pathAccountSid + \"/Usage/Triggers/\" + this.pathSid + \".json\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Trigger update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Trigger.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n        }\n\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":80}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Autopilot\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.autopilot.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\nimport java.net.URI;\n\nimport java.util.Map;\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Autopilot\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AssistantCreator extends Creator<Assistant>{\n    private String friendlyName;\n    private Boolean logQueries;\n    private String uniqueName;\n    private URI callbackUrl;\n    private String callbackEvents;\n    private Map<String, Object> styleSheet;\n    private Map<String, Object> defaults;\n\n    public AssistantCreator() {\n    }\n\n    public AssistantCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public AssistantCreator setLogQueries(final Boolean logQueries){\n        this.logQueries = logQueries;\n        return this;\n    }\n    public AssistantCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public AssistantCreator setCallbackUrl(final URI callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    public AssistantCreator setCallbackUrl(final String callbackUrl){\n    this.callbackUrl = Promoter.uriFromString(callbackUrl);\n    return this;\n    }\n    public AssistantCreator setCallbackEvents(final String callbackEvents){\n        this.callbackEvents = callbackEvents;\n        return this;\n    }\n    public AssistantCreator setStyleSheet(final Map<String, Object> styleSheet){\n        this.styleSheet = styleSheet;\n        return this;\n    }\n    public AssistantCreator setDefaults(final Map<String, Object> defaults){\n        this.defaults = defaults;\n        return this;\n    }\n\n    @Override\n    public Assistant create(final TwilioRestClient client){\n        String path = \"/v1/Assistants\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.AUTOPILOT.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Assistant creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Assistant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (logQueries != null) {\n            request.addPostParam(\"LogQueries\", logQueries.toString());\n    \n        }\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n    \n        }\n        if (callbackEvents != null) {\n            request.addPostParam(\"CallbackEvents\", callbackEvents);\n    \n        }\n        if (styleSheet != null) {\n            request.addPostParam(\"StyleSheet\",  Converter.mapToJson(styleSheet));\n    \n        }\n        if (defaults != null) {\n            request.addPostParam(\"Defaults\",  Converter.mapToJson(defaults));\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.autopilot.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\nimport java.util.Map;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class AssistantCreator extends Creator<Assistant> {\n    private String friendlyName;\n    private Boolean logQueries;\n    private String uniqueName;\n    private URI callbackUrl;\n    private String callbackEvents;\n    private Map<String, Object> styleSheet;\n    private Map<String, Object> defaults;\n\n    /**\n     * A descriptive string that you create to describe the new resource. It is not\n     * unique and can be up to 255 characters long..\n     *\n     * @param friendlyName A string to describe the new resource\n     * @return this\n     */\n    public AssistantCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Whether queries should be logged and kept after training. Can be: `true` or\n     * `false` and defaults to `true`. If `true`, queries are stored for 30 days,\n     * and then deleted. If `false`, no queries are stored..\n     *\n     * @param logQueries Whether queries should be logged and kept after training\n     * @return this\n     */\n    public AssistantCreator setLogQueries(final Boolean logQueries) {\n        this.logQueries = logQueries;\n        return this;\n    }\n\n    /**\n     * An application-defined string that uniquely identifies the new resource. It\n     * can be used as an alternative to the `sid` in the URL path to address the\n     * resource. The first 64 characters must be unique..\n     *\n     * @param uniqueName An application-defined string that uniquely identifies the\n     *                   new resource\n     * @return this\n     */\n    public AssistantCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * Reserved..\n     *\n     * @param callbackUrl Reserved\n     * @return this\n     */\n    public AssistantCreator setCallbackUrl(final URI callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * Reserved..\n     *\n     * @param callbackUrl Reserved\n     * @return this\n     */\n    public AssistantCreator setCallbackUrl(final String callbackUrl) {\n        return setCallbackUrl(Promoter.uriFromString(callbackUrl));\n    }\n\n    /**\n     * Reserved..\n     *\n     * @param callbackEvents Reserved\n     * @return this\n     */\n    public AssistantCreator setCallbackEvents(final String callbackEvents) {\n        this.callbackEvents = callbackEvents;\n        return this;\n    }\n\n    /**\n     * The JSON string that defines the Assistant's <a\n     * href=\"https://www.twilio.com/docs/autopilot/api/assistant/stylesheet\">style\n     * sheet<\/a>.\n     *\n     * @param styleSheet A JSON string that defines the Assistant's style sheet\n     * @return this\n     */\n    public AssistantCreator setStyleSheet(final Map<String, Object> styleSheet) {\n        this.styleSheet = styleSheet;\n        return this;\n    }\n\n    /**\n     * A JSON object that defines the Assistant's <a\n     * href=\"https://www.twilio.com/docs/autopilot/api/assistant/defaults\">default\n     * tasks<\/a> for various scenarios, including initiation actions and fallback\n     * tasks..\n     *\n     * @param defaults A JSON object that defines the Assistant's default tasks for\n     *                 various scenarios\n     * @return this\n     */\n    public AssistantCreator setDefaults(final Map<String, Object> defaults) {\n        this.defaults = defaults;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Assistant\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Assistant create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.AUTOPILOT.toString(),\n            \"/v1/Assistants\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Assistant creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Assistant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (logQueries != null) {\n            request.addPostParam(\"LogQueries\", logQueries.toString());\n        }\n\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n        }\n\n        if (callbackEvents != null) {\n            request.addPostParam(\"CallbackEvents\", callbackEvents);\n        }\n\n        if (styleSheet != null) {\n            request.addPostParam(\"StyleSheet\", Converter.mapToJson(styleSheet));\n        }\n\n        if (defaults != null) {\n            request.addPostParam(\"Defaults\", Converter.mapToJson(defaults));\n        }\n    }\n}\n","lineNo":98}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Autopilot\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.autopilot.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Autopilot\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AssistantReader extends Reader<Assistant> {\n    private Integer pageSize;\n\n    public AssistantReader(){\n    }\n\n    public AssistantReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Assistant> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Assistant> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Assistants\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.AUTOPILOT.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Assistant> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Assistant read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"assistants\",\n            response.getContent(),\n            Assistant.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Assistant> previousPage(final Page<Assistant> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.AUTOPILOT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Assistant> nextPage(final Page<Assistant> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.AUTOPILOT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Assistant> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.autopilot.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class AssistantReader extends Reader<Assistant> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Assistant ResourceSet\n     */\n    @Override\n    public ResourceSet<Assistant> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Assistant ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Assistant> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.AUTOPILOT.toString(),\n            \"/v1/Assistants\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Assistant ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Assistant> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Assistant> nextPage(final Page<Assistant> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.AUTOPILOT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Assistant> previousPage(final Page<Assistant> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.AUTOPILOT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Assistant Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Assistant> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Assistant read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"assistants\",\n            response.getContent(),\n            Assistant.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Autopilot\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.autopilot.v1;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Autopilot\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RestoreAssistantUpdater extends Updater<RestoreAssistant>{\n    private String assistant;\n\n    public RestoreAssistantUpdater(final String assistant){\n        this.assistant = assistant;\n    }\n\n    public RestoreAssistantUpdater setAssistant(final String assistant){\n        this.assistant = assistant;\n        return this;\n    }\n\n    @Override\n    public RestoreAssistant update(final TwilioRestClient client){\n        String path = \"/v1/Assistants/Restore\";\n\n        path = path.replace(\"{\"+\"Assistant\"+\"}\", this.assistant.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.AUTOPILOT.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"RestoreAssistant update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RestoreAssistant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (assistant != null) {\n            request.addPostParam(\"Assistant\", assistant);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.autopilot.v1;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class RestoreAssistantUpdater extends Updater<RestoreAssistant> {\n    private final String assistant;\n\n    /**\n     * Construct a new RestoreAssistantUpdater.\n     *\n     * @param assistant The unique string that identifies the resource\n     */\n    public RestoreAssistantUpdater(final String assistant) {\n        this.assistant = assistant;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated RestoreAssistant\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public RestoreAssistant update(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.AUTOPILOT.toString(),\n            \"/v1/Assistants/Restore\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RestoreAssistant update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RestoreAssistant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (assistant != null) {\n            request.addPostParam(\"Assistant\", assistant.toString());\n        }\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Chat\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.chat.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Chat\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialCreator extends Creator<Credential>{\n    private Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    public CredentialCreator setType(final Credential.PushService type){\n        this.type = type;\n        return this;\n    }\n    public CredentialCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CredentialCreator setCertificate(final String certificate){\n        this.certificate = certificate;\n        return this;\n    }\n    public CredentialCreator setPrivateKey(final String privateKey){\n        this.privateKey = privateKey;\n        return this;\n    }\n    public CredentialCreator setSandbox(final Boolean sandbox){\n        this.sandbox = sandbox;\n        return this;\n    }\n    public CredentialCreator setApiKey(final String apiKey){\n        this.apiKey = apiKey;\n        return this;\n    }\n    public CredentialCreator setSecret(final String secret){\n        this.secret = secret;\n        return this;\n    }\n\n    @Override\n    public Credential create(final TwilioRestClient client){\n        String path = \"/v1/Credentials\";\n\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CHAT.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n    \n        }\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n    \n        }\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n    \n        }\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n    \n        }\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.chat.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialCreator extends Creator<Credential> {\n    private final Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    /**\n     * Construct a new CredentialCreator.\n     *\n     * @param type The type of push-notification service the credential is for\n     */\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    /**\n     * A descriptive string that you create to describe the new resource. It can be\n     * up to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public CredentialCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * [APN only] The URL encoded representation of the certificate. For example,\n     * `-----BEGIN CERTIFICATE-----\n     * MIIFnTCCBIWgAwIBAgIIAjy9H849+E8wDQYJKoZIhvcNAQEFBQAwgZYxCzAJBgNV.....A==\n     * -----END CERTIFICATE-----`.\n     *\n     * @param certificate [APN only] The URL encoded representation of the\n     *                    certificate\n     * @return this\n     */\n    public CredentialCreator setCertificate(final String certificate) {\n        this.certificate = certificate;\n        return this;\n    }\n\n    /**\n     * [APN only] The URL encoded representation of the private key. For example,\n     * `-----BEGIN RSA PRIVATE KEY-----\n     * MIIEpQIBAAKCAQEAuyf/lNrH9ck8DmNyo3fGgvCI1l9s+cmBY3WIz+cUDqmxiieR.\n     * -----END RSA PRIVATE KEY-----`.\n     *\n     * @param privateKey [APN only] The URL encoded representation of the private\n     *                   key\n     * @return this\n     */\n    public CredentialCreator setPrivateKey(final String privateKey) {\n        this.privateKey = privateKey;\n        return this;\n    }\n\n    /**\n     * [APN only] Whether to send the credential to sandbox APNs. Can be `true` to\n     * send to sandbox APNs or `false` to send to production..\n     *\n     * @param sandbox [APN only] Whether to send the credential to sandbox APNs\n     * @return this\n     */\n    public CredentialCreator setSandbox(final Boolean sandbox) {\n        this.sandbox = sandbox;\n        return this;\n    }\n\n    /**\n     * [GCM only] The API key for the project that was obtained from the Google\n     * Developer console for your GCM Service application credential..\n     *\n     * @param apiKey [GCM only] The API key for the project that was obtained from\n     *               the Google Developer console for your GCM Service application\n     *               credential\n     * @return this\n     */\n    public CredentialCreator setApiKey(final String apiKey) {\n        this.apiKey = apiKey;\n        return this;\n    }\n\n    /**\n     * [FCM only] The **Server key** of your project from the Firebase console,\n     * found under Settings / Cloud messaging..\n     *\n     * @param secret [FCM only] The Server key of your project from Firebase console\n     * @return this\n     */\n    public CredentialCreator setSecret(final String secret) {\n        this.secret = secret;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Credential\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Credential create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CHAT.toString(),\n            \"/v1/Credentials\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n        }\n\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n        }\n\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n        }\n\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n        }\n\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n        }\n    }\n}\n","lineNo":87}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Chat\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.chat.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Chat\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialReader extends Reader<Credential> {\n    private Integer pageSize;\n\n    public CredentialReader(){\n    }\n\n    public CredentialReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Credentials\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CHAT.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.chat.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialReader extends Reader<Credential> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CHAT.toString(),\n            \"/v1/Credentials\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Credential Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Chat\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.chat.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Chat\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v1/Services\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CHAT.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.chat.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceCreator extends Creator<Service> {\n    private final String friendlyName;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param friendlyName A string to describe the resource\n     */\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CHAT.toString(),\n            \"/v1/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Chat\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.chat.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Chat\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CHAT.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.chat.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CHAT.toString(),\n            \"/v1/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Chat\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.chat.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Chat\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialCreator extends Creator<Credential>{\n    private Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    public CredentialCreator setType(final Credential.PushService type){\n        this.type = type;\n        return this;\n    }\n    public CredentialCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CredentialCreator setCertificate(final String certificate){\n        this.certificate = certificate;\n        return this;\n    }\n    public CredentialCreator setPrivateKey(final String privateKey){\n        this.privateKey = privateKey;\n        return this;\n    }\n    public CredentialCreator setSandbox(final Boolean sandbox){\n        this.sandbox = sandbox;\n        return this;\n    }\n    public CredentialCreator setApiKey(final String apiKey){\n        this.apiKey = apiKey;\n        return this;\n    }\n    public CredentialCreator setSecret(final String secret){\n        this.secret = secret;\n        return this;\n    }\n\n    @Override\n    public Credential create(final TwilioRestClient client){\n        String path = \"/v2/Credentials\";\n\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CHAT.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n    \n        }\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n    \n        }\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n    \n        }\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n    \n        }\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.chat.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialCreator extends Creator<Credential> {\n    private final Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    /**\n     * Construct a new CredentialCreator.\n     *\n     * @param type The type of push-notification service the credential is for\n     */\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    /**\n     * A descriptive string that you create to describe the new resource. It can be\n     * up to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public CredentialCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * [APN only] The URL encoded representation of the certificate. For example,\n     * `-----BEGIN CERTIFICATE-----\n     * MIIFnTCCBIWgAwIBAgIIAjy9H849+E8wDQYJKoZIhvcNAQEF.....A==\n     * -----END CERTIFICATE-----`.\n     *\n     * @param certificate [APN only] The URL encoded representation of the\n     *                    certificate\n     * @return this\n     */\n    public CredentialCreator setCertificate(final String certificate) {\n        this.certificate = certificate;\n        return this;\n    }\n\n    /**\n     * [APN only] The URL encoded representation of the private key. For example,\n     * `-----BEGIN RSA PRIVATE KEY-----\n     * MIIEpQIBAAKCAQEAuyf/lNrH9ck8DmNyo3fG...\n     * -----END RSA PRIVATE KEY-----`.\n     *\n     * @param privateKey [APN only] The URL encoded representation of the private\n     *                   key\n     * @return this\n     */\n    public CredentialCreator setPrivateKey(final String privateKey) {\n        this.privateKey = privateKey;\n        return this;\n    }\n\n    /**\n     * [APN only] Whether to send the credential to sandbox APNs. Can be `true` to\n     * send to sandbox APNs or `false` to send to production..\n     *\n     * @param sandbox [APN only] Whether to send the credential to sandbox APNs\n     * @return this\n     */\n    public CredentialCreator setSandbox(final Boolean sandbox) {\n        this.sandbox = sandbox;\n        return this;\n    }\n\n    /**\n     * [GCM only] The API key for the project that was obtained from the Google\n     * Developer console for your GCM Service application credential..\n     *\n     * @param apiKey [GCM only] The API key for the project that was obtained from\n     *               the Google Developer console for your GCM Service application\n     *               credential\n     * @return this\n     */\n    public CredentialCreator setApiKey(final String apiKey) {\n        this.apiKey = apiKey;\n        return this;\n    }\n\n    /**\n     * [FCM only] The **Server key** of your project from the Firebase console,\n     * found under Settings / Cloud messaging..\n     *\n     * @param secret [FCM only] The Server key of your project from Firebase console\n     * @return this\n     */\n    public CredentialCreator setSecret(final String secret) {\n        this.secret = secret;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Credential\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Credential create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CHAT.toString(),\n            \"/v2/Credentials\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n        }\n\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n        }\n\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n        }\n\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n        }\n\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n        }\n    }\n}\n","lineNo":87}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Chat\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.chat.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Chat\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialReader extends Reader<Credential> {\n    private Integer pageSize;\n\n    public CredentialReader(){\n    }\n\n    public CredentialReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Credentials\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CHAT.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.chat.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialReader extends Reader<Credential> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CHAT.toString(),\n            \"/v2/Credentials\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Credential Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Chat\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.chat.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Chat\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v2/Services\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CHAT.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.chat.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceCreator extends Creator<Service> {\n    private final String friendlyName;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param friendlyName A string to describe the resource\n     */\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CHAT.toString(),\n            \"/v2/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Chat\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.chat.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Chat\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CHAT.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.chat.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CHAT.toString(),\n            \"/v2/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CHAT.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AddressConfigurationCreator extends Creator<AddressConfiguration>{\n    private AddressConfiguration.Type type;\n    private String address;\n    private String friendlyName;\n    private Boolean autoCreationEnabled;\n    private AddressConfiguration.AutoCreationType autoCreationType;\n    private String autoCreationConversationServiceSid;\n    private String autoCreationWebhookUrl;\n    private AddressConfiguration.Method autoCreationWebhookMethod;\n    private List<String> autoCreationWebhookFilters;\n    private String autoCreationStudioFlowSid;\n    private Integer autoCreationStudioRetryCount;\n\n    public AddressConfigurationCreator(final AddressConfiguration.Type type, final String address) {\n        this.type = type;\n        this.address = address;\n    }\n\n    public AddressConfigurationCreator setType(final AddressConfiguration.Type type){\n        this.type = type;\n        return this;\n    }\n    public AddressConfigurationCreator setAddress(final String address){\n        this.address = address;\n        return this;\n    }\n    public AddressConfigurationCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public AddressConfigurationCreator setAutoCreationEnabled(final Boolean autoCreationEnabled){\n        this.autoCreationEnabled = autoCreationEnabled;\n        return this;\n    }\n    public AddressConfigurationCreator setAutoCreationType(final AddressConfiguration.AutoCreationType autoCreationType){\n        this.autoCreationType = autoCreationType;\n        return this;\n    }\n    public AddressConfigurationCreator setAutoCreationConversationServiceSid(final String autoCreationConversationServiceSid){\n        this.autoCreationConversationServiceSid = autoCreationConversationServiceSid;\n        return this;\n    }\n    public AddressConfigurationCreator setAutoCreationWebhookUrl(final String autoCreationWebhookUrl){\n        this.autoCreationWebhookUrl = autoCreationWebhookUrl;\n        return this;\n    }\n    public AddressConfigurationCreator setAutoCreationWebhookMethod(final AddressConfiguration.Method autoCreationWebhookMethod){\n        this.autoCreationWebhookMethod = autoCreationWebhookMethod;\n        return this;\n    }\n    public AddressConfigurationCreator setAutoCreationWebhookFilters(final List<String> autoCreationWebhookFilters){\n        this.autoCreationWebhookFilters = autoCreationWebhookFilters;\n        return this;\n    }\n    public AddressConfigurationCreator setAutoCreationStudioFlowSid(final String autoCreationStudioFlowSid){\n        this.autoCreationStudioFlowSid = autoCreationStudioFlowSid;\n        return this;\n    }\n    public AddressConfigurationCreator setAutoCreationStudioRetryCount(final Integer autoCreationStudioRetryCount){\n        this.autoCreationStudioRetryCount = autoCreationStudioRetryCount;\n        return this;\n    }\n\n    @Override\n    public AddressConfiguration create(final TwilioRestClient client){\n        String path = \"/v1/Configuration/Addresses\";\n\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n        path = path.replace(\"{\"+\"Address\"+\"}\", this.address.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"AddressConfiguration creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AddressConfiguration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (address != null) {\n            request.addPostParam(\"Address\", address);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (autoCreationEnabled != null) {\n            request.addPostParam(\"AutoCreationEnabled\", autoCreationEnabled.toString());\n    \n        }\n        if (autoCreationType != null) {\n            request.addPostParam(\"AutoCreationType\", autoCreationType.toString());\n    \n        }\n        if (autoCreationConversationServiceSid != null) {\n            request.addPostParam(\"AutoCreation.ConversationServiceSid\", autoCreationConversationServiceSid);\n    \n        }\n        if (autoCreationWebhookUrl != null) {\n            request.addPostParam(\"AutoCreation.WebhookUrl\", autoCreationWebhookUrl);\n    \n        }\n        if (autoCreationWebhookMethod != null) {\n            request.addPostParam(\"AutoCreationWebhookMethod\", autoCreationWebhookMethod.toString());\n    \n        }\n        if (autoCreationWebhookFilters != null) {\n            for (String prop : autoCreationWebhookFilters) {\n                request.addPostParam(\"AutoCreation.WebhookFilters\", prop);\n            }\n    \n        }\n        if (autoCreationStudioFlowSid != null) {\n            request.addPostParam(\"AutoCreation.StudioFlowSid\", autoCreationStudioFlowSid);\n    \n        }\n        if (autoCreationStudioRetryCount != null) {\n            request.addPostParam(\"AutoCreationStudioRetryCount\", autoCreationStudioRetryCount.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\n\npublic class AddressConfigurationCreator extends Creator<AddressConfiguration> {\n    private final AddressConfiguration.Type type;\n    private final String address;\n    private String friendlyName;\n    private Boolean autoCreationEnabled;\n    private AddressConfiguration.AutoCreationType autoCreationType;\n    private String autoCreationConversationServiceSid;\n    private String autoCreationWebhookUrl;\n    private AddressConfiguration.Method autoCreationWebhookMethod;\n    private List<String> autoCreationWebhookFilters;\n    private String autoCreationStudioFlowSid;\n    private Integer autoCreationStudioRetryCount;\n\n    /**\n     * Construct a new AddressConfigurationCreator.\n     *\n     * @param type Type of Address.\n     * @param address The unique address to be configured.\n     */\n    public AddressConfigurationCreator(final AddressConfiguration.Type type,\n                                       final String address) {\n        this.type = type;\n        this.address = address;\n    }\n\n    /**\n     * The human-readable name of this configuration, limited to 256 characters.\n     * Optional..\n     *\n     * @param friendlyName The human-readable name of this configuration.\n     * @return this\n     */\n    public AddressConfigurationCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Enable/Disable auto-creating conversations for messages to this address.\n     *\n     * @param autoCreationEnabled Enable/Disable auto-creating conversations for\n     *                            messages to this address\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationEnabled(final Boolean autoCreationEnabled) {\n        this.autoCreationEnabled = autoCreationEnabled;\n        return this;\n    }\n\n    /**\n     * Type of Auto Creation. Value can be one of `webhook`, `studio` or `default`..\n     *\n     * @param autoCreationType Type of Auto Creation.\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationType(final AddressConfiguration.AutoCreationType autoCreationType) {\n        this.autoCreationType = autoCreationType;\n        return this;\n    }\n\n    /**\n     * Conversation Service for the auto-created conversation. If not set, the\n     * conversation is created in the default service..\n     *\n     * @param autoCreationConversationServiceSid Conversation Service for the\n     *                                           auto-created conversation.\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationConversationServiceSid(final String autoCreationConversationServiceSid) {\n        this.autoCreationConversationServiceSid = autoCreationConversationServiceSid;\n        return this;\n    }\n\n    /**\n     * For type `webhook`, the url for the webhook request..\n     *\n     * @param autoCreationWebhookUrl For type `webhook`, the url for the webhook\n     *                               request.\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationWebhookUrl(final String autoCreationWebhookUrl) {\n        this.autoCreationWebhookUrl = autoCreationWebhookUrl;\n        return this;\n    }\n\n    /**\n     * For type `webhook`, the HTTP method to be used when sending a webhook\n     * request..\n     *\n     * @param autoCreationWebhookMethod For type `webhook`, the HTTP method to be\n     *                                  used when sending a webhook request.\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationWebhookMethod(final AddressConfiguration.Method autoCreationWebhookMethod) {\n        this.autoCreationWebhookMethod = autoCreationWebhookMethod;\n        return this;\n    }\n\n    /**\n     * The list of events, firing webhook event for this Conversation. Values can be\n     * any of the following: `onMessageAdded`, `onMessageUpdated`,\n     * `onMessageRemoved`, `onConversationUpdated`, `onConversationStateUpdated`,\n     * `onConversationRemoved`, `onParticipantAdded`, `onParticipantUpdated`,\n     * `onParticipantRemoved`, `onDeliveryUpdated`.\n     *\n     * @param autoCreationWebhookFilters The list of events, firing webhook event\n     *                                   for this Conversation.\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationWebhookFilters(final List<String> autoCreationWebhookFilters) {\n        this.autoCreationWebhookFilters = autoCreationWebhookFilters;\n        return this;\n    }\n\n    /**\n     * The list of events, firing webhook event for this Conversation. Values can be\n     * any of the following: `onMessageAdded`, `onMessageUpdated`,\n     * `onMessageRemoved`, `onConversationUpdated`, `onConversationStateUpdated`,\n     * `onConversationRemoved`, `onParticipantAdded`, `onParticipantUpdated`,\n     * `onParticipantRemoved`, `onDeliveryUpdated`.\n     *\n     * @param autoCreationWebhookFilters The list of events, firing webhook event\n     *                                   for this Conversation.\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationWebhookFilters(final String autoCreationWebhookFilters) {\n        return setAutoCreationWebhookFilters(Promoter.listOfOne(autoCreationWebhookFilters));\n    }\n\n    /**\n     * For type `studio`, the studio flow SID where the webhook should be sent to..\n     *\n     * @param autoCreationStudioFlowSid For type `studio`, the studio flow SID\n     *                                  where the webhook should be sent to.\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationStudioFlowSid(final String autoCreationStudioFlowSid) {\n        this.autoCreationStudioFlowSid = autoCreationStudioFlowSid;\n        return this;\n    }\n\n    /**\n     * For type `studio`, number of times to retry the webhook request.\n     *\n     * @param autoCreationStudioRetryCount For type `studio`, number of times to\n     *                                     retry the webhook request\n     * @return this\n     */\n    public AddressConfigurationCreator setAutoCreationStudioRetryCount(final Integer autoCreationStudioRetryCount) {\n        this.autoCreationStudioRetryCount = autoCreationStudioRetryCount;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created AddressConfiguration\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AddressConfiguration create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Configuration/Addresses\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AddressConfiguration creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AddressConfiguration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (address != null) {\n            request.addPostParam(\"Address\", address);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (autoCreationEnabled != null) {\n            request.addPostParam(\"AutoCreation.Enabled\", autoCreationEnabled.toString());\n        }\n\n        if (autoCreationType != null) {\n            request.addPostParam(\"AutoCreation.Type\", autoCreationType.toString());\n        }\n\n        if (autoCreationConversationServiceSid != null) {\n            request.addPostParam(\"AutoCreation.ConversationServiceSid\", autoCreationConversationServiceSid);\n        }\n\n        if (autoCreationWebhookUrl != null) {\n            request.addPostParam(\"AutoCreation.WebhookUrl\", autoCreationWebhookUrl);\n        }\n\n        if (autoCreationWebhookMethod != null) {\n            request.addPostParam(\"AutoCreation.WebhookMethod\", autoCreationWebhookMethod.toString());\n        }\n\n        if (autoCreationWebhookFilters != null) {\n            for (String prop : autoCreationWebhookFilters) {\n                request.addPostParam(\"AutoCreation.WebhookFilters\", prop);\n            }\n        }\n\n        if (autoCreationStudioFlowSid != null) {\n            request.addPostParam(\"AutoCreation.StudioFlowSid\", autoCreationStudioFlowSid);\n        }\n\n        if (autoCreationStudioRetryCount != null) {\n            request.addPostParam(\"AutoCreation.StudioRetryCount\", autoCreationStudioRetryCount.toString());\n        }\n    }\n}\n","lineNo":110}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AddressConfigurationReader extends Reader<AddressConfiguration> {\n    private String type;\n    private Integer pageSize;\n\n    public AddressConfigurationReader(){\n    }\n\n    public AddressConfigurationReader setType(final String type){\n        this.type = type;\n        return this;\n    }\n    public AddressConfigurationReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<AddressConfiguration> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<AddressConfiguration> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Configuration/Addresses\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<AddressConfiguration> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AddressConfiguration read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"address_configurations\",\n            response.getContent(),\n            AddressConfiguration.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<AddressConfiguration> previousPage(final Page<AddressConfiguration> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<AddressConfiguration> nextPage(final Page<AddressConfiguration> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<AddressConfiguration> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (type != null) {\n    \n            request.addQueryParam(\"Type\", type);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class AddressConfigurationReader extends Reader<AddressConfiguration> {\n    private String type;\n\n    /**\n     * Filter the address configurations by its type. This value can be one of:\n     * `whatsapp`, `sms`..\n     *\n     * @param type The type of address configuration.\n     * @return this\n     */\n    public AddressConfigurationReader setType(final String type) {\n        this.type = type;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return AddressConfiguration ResourceSet\n     */\n    @Override\n    public ResourceSet<AddressConfiguration> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return AddressConfiguration ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<AddressConfiguration> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Configuration/Addresses\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return AddressConfiguration ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<AddressConfiguration> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<AddressConfiguration> nextPage(final Page<AddressConfiguration> page,\n                                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<AddressConfiguration> previousPage(final Page<AddressConfiguration> page,\n                                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of AddressConfiguration Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<AddressConfiguration> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AddressConfiguration read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"address_configurations\",\n            response.getContent(),\n            AddressConfiguration.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (type != null) {\n            request.addQueryParam(\"Type\", type);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConfigurationFetcher extends Fetcher<Configuration> {\n\n    public ConfigurationFetcher(){\n    }\n\n\n    @Override\n    public Configuration fetch(final TwilioRestClient client) {\n        String path = \"/v1/Configuration\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Configuration fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Configuration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConfigurationFetcher extends Fetcher<Configuration> {\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Configuration\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Configuration fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Configuration\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Configuration fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Configuration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":51}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConfigurationUpdater extends Updater<Configuration>{\n    private String defaultChatServiceSid;\n    private String defaultMessagingServiceSid;\n    private String defaultInactiveTimer;\n    private String defaultClosedTimer;\n\n    public ConfigurationUpdater(){\n    }\n\n    public ConfigurationUpdater setDefaultChatServiceSid(final String defaultChatServiceSid){\n        this.defaultChatServiceSid = defaultChatServiceSid;\n        return this;\n    }\n    public ConfigurationUpdater setDefaultMessagingServiceSid(final String defaultMessagingServiceSid){\n        this.defaultMessagingServiceSid = defaultMessagingServiceSid;\n        return this;\n    }\n    public ConfigurationUpdater setDefaultInactiveTimer(final String defaultInactiveTimer){\n        this.defaultInactiveTimer = defaultInactiveTimer;\n        return this;\n    }\n    public ConfigurationUpdater setDefaultClosedTimer(final String defaultClosedTimer){\n        this.defaultClosedTimer = defaultClosedTimer;\n        return this;\n    }\n\n    @Override\n    public Configuration update(final TwilioRestClient client){\n        String path = \"/v1/Configuration\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Configuration update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Configuration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (defaultChatServiceSid != null) {\n            request.addPostParam(\"DefaultChatServiceSid\", defaultChatServiceSid);\n    \n        }\n        if (defaultMessagingServiceSid != null) {\n            request.addPostParam(\"DefaultMessagingServiceSid\", defaultMessagingServiceSid);\n    \n        }\n        if (defaultInactiveTimer != null) {\n            request.addPostParam(\"DefaultInactiveTimer\", defaultInactiveTimer);\n    \n        }\n        if (defaultClosedTimer != null) {\n            request.addPostParam(\"DefaultClosedTimer\", defaultClosedTimer);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConfigurationUpdater extends Updater<Configuration> {\n    private String defaultChatServiceSid;\n    private String defaultMessagingServiceSid;\n    private String defaultInactiveTimer;\n    private String defaultClosedTimer;\n\n    /**\n     * The SID of the default <a\n     * href=\"https://www.twilio.com/docs/conversations/api/service-resource\">Conversation\n     * Service<\/a> to use when creating a conversation..\n     *\n     * @param defaultChatServiceSid The SID of the default Conversation Service\n     *                              that every new conversation will be associated\n     *                              with.\n     * @return this\n     */\n    public ConfigurationUpdater setDefaultChatServiceSid(final String defaultChatServiceSid) {\n        this.defaultChatServiceSid = defaultChatServiceSid;\n        return this;\n    }\n\n    /**\n     * The SID of the default <a\n     * href=\"https://www.twilio.com/docs/sms/services/api\">Messaging Service<\/a> to\n     * use when creating a conversation..\n     *\n     * @param defaultMessagingServiceSid The SID of the default Messaging Service\n     *                                   that every new conversation will be\n     *                                   associated with.\n     * @return this\n     */\n    public ConfigurationUpdater setDefaultMessagingServiceSid(final String defaultMessagingServiceSid) {\n        this.defaultMessagingServiceSid = defaultMessagingServiceSid;\n        return this;\n    }\n\n    /**\n     * Default ISO8601 duration when conversation will be switched to `inactive`\n     * state. Minimum value for this timer is 1 minute..\n     *\n     * @param defaultInactiveTimer Default ISO8601 duration when conversation will\n     *                             be switched to `inactive` state.\n     * @return this\n     */\n    public ConfigurationUpdater setDefaultInactiveTimer(final String defaultInactiveTimer) {\n        this.defaultInactiveTimer = defaultInactiveTimer;\n        return this;\n    }\n\n    /**\n     * Default ISO8601 duration when conversation will be switched to `closed`\n     * state. Minimum value for this timer is 10 minutes..\n     *\n     * @param defaultClosedTimer Default ISO8601 duration when conversation will be\n     *                           switched to `closed` state.\n     * @return this\n     */\n    public ConfigurationUpdater setDefaultClosedTimer(final String defaultClosedTimer) {\n        this.defaultClosedTimer = defaultClosedTimer;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Configuration\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Configuration update(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Configuration\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Configuration update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Configuration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (defaultChatServiceSid != null) {\n            request.addPostParam(\"DefaultChatServiceSid\", defaultChatServiceSid);\n        }\n\n        if (defaultMessagingServiceSid != null) {\n            request.addPostParam(\"DefaultMessagingServiceSid\", defaultMessagingServiceSid);\n        }\n\n        if (defaultInactiveTimer != null) {\n            request.addPostParam(\"DefaultInactiveTimer\", defaultInactiveTimer);\n        }\n\n        if (defaultClosedTimer != null) {\n            request.addPostParam(\"DefaultClosedTimer\", defaultClosedTimer);\n        }\n    }\n}\n","lineNo":71}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConversationCreator extends Creator<Conversation>{\n    private Conversation.WebhookEnabledType xTwilioWebhookEnabled;\n    private String friendlyName;\n    private String uniqueName;\n    private ZonedDateTime dateCreated;\n    private ZonedDateTime dateUpdated;\n    private String messagingServiceSid;\n    private String attributes;\n    private Conversation.State state;\n    private String timersInactive;\n    private String timersClosed;\n\n    public ConversationCreator() {\n    }\n\n    public ConversationCreator setXTwilioWebhookEnabled(final Conversation.WebhookEnabledType xTwilioWebhookEnabled){\n        this.xTwilioWebhookEnabled = xTwilioWebhookEnabled;\n        return this;\n    }\n    public ConversationCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ConversationCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public ConversationCreator setDateCreated(final ZonedDateTime dateCreated){\n        this.dateCreated = dateCreated;\n        return this;\n    }\n    public ConversationCreator setDateUpdated(final ZonedDateTime dateUpdated){\n        this.dateUpdated = dateUpdated;\n        return this;\n    }\n    public ConversationCreator setMessagingServiceSid(final String messagingServiceSid){\n        this.messagingServiceSid = messagingServiceSid;\n        return this;\n    }\n    public ConversationCreator setAttributes(final String attributes){\n        this.attributes = attributes;\n        return this;\n    }\n    public ConversationCreator setState(final Conversation.State state){\n        this.state = state;\n        return this;\n    }\n    public ConversationCreator setTimersInactive(final String timersInactive){\n        this.timersInactive = timersInactive;\n        return this;\n    }\n    public ConversationCreator setTimersClosed(final String timersClosed){\n        this.timersClosed = timersClosed;\n        return this;\n    }\n\n    @Override\n    public Conversation create(final TwilioRestClient client){\n        String path = \"/v1/Conversations\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        addPostParams(request);\n        addHeaderParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Conversation creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Conversation.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (dateCreated != null) {\n            request.addPostParam(\"DateCreated\", dateCreated.toInstant().toString());\n\n        }\n        if (dateUpdated != null) {\n            request.addPostParam(\"DateUpdated\", dateUpdated.toInstant().toString());\n\n        }\n        if (messagingServiceSid != null) {\n            request.addPostParam(\"MessagingServiceSid\", messagingServiceSid);\n    \n        }\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\", attributes);\n    \n        }\n        if (state != null) {\n            request.addPostParam(\"State\", state.toString());\n    \n        }\n        if (timersInactive != null) {\n            request.addPostParam(\"Timers.Inactive\", timersInactive);\n    \n        }\n        if (timersClosed != null) {\n            request.addPostParam(\"Timers.Closed\", timersClosed);\n    \n        }\n    }\n    private void addHeaderParams(final Request request) {\n        if (xTwilioWebhookEnabled != null) {\n            request.addHeaderParam(\"X-Twilio-Webhook-Enabled\", xTwilioWebhookEnabled.toString());\n\n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class ConversationCreator extends Creator<Conversation> {\n    private String friendlyName;\n    private String uniqueName;\n    private ZonedDateTime dateCreated;\n    private ZonedDateTime dateUpdated;\n    private String messagingServiceSid;\n    private String attributes;\n    private Conversation.State state;\n    private String timersInactive;\n    private String timersClosed;\n    private Conversation.WebhookEnabledType xTwilioWebhookEnabled;\n\n    /**\n     * The human-readable name of this conversation, limited to 256 characters.\n     * Optional..\n     *\n     * @param friendlyName The human-readable name of this conversation.\n     * @return this\n     */\n    public ConversationCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * An application-defined string that uniquely identifies the resource. It can\n     * be used to address the resource in place of the resource's `sid` in the URL..\n     *\n     * @param uniqueName An application-defined string that uniquely identifies the\n     *                   resource\n     * @return this\n     */\n    public ConversationCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * The date that this resource was created..\n     *\n     * @param dateCreated The date that this resource was created.\n     * @return this\n     */\n    public ConversationCreator setDateCreated(final ZonedDateTime dateCreated) {\n        this.dateCreated = dateCreated;\n        return this;\n    }\n\n    /**\n     * The date that this resource was last updated..\n     *\n     * @param dateUpdated The date that this resource was last updated.\n     * @return this\n     */\n    public ConversationCreator setDateUpdated(final ZonedDateTime dateUpdated) {\n        this.dateUpdated = dateUpdated;\n        return this;\n    }\n\n    /**\n     * The unique ID of the <a\n     * href=\"https://www.twilio.com/docs/sms/services/api\">Messaging Service<\/a>\n     * this conversation belongs to..\n     *\n     * @param messagingServiceSid The unique ID of the Messaging Service this\n     *                            conversation belongs to.\n     * @return this\n     */\n    public ConversationCreator setMessagingServiceSid(final String messagingServiceSid) {\n        this.messagingServiceSid = messagingServiceSid;\n        return this;\n    }\n\n    /**\n     * An optional string metadata field you can use to store any data you wish. The\n     * string value must contain structurally valid JSON if specified.  **Note**\n     * that if the attributes are not set \"{}\" will be returned..\n     *\n     * @param attributes An optional string metadata field you can use to store any\n     *                   data you wish.\n     * @return this\n     */\n    public ConversationCreator setAttributes(final String attributes) {\n        this.attributes = attributes;\n        return this;\n    }\n\n    /**\n     * Current state of this conversation. Can be either `active`, `inactive` or\n     * `closed` and defaults to `active`.\n     *\n     * @param state Current state of this conversation.\n     * @return this\n     */\n    public ConversationCreator setState(final Conversation.State state) {\n        this.state = state;\n        return this;\n    }\n\n    /**\n     * ISO8601 duration when conversation will be switched to `inactive` state.\n     * Minimum value for this timer is 1 minute..\n     *\n     * @param timersInactive ISO8601 duration when conversation will be switched to\n     *                       `inactive` state.\n     * @return this\n     */\n    public ConversationCreator setTimersInactive(final String timersInactive) {\n        this.timersInactive = timersInactive;\n        return this;\n    }\n\n    /**\n     * ISO8601 duration when conversation will be switched to `closed` state.\n     * Minimum value for this timer is 10 minutes..\n     *\n     * @param timersClosed ISO8601 duration when conversation will be switched to\n     *                     `closed` state.\n     * @return this\n     */\n    public ConversationCreator setTimersClosed(final String timersClosed) {\n        this.timersClosed = timersClosed;\n        return this;\n    }\n\n    /**\n     * The X-Twilio-Webhook-Enabled HTTP request header.\n     *\n     * @param xTwilioWebhookEnabled The X-Twilio-Webhook-Enabled HTTP request header\n     * @return this\n     */\n    public ConversationCreator setXTwilioWebhookEnabled(final Conversation.WebhookEnabledType xTwilioWebhookEnabled) {\n        this.xTwilioWebhookEnabled = xTwilioWebhookEnabled;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Conversation\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Conversation create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Conversations\"\n        );\n\n        addPostParams(request);\n        addHeaderParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Conversation creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Conversation.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested header parameters to the Request.\n     *\n     * @param request Request to add header params to\n     */\n    private void addHeaderParams(final Request request) {\n        if (xTwilioWebhookEnabled != null) {\n            request.addHeaderParam(\"X-Twilio-Webhook-Enabled\", xTwilioWebhookEnabled.toString());\n        }\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (dateCreated != null) {\n            request.addPostParam(\"DateCreated\", dateCreated.toInstant().toString());\n        }\n\n        if (dateUpdated != null) {\n            request.addPostParam(\"DateUpdated\", dateUpdated.toInstant().toString());\n        }\n\n        if (messagingServiceSid != null) {\n            request.addPostParam(\"MessagingServiceSid\", messagingServiceSid);\n        }\n\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\", attributes);\n        }\n\n        if (state != null) {\n            request.addPostParam(\"State\", state.toString());\n        }\n\n        if (timersInactive != null) {\n            request.addPostParam(\"Timers.Inactive\", timersInactive);\n        }\n\n        if (timersClosed != null) {\n            request.addPostParam(\"Timers.Closed\", timersClosed);\n        }\n    }\n}\n","lineNo":102}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConversationReader extends Reader<Conversation> {\n    private Integer pageSize;\n\n    public ConversationReader(){\n    }\n\n    public ConversationReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Conversation> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Conversation> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Conversations\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Conversation> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Conversation read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"conversations\",\n            response.getContent(),\n            Conversation.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Conversation> previousPage(final Page<Conversation> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Conversation> nextPage(final Page<Conversation> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Conversation> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConversationReader extends Reader<Conversation> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Conversation ResourceSet\n     */\n    @Override\n    public ResourceSet<Conversation> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Conversation ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Conversation> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Conversations\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Conversation ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Conversation> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Conversation> nextPage(final Page<Conversation> page,\n                                       final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Conversation> previousPage(final Page<Conversation> page,\n                                           final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Conversation Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Conversation> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Conversation read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"conversations\",\n            response.getContent(),\n            Conversation.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialCreator extends Creator<Credential>{\n    private Credential.PushType type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    public CredentialCreator(final Credential.PushType type) {\n        this.type = type;\n    }\n\n    public CredentialCreator setType(final Credential.PushType type){\n        this.type = type;\n        return this;\n    }\n    public CredentialCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CredentialCreator setCertificate(final String certificate){\n        this.certificate = certificate;\n        return this;\n    }\n    public CredentialCreator setPrivateKey(final String privateKey){\n        this.privateKey = privateKey;\n        return this;\n    }\n    public CredentialCreator setSandbox(final Boolean sandbox){\n        this.sandbox = sandbox;\n        return this;\n    }\n    public CredentialCreator setApiKey(final String apiKey){\n        this.apiKey = apiKey;\n        return this;\n    }\n    public CredentialCreator setSecret(final String secret){\n        this.secret = secret;\n        return this;\n    }\n\n    @Override\n    public Credential create(final TwilioRestClient client){\n        String path = \"/v1/Credentials\";\n\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n    \n        }\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n    \n        }\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n    \n        }\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n    \n        }\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialCreator extends Creator<Credential> {\n    private final Credential.PushType type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    /**\n     * Construct a new CredentialCreator.\n     *\n     * @param type The type of push-notification service the credential is for.\n     */\n    public CredentialCreator(final Credential.PushType type) {\n        this.type = type;\n    }\n\n    /**\n     * A descriptive string that you create to describe the new resource. It can be\n     * up to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public CredentialCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * [APN only] The URL encoded representation of the certificate. For example,\n     * `-----BEGIN CERTIFICATE-----\n     * MIIFnTCCBIWgAwIBAgIIAjy9H849+E8wDQYJKoZIhvcNAQEF.....A==\n     * -----END CERTIFICATE-----`..\n     *\n     * @param certificate [APN only] The URL encoded representation of the\n     *                    certificate.\n     * @return this\n     */\n    public CredentialCreator setCertificate(final String certificate) {\n        this.certificate = certificate;\n        return this;\n    }\n\n    /**\n     * [APN only] The URL encoded representation of the private key. For example,\n     * `-----BEGIN RSA PRIVATE KEY-----\n     * MIIEpQIBAAKCAQEAuyf/lNrH9ck8DmNyo3fG...\n     * -----END RSA PRIVATE KEY-----`..\n     *\n     * @param privateKey [APN only] The URL encoded representation of the private\n     *                   key.\n     * @return this\n     */\n    public CredentialCreator setPrivateKey(final String privateKey) {\n        this.privateKey = privateKey;\n        return this;\n    }\n\n    /**\n     * [APN only] Whether to send the credential to sandbox APNs. Can be `true` to\n     * send to sandbox APNs or `false` to send to production..\n     *\n     * @param sandbox [APN only] Whether to send the credential to sandbox APNs.\n     * @return this\n     */\n    public CredentialCreator setSandbox(final Boolean sandbox) {\n        this.sandbox = sandbox;\n        return this;\n    }\n\n    /**\n     * [GCM only] The API key for the project that was obtained from the Google\n     * Developer console for your GCM Service application credential..\n     *\n     * @param apiKey [GCM only] The API key for the project that was obtained from\n     *               the Google Developer console for your GCM Service application\n     *               credential.\n     * @return this\n     */\n    public CredentialCreator setApiKey(final String apiKey) {\n        this.apiKey = apiKey;\n        return this;\n    }\n\n    /**\n     * [FCM only] The **Server key** of your project from the Firebase console,\n     * found under Settings / Cloud messaging..\n     *\n     * @param secret [FCM only] The Server key of your project from Firebase\n     *               console.\n     * @return this\n     */\n    public CredentialCreator setSecret(final String secret) {\n        this.secret = secret;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Credential\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Credential create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Credentials\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n        }\n\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n        }\n\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n        }\n\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n        }\n\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n        }\n    }\n}\n","lineNo":87}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialReader extends Reader<Credential> {\n    private Integer pageSize;\n\n    public CredentialReader(){\n    }\n\n    public CredentialReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Credentials\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialReader extends Reader<Credential> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Credentials\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Credential Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ParticipantConversationReader extends Reader<ParticipantConversation> {\n    private String identity;\n    private String address;\n    private Integer pageSize;\n\n    public ParticipantConversationReader(){\n    }\n\n    public ParticipantConversationReader setIdentity(final String identity){\n        this.identity = identity;\n        return this;\n    }\n    public ParticipantConversationReader setAddress(final String address){\n        this.address = address;\n        return this;\n    }\n    public ParticipantConversationReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<ParticipantConversation> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<ParticipantConversation> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/ParticipantConversations\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<ParticipantConversation> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ParticipantConversation read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"conversations\",\n            response.getContent(),\n            ParticipantConversation.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<ParticipantConversation> previousPage(final Page<ParticipantConversation> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<ParticipantConversation> nextPage(final Page<ParticipantConversation> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<ParticipantConversation> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (identity != null) {\n    \n            request.addQueryParam(\"Identity\", identity);\n        }\n        if (address != null) {\n    \n            request.addQueryParam(\"Address\", address);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ParticipantConversationReader extends Reader<ParticipantConversation> {\n    private String identity;\n    private String address;\n\n    /**\n     * A unique string identifier for the conversation participant as <a\n     * href=\"https://www.twilio.com/docs/conversations/api/user-resource\">Conversation\n     * User<\/a>. This parameter is non-null if (and only if) the participant is\n     * using the Conversations SDK to communicate. Limited to 256 characters..\n     *\n     * @param identity A unique string identifier for the conversation participant\n     *                 as Conversation User.\n     * @return this\n     */\n    public ParticipantConversationReader setIdentity(final String identity) {\n        this.identity = identity;\n        return this;\n    }\n\n    /**\n     * A unique string identifier for the conversation participant who's not a\n     * Conversation User. This parameter could be found in messaging_binding.address\n     * field of Participant resource. It should be url-encoded..\n     *\n     * @param address A unique string identifier for the conversation participant\n     *                who's not a Conversation User.\n     * @return this\n     */\n    public ParticipantConversationReader setAddress(final String address) {\n        this.address = address;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return ParticipantConversation ResourceSet\n     */\n    @Override\n    public ResourceSet<ParticipantConversation> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return ParticipantConversation ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<ParticipantConversation> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/ParticipantConversations\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return ParticipantConversation ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<ParticipantConversation> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<ParticipantConversation> nextPage(final Page<ParticipantConversation> page,\n                                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<ParticipantConversation> previousPage(final Page<ParticipantConversation> page,\n                                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of ParticipantConversation Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<ParticipantConversation> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ParticipantConversation read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"conversations\",\n            response.getContent(),\n            ParticipantConversation.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (identity != null) {\n            request.addQueryParam(\"Identity\", identity);\n        }\n\n        if (address != null) {\n            request.addQueryParam(\"Address\", address);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RoleCreator extends Creator<Role>{\n    private String friendlyName;\n    private Role.RoleType type;\n    private List<String> permission;\n\n    public RoleCreator(final String friendlyName, final Role.RoleType type, final List<String> permission) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n        this.permission = permission;\n    }\n\n    public RoleCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public RoleCreator setType(final Role.RoleType type){\n        this.type = type;\n        return this;\n    }\n    public RoleCreator setPermission(final List<String> permission){\n        this.permission = permission;\n        return this;\n    }\n\n    @Override\n    public Role create(final TwilioRestClient client){\n        String path = \"/v1/Roles\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n        path = path.replace(\"{\"+\"Permission\"+\"}\", this.permission.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Role creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Role.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (permission != null) {\n            for (String prop : permission) {\n                request.addPostParam(\"Permission\", prop);\n            }\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\n\npublic class RoleCreator extends Creator<Role> {\n    private final String friendlyName;\n    private final Role.RoleType type;\n    private final List<String> permission;\n\n    /**\n     * Construct a new RoleCreator.\n     *\n     * @param friendlyName A string to describe the new resource\n     * @param type The type of role\n     * @param permission A permission the role should have\n     */\n    public RoleCreator(final String friendlyName,\n                       final Role.RoleType type,\n                       final List<String> permission) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n        this.permission = permission;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Role\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Role create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Roles\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Role creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Role.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (permission != null) {\n            for (String prop : permission) {\n                request.addPostParam(\"Permission\", prop);\n            }\n        }\n    }\n}\n","lineNo":71}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RoleReader extends Reader<Role> {\n    private Integer pageSize;\n\n    public RoleReader(){\n    }\n\n    public RoleReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Role> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Role> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Roles\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Role> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Role read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"roles\",\n            response.getContent(),\n            Role.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Role> previousPage(final Page<Role> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Role> nextPage(final Page<Role> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Role> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RoleReader extends Reader<Role> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Role ResourceSet\n     */\n    @Override\n    public ResourceSet<Role> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Role ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Role> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Roles\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Role ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Role> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Role> nextPage(final Page<Role> page,\n                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Role> previousPage(final Page<Role> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Role Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Role> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Role read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"roles\",\n            response.getContent(),\n            Role.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v1/Services\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceCreator extends Creator<Service> {\n    private final String friendlyName;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param friendlyName The human-readable name of this service.\n     */\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class UserCreator extends Creator<User>{\n    private String identity;\n    private User.WebhookEnabledType xTwilioWebhookEnabled;\n    private String friendlyName;\n    private String attributes;\n    private String roleSid;\n\n    public UserCreator(final String identity) {\n        this.identity = identity;\n    }\n\n    public UserCreator setIdentity(final String identity){\n        this.identity = identity;\n        return this;\n    }\n    public UserCreator setXTwilioWebhookEnabled(final User.WebhookEnabledType xTwilioWebhookEnabled){\n        this.xTwilioWebhookEnabled = xTwilioWebhookEnabled;\n        return this;\n    }\n    public UserCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public UserCreator setAttributes(final String attributes){\n        this.attributes = attributes;\n        return this;\n    }\n    public UserCreator setRoleSid(final String roleSid){\n        this.roleSid = roleSid;\n        return this;\n    }\n\n    @Override\n    public User create(final TwilioRestClient client){\n        String path = \"/v1/Users\";\n\n        path = path.replace(\"{\"+\"Identity\"+\"}\", this.identity.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        addPostParams(request);\n        addHeaderParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"User creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return User.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (identity != null) {\n            request.addPostParam(\"Identity\", identity);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\", attributes);\n    \n        }\n        if (roleSid != null) {\n            request.addPostParam(\"RoleSid\", roleSid);\n    \n        }\n    }\n    private void addHeaderParams(final Request request) {\n        if (xTwilioWebhookEnabled != null) {\n            request.addHeaderParam(\"X-Twilio-Webhook-Enabled\", xTwilioWebhookEnabled.toString());\n\n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class UserCreator extends Creator<User> {\n    private final String identity;\n    private String friendlyName;\n    private String attributes;\n    private String roleSid;\n    private User.WebhookEnabledType xTwilioWebhookEnabled;\n\n    /**\n     * Construct a new UserCreator.\n     *\n     * @param identity The string that identifies the resource's User\n     */\n    public UserCreator(final String identity) {\n        this.identity = identity;\n    }\n\n    /**\n     * The string that you assigned to describe the resource..\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @return this\n     */\n    public UserCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The JSON Object string that stores application-specific data. If attributes\n     * have not been set, `{}` is returned..\n     *\n     * @param attributes The JSON Object string that stores application-specific\n     *                   data\n     * @return this\n     */\n    public UserCreator setAttributes(final String attributes) {\n        this.attributes = attributes;\n        return this;\n    }\n\n    /**\n     * The SID of a service-level <a\n     * href=\"https://www.twilio.com/docs/conversations/api/role-resource\">Role<\/a>\n     * to assign to the user..\n     *\n     * @param roleSid The SID of a service-level Role to assign to the user\n     * @return this\n     */\n    public UserCreator setRoleSid(final String roleSid) {\n        this.roleSid = roleSid;\n        return this;\n    }\n\n    /**\n     * The X-Twilio-Webhook-Enabled HTTP request header.\n     *\n     * @param xTwilioWebhookEnabled The X-Twilio-Webhook-Enabled HTTP request header\n     * @return this\n     */\n    public UserCreator setXTwilioWebhookEnabled(final User.WebhookEnabledType xTwilioWebhookEnabled) {\n        this.xTwilioWebhookEnabled = xTwilioWebhookEnabled;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created User\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public User create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Users\"\n        );\n\n        addPostParams(request);\n        addHeaderParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"User creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return User.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested header parameters to the Request.\n     *\n     * @param request Request to add header params to\n     */\n    private void addHeaderParams(final Request request) {\n        if (xTwilioWebhookEnabled != null) {\n            request.addHeaderParam(\"X-Twilio-Webhook-Enabled\", xTwilioWebhookEnabled.toString());\n        }\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (identity != null) {\n            request.addPostParam(\"Identity\", identity);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\", attributes);\n        }\n\n        if (roleSid != null) {\n            request.addPostParam(\"RoleSid\", roleSid);\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class UserReader extends Reader<User> {\n    private Integer pageSize;\n\n    public UserReader(){\n    }\n\n    public UserReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<User> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<User> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Users\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<User> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"User read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"users\",\n            response.getContent(),\n            User.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<User> previousPage(final Page<User> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<User> nextPage(final Page<User> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<User> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class UserReader extends Reader<User> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return User ResourceSet\n     */\n    @Override\n    public ResourceSet<User> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return User ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<User> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Users\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return User ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<User> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<User> nextPage(final Page<User> page,\n                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<User> previousPage(final Page<User> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.CONVERSATIONS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of User Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<User> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"User read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"users\",\n            response.getContent(),\n            User.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1.configuration;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class WebhookFetcher extends Fetcher<Webhook> {\n\n    public WebhookFetcher(){\n    }\n\n\n    @Override\n    public Webhook fetch(final TwilioRestClient client) {\n        String path = \"/v1/Configuration/Webhooks\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Webhook fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Webhook.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1.configuration;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class WebhookFetcher extends Fetcher<Webhook> {\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Webhook\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Webhook fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Configuration/Webhooks\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Webhook fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Webhook.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":51}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Conversations\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.conversations.v1.configuration;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\nimport java.util.List;\n\n\n\n/*\n    * Twilio - Conversations\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class WebhookUpdater extends Updater<Webhook>{\n    private String method;\n    private List<String> filters;\n    private String preWebhookUrl;\n    private String postWebhookUrl;\n    private Webhook.Target target;\n\n    public WebhookUpdater(){\n    }\n\n    public WebhookUpdater setMethod(final String method){\n        this.method = method;\n        return this;\n    }\n    public WebhookUpdater setFilters(final List<String> filters){\n        this.filters = filters;\n        return this;\n    }\n    public WebhookUpdater setPreWebhookUrl(final String preWebhookUrl){\n        this.preWebhookUrl = preWebhookUrl;\n        return this;\n    }\n    public WebhookUpdater setPostWebhookUrl(final String postWebhookUrl){\n        this.postWebhookUrl = postWebhookUrl;\n        return this;\n    }\n    public WebhookUpdater setTarget(final Webhook.Target target){\n        this.target = target;\n        return this;\n    }\n\n    @Override\n    public Webhook update(final TwilioRestClient client){\n        String path = \"/v1/Configuration/Webhooks\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Webhook update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Webhook.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (method != null) {\n            request.addPostParam(\"Method\", method);\n    \n        }\n        if (filters != null) {\n            for (String prop : filters) {\n                request.addPostParam(\"Filters\", prop);\n            }\n    \n        }\n        if (preWebhookUrl != null) {\n            request.addPostParam(\"PreWebhookUrl\", preWebhookUrl);\n    \n        }\n        if (postWebhookUrl != null) {\n            request.addPostParam(\"PostWebhookUrl\", postWebhookUrl);\n    \n        }\n        if (target != null) {\n            request.addPostParam(\"Target\", target.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.conversations.v1.configuration;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\n\npublic class WebhookUpdater extends Updater<Webhook> {\n    private String method;\n    private List<String> filters;\n    private String preWebhookUrl;\n    private String postWebhookUrl;\n    private Webhook.Target target;\n\n    /**\n     * The HTTP method to be used when sending a webhook request..\n     *\n     * @param method The HTTP method to be used when sending a webhook request.\n     * @return this\n     */\n    public WebhookUpdater setMethod(final String method) {\n        this.method = method;\n        return this;\n    }\n\n    /**\n     * The list of webhook event triggers that are enabled for this Service:\n     * `onMessageAdded`, `onMessageUpdated`, `onMessageRemoved`,\n     * `onConversationUpdated`, `onConversationRemoved`, `onParticipantAdded`,\n     * `onParticipantUpdated`, `onParticipantRemoved`.\n     *\n     * @param filters The list of webhook event triggers that are enabled for this\n     *                Service.\n     * @return this\n     */\n    public WebhookUpdater setFilters(final List<String> filters) {\n        this.filters = filters;\n        return this;\n    }\n\n    /**\n     * The list of webhook event triggers that are enabled for this Service:\n     * `onMessageAdded`, `onMessageUpdated`, `onMessageRemoved`,\n     * `onConversationUpdated`, `onConversationRemoved`, `onParticipantAdded`,\n     * `onParticipantUpdated`, `onParticipantRemoved`.\n     *\n     * @param filters The list of webhook event triggers that are enabled for this\n     *                Service.\n     * @return this\n     */\n    public WebhookUpdater setFilters(final String filters) {\n        return setFilters(Promoter.listOfOne(filters));\n    }\n\n    /**\n     * The absolute url the pre-event webhook request should be sent to..\n     *\n     * @param preWebhookUrl The absolute url the pre-event webhook request should\n     *                      be sent to.\n     * @return this\n     */\n    public WebhookUpdater setPreWebhookUrl(final String preWebhookUrl) {\n        this.preWebhookUrl = preWebhookUrl;\n        return this;\n    }\n\n    /**\n     * The absolute url the post-event webhook request should be sent to..\n     *\n     * @param postWebhookUrl The absolute url the post-event webhook request should\n     *                       be sent to.\n     * @return this\n     */\n    public WebhookUpdater setPostWebhookUrl(final String postWebhookUrl) {\n        this.postWebhookUrl = postWebhookUrl;\n        return this;\n    }\n\n    /**\n     * The routing target of the webhook..\n     *\n     * @param target The routing target of the webhook.\n     * @return this\n     */\n    public WebhookUpdater setTarget(final Webhook.Target target) {\n        this.target = target;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Webhook\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Webhook update(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.CONVERSATIONS.toString(),\n            \"/v1/Configuration/Webhooks\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Webhook update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Webhook.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (method != null) {\n            request.addPostParam(\"Method\", method);\n        }\n\n        if (filters != null) {\n            for (String prop : filters) {\n                request.addPostParam(\"Filters\", prop);\n            }\n        }\n\n        if (preWebhookUrl != null) {\n            request.addPostParam(\"PreWebhookUrl\", preWebhookUrl);\n        }\n\n        if (postWebhookUrl != null) {\n            request.addPostParam(\"PostWebhookUrl\", postWebhookUrl);\n        }\n\n        if (target != null) {\n            request.addPostParam(\"Target\", target.toString());\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Events\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Events\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EventTypeReader extends Reader<EventType> {\n    private String schemaId;\n    private Integer pageSize;\n\n    public EventTypeReader(){\n    }\n\n    public EventTypeReader setSchemaId(final String schemaId){\n        this.schemaId = schemaId;\n        return this;\n    }\n    public EventTypeReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<EventType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<EventType> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Types\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.EVENTS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<EventType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EventType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"types\",\n            response.getContent(),\n            EventType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<EventType> previousPage(final Page<EventType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<EventType> nextPage(final Page<EventType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<EventType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (schemaId != null) {\n    \n            request.addQueryParam(\"SchemaId\", schemaId);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class EventTypeReader extends Reader<EventType> {\n    private String schemaId;\n\n    /**\n     * A string parameter filtering the results to return only the Event Types using\n     * a given schema..\n     *\n     * @param schemaId A string to filter Event Types by schema.\n     * @return this\n     */\n    public EventTypeReader setSchemaId(final String schemaId) {\n        this.schemaId = schemaId;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EventType ResourceSet\n     */\n    @Override\n    public ResourceSet<EventType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EventType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EventType> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.EVENTS.toString(),\n            \"/v1/Types\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return EventType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EventType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<EventType> nextPage(final Page<EventType> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<EventType> previousPage(final Page<EventType> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of EventType Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<EventType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EventType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"types\",\n            response.getContent(),\n            EventType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (schemaId != null) {\n            request.addQueryParam(\"SchemaId\", schemaId);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Events\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Events\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SinkCreator extends Creator<Sink>{\n    private String description;\n    private Map<String, Object> sinkConfiguration;\n    private Sink.SinkType sinkType;\n\n    public SinkCreator(final String description, final Map<String, Object> sinkConfiguration, final Sink.SinkType sinkType) {\n        this.description = description;\n        this.sinkConfiguration = sinkConfiguration;\n        this.sinkType = sinkType;\n    }\n\n    public SinkCreator setDescription(final String description){\n        this.description = description;\n        return this;\n    }\n    public SinkCreator setSinkConfiguration(final Map<String, Object> sinkConfiguration){\n        this.sinkConfiguration = sinkConfiguration;\n        return this;\n    }\n    public SinkCreator setSinkType(final Sink.SinkType sinkType){\n        this.sinkType = sinkType;\n        return this;\n    }\n\n    @Override\n    public Sink create(final TwilioRestClient client){\n        String path = \"/v1/Sinks\";\n\n        path = path.replace(\"{\"+\"Description\"+\"}\", this.description.toString());\n        path = path.replace(\"{\"+\"SinkConfiguration\"+\"}\", this.sinkConfiguration.toString());\n        path = path.replace(\"{\"+\"SinkType\"+\"}\", this.sinkType.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.EVENTS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Sink creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Sink.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (description != null) {\n            request.addPostParam(\"Description\", description);\n    \n        }\n        if (sinkConfiguration != null) {\n            request.addPostParam(\"SinkConfiguration\",  Converter.mapToJson(sinkConfiguration));\n    \n        }\n        if (sinkType != null) {\n            request.addPostParam(\"SinkType\", sinkType.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SinkCreator extends Creator<Sink> {\n    private final String description;\n    private final Map<String, Object> sinkConfiguration;\n    private final Sink.SinkType sinkType;\n\n    /**\n     * Construct a new SinkCreator.\n     *\n     * @param description Sink Description.\n     * @param sinkConfiguration JSON Sink configuration.\n     * @param sinkType Sink type.\n     */\n    public SinkCreator(final String description,\n                       final Map<String, Object> sinkConfiguration,\n                       final Sink.SinkType sinkType) {\n        this.description = description;\n        this.sinkConfiguration = sinkConfiguration;\n        this.sinkType = sinkType;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Sink\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Sink create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.EVENTS.toString(),\n            \"/v1/Sinks\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sink creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Sink.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (description != null) {\n            request.addPostParam(\"Description\", description);\n        }\n\n        if (sinkConfiguration != null) {\n            request.addPostParam(\"SinkConfiguration\", Converter.mapToJson(sinkConfiguration));\n        }\n\n        if (sinkType != null) {\n            request.addPostParam(\"SinkType\", sinkType.toString());\n        }\n    }\n}\n","lineNo":73}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Events\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Events\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SinkReader extends Reader<Sink> {\n    private Boolean inUse;\n    private String status;\n    private Integer pageSize;\n\n    public SinkReader(){\n    }\n\n    public SinkReader setInUse(final Boolean inUse){\n        this.inUse = inUse;\n        return this;\n    }\n    public SinkReader setStatus(final String status){\n        this.status = status;\n        return this;\n    }\n    public SinkReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Sink> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Sink> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Sinks\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.EVENTS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Sink> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sink read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sinks\",\n            response.getContent(),\n            Sink.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Sink> previousPage(final Page<Sink> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Sink> nextPage(final Page<Sink> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Sink> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (inUse != null) {\n    \n            request.addQueryParam(\"InUse\", inUse.toString());\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SinkReader extends Reader<Sink> {\n    private Boolean inUse;\n    private String status;\n\n    /**\n     * A boolean query parameter filtering the results to return sinks used/not used\n     * by a subscription..\n     *\n     * @param inUse A boolean to return sinks used/not used by a subscription.\n     * @return this\n     */\n    public SinkReader setInUse(final Boolean inUse) {\n        this.inUse = inUse;\n        return this;\n    }\n\n    /**\n     * A String query parameter filtering the results by status `initialized`,\n     * `validating`, `active` or `failed`..\n     *\n     * @param status A string to filter sinks by status.\n     * @return this\n     */\n    public SinkReader setStatus(final String status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Sink ResourceSet\n     */\n    @Override\n    public ResourceSet<Sink> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Sink ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Sink> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.EVENTS.toString(),\n            \"/v1/Sinks\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Sink ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Sink> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Sink> nextPage(final Page<Sink> page,\n                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Sink> previousPage(final Page<Sink> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Sink Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Sink> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sink read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sinks\",\n            response.getContent(),\n            Sink.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (inUse != null) {\n            request.addQueryParam(\"InUse\", inUse.toString());\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Events\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.List;\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Events\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SubscriptionCreator extends Creator<Subscription>{\n    private String description;\n    private String sinkSid;\n    private List<Map<String, Object>> types;\n\n    public SubscriptionCreator(final String description, final String sinkSid, final List<Map<String, Object>> types) {\n        this.description = description;\n        this.sinkSid = sinkSid;\n        this.types = types;\n    }\n\n    public SubscriptionCreator setDescription(final String description){\n        this.description = description;\n        return this;\n    }\n    public SubscriptionCreator setSinkSid(final String sinkSid){\n        this.sinkSid = sinkSid;\n        return this;\n    }\n    public SubscriptionCreator setTypes(final List<Map<String, Object>> types){\n        this.types = types;\n        return this;\n    }\n\n    @Override\n    public Subscription create(final TwilioRestClient client){\n        String path = \"/v1/Subscriptions\";\n\n        path = path.replace(\"{\"+\"Description\"+\"}\", this.description.toString());\n        path = path.replace(\"{\"+\"SinkSid\"+\"}\", this.sinkSid.toString());\n        path = path.replace(\"{\"+\"Types\"+\"}\", this.types.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.EVENTS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Subscription creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Subscription.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (description != null) {\n            request.addPostParam(\"Description\", description);\n    \n        }\n        if (sinkSid != null) {\n            request.addPostParam(\"SinkSid\", sinkSid);\n    \n        }\n        if (types != null) {\n            for (Map<String, Object> prop : types) {\n                request.addPostParam(\"Types\", Converter.mapToJson(prop));\n            }\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SubscriptionCreator extends Creator<Subscription> {\n    private final String description;\n    private final String sinkSid;\n    private final List<Map<String, Object>> types;\n\n    /**\n     * Construct a new SubscriptionCreator.\n     *\n     * @param description Subscription description\n     * @param sinkSid Sink SID.\n     * @param types Subscribed Event Types\n     */\n    public SubscriptionCreator(final String description,\n                               final String sinkSid,\n                               final List<Map<String, Object>> types) {\n        this.description = description;\n        this.sinkSid = sinkSid;\n        this.types = types;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Subscription\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Subscription create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.EVENTS.toString(),\n            \"/v1/Subscriptions\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Subscription creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Subscription.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (description != null) {\n            request.addPostParam(\"Description\", description);\n        }\n\n        if (sinkSid != null) {\n            request.addPostParam(\"SinkSid\", sinkSid);\n        }\n\n        if (types != null) {\n            for (Map<String, Object> prop : types) {\n                request.addPostParam(\"Types\", Converter.mapToJson(prop));\n            }\n        }\n    }\n}\n","lineNo":75}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Events\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Events\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SubscriptionReader extends Reader<Subscription> {\n    private String sinkSid;\n    private Integer pageSize;\n\n    public SubscriptionReader(){\n    }\n\n    public SubscriptionReader setSinkSid(final String sinkSid){\n        this.sinkSid = sinkSid;\n        return this;\n    }\n    public SubscriptionReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Subscription> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Subscription> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Subscriptions\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.EVENTS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Subscription> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Subscription read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"subscriptions\",\n            response.getContent(),\n            Subscription.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Subscription> previousPage(final Page<Subscription> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Subscription> nextPage(final Page<Subscription> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Subscription> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (sinkSid != null) {\n    \n            request.addQueryParam(\"SinkSid\", sinkSid);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.events.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SubscriptionReader extends Reader<Subscription> {\n    private String sinkSid;\n\n    /**\n     * The SID of the sink that the list of Subscriptions should be filtered by..\n     *\n     * @param sinkSid Sink SID.\n     * @return this\n     */\n    public SubscriptionReader setSinkSid(final String sinkSid) {\n        this.sinkSid = sinkSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Subscription ResourceSet\n     */\n    @Override\n    public ResourceSet<Subscription> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Subscription ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Subscription> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.EVENTS.toString(),\n            \"/v1/Subscriptions\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Subscription ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Subscription> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Subscription> nextPage(final Page<Subscription> page,\n                                       final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Subscription> previousPage(final Page<Subscription> page,\n                                           final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.EVENTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Subscription Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Subscription> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Subscription read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"subscriptions\",\n            response.getContent(),\n            Subscription.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (sinkSid != null) {\n            request.addQueryParam(\"SinkSid\", sinkSid);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Flex\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Flex\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ChannelCreator extends Creator<Channel>{\n    private String flexFlowSid;\n    private String identity;\n    private String chatUserFriendlyName;\n    private String chatFriendlyName;\n    private String target;\n    private String chatUniqueName;\n    private String preEngagementData;\n    private String taskSid;\n    private String taskAttributes;\n    private Boolean longLived;\n\n    public ChannelCreator(final String flexFlowSid, final String identity, final String chatUserFriendlyName, final String chatFriendlyName) {\n        this.flexFlowSid = flexFlowSid;\n        this.identity = identity;\n        this.chatUserFriendlyName = chatUserFriendlyName;\n        this.chatFriendlyName = chatFriendlyName;\n    }\n\n    public ChannelCreator setFlexFlowSid(final String flexFlowSid){\n        this.flexFlowSid = flexFlowSid;\n        return this;\n    }\n    public ChannelCreator setIdentity(final String identity){\n        this.identity = identity;\n        return this;\n    }\n    public ChannelCreator setChatUserFriendlyName(final String chatUserFriendlyName){\n        this.chatUserFriendlyName = chatUserFriendlyName;\n        return this;\n    }\n    public ChannelCreator setChatFriendlyName(final String chatFriendlyName){\n        this.chatFriendlyName = chatFriendlyName;\n        return this;\n    }\n    public ChannelCreator setTarget(final String target){\n        this.target = target;\n        return this;\n    }\n    public ChannelCreator setChatUniqueName(final String chatUniqueName){\n        this.chatUniqueName = chatUniqueName;\n        return this;\n    }\n    public ChannelCreator setPreEngagementData(final String preEngagementData){\n        this.preEngagementData = preEngagementData;\n        return this;\n    }\n    public ChannelCreator setTaskSid(final String taskSid){\n        this.taskSid = taskSid;\n        return this;\n    }\n    public ChannelCreator setTaskAttributes(final String taskAttributes){\n        this.taskAttributes = taskAttributes;\n        return this;\n    }\n    public ChannelCreator setLongLived(final Boolean longLived){\n        this.longLived = longLived;\n        return this;\n    }\n\n    @Override\n    public Channel create(final TwilioRestClient client){\n        String path = \"/v1/Channels\";\n\n        path = path.replace(\"{\"+\"FlexFlowSid\"+\"}\", this.flexFlowSid.toString());\n        path = path.replace(\"{\"+\"Identity\"+\"}\", this.identity.toString());\n        path = path.replace(\"{\"+\"ChatUserFriendlyName\"+\"}\", this.chatUserFriendlyName.toString());\n        path = path.replace(\"{\"+\"ChatFriendlyName\"+\"}\", this.chatFriendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.FLEXAPI.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Channel creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Channel.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (flexFlowSid != null) {\n            request.addPostParam(\"FlexFlowSid\", flexFlowSid);\n    \n        }\n        if (identity != null) {\n            request.addPostParam(\"Identity\", identity);\n    \n        }\n        if (chatUserFriendlyName != null) {\n            request.addPostParam(\"ChatUserFriendlyName\", chatUserFriendlyName);\n    \n        }\n        if (chatFriendlyName != null) {\n            request.addPostParam(\"ChatFriendlyName\", chatFriendlyName);\n    \n        }\n        if (target != null) {\n            request.addPostParam(\"Target\", target);\n    \n        }\n        if (chatUniqueName != null) {\n            request.addPostParam(\"ChatUniqueName\", chatUniqueName);\n    \n        }\n        if (preEngagementData != null) {\n            request.addPostParam(\"PreEngagementData\", preEngagementData);\n    \n        }\n        if (taskSid != null) {\n            request.addPostParam(\"TaskSid\", taskSid);\n    \n        }\n        if (taskAttributes != null) {\n            request.addPostParam(\"TaskAttributes\", taskAttributes);\n    \n        }\n        if (longLived != null) {\n            request.addPostParam(\"LongLived\", longLived.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ChannelCreator extends Creator<Channel> {\n    private final String flexFlowSid;\n    private final String identity;\n    private final String chatUserFriendlyName;\n    private final String chatFriendlyName;\n    private String target;\n    private String chatUniqueName;\n    private String preEngagementData;\n    private String taskSid;\n    private String taskAttributes;\n    private Boolean longLived;\n\n    /**\n     * Construct a new ChannelCreator.\n     *\n     * @param flexFlowSid The SID of the Flex Flow\n     * @param identity The identity value that identifies the new resource's chat\n     *                 User\n     * @param chatUserFriendlyName The chat participant's friendly name\n     * @param chatFriendlyName The chat channel's friendly name\n     */\n    public ChannelCreator(final String flexFlowSid,\n                          final String identity,\n                          final String chatUserFriendlyName,\n                          final String chatFriendlyName) {\n        this.flexFlowSid = flexFlowSid;\n        this.identity = identity;\n        this.chatUserFriendlyName = chatUserFriendlyName;\n        this.chatFriendlyName = chatFriendlyName;\n    }\n\n    /**\n     * The Target Contact Identity, for example the phone number of an SMS..\n     *\n     * @param target The Target Contact Identity\n     * @return this\n     */\n    public ChannelCreator setTarget(final String target) {\n        this.target = target;\n        return this;\n    }\n\n    /**\n     * The chat channel's unique name..\n     *\n     * @param chatUniqueName The chat channel's unique name\n     * @return this\n     */\n    public ChannelCreator setChatUniqueName(final String chatUniqueName) {\n        this.chatUniqueName = chatUniqueName;\n        return this;\n    }\n\n    /**\n     * The pre-engagement data..\n     *\n     * @param preEngagementData The pre-engagement data\n     * @return this\n     */\n    public ChannelCreator setPreEngagementData(final String preEngagementData) {\n        this.preEngagementData = preEngagementData;\n        return this;\n    }\n\n    /**\n     * The SID of the TaskRouter Task. Only valid when integration type is `task`.\n     * `null` for integration types `studio` &amp; `external`.\n     *\n     * @param taskSid The SID of the TaskRouter Task\n     * @return this\n     */\n    public ChannelCreator setTaskSid(final String taskSid) {\n        this.taskSid = taskSid;\n        return this;\n    }\n\n    /**\n     * The Task attributes to be added for the TaskRouter Task..\n     *\n     * @param taskAttributes The Task attributes to be added for the TaskRouter Task\n     * @return this\n     */\n    public ChannelCreator setTaskAttributes(final String taskAttributes) {\n        this.taskAttributes = taskAttributes;\n        return this;\n    }\n\n    /**\n     * Whether to create the channel as long-lived..\n     *\n     * @param longLived Whether to create the channel as long-lived\n     * @return this\n     */\n    public ChannelCreator setLongLived(final Boolean longLived) {\n        this.longLived = longLived;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Channel\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Channel create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.FLEXAPI.toString(),\n            \"/v1/Channels\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Channel creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Channel.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (flexFlowSid != null) {\n            request.addPostParam(\"FlexFlowSid\", flexFlowSid);\n        }\n\n        if (identity != null) {\n            request.addPostParam(\"Identity\", identity);\n        }\n\n        if (chatUserFriendlyName != null) {\n            request.addPostParam(\"ChatUserFriendlyName\", chatUserFriendlyName);\n        }\n\n        if (chatFriendlyName != null) {\n            request.addPostParam(\"ChatFriendlyName\", chatFriendlyName);\n        }\n\n        if (target != null) {\n            request.addPostParam(\"Target\", target);\n        }\n\n        if (chatUniqueName != null) {\n            request.addPostParam(\"ChatUniqueName\", chatUniqueName);\n        }\n\n        if (preEngagementData != null) {\n            request.addPostParam(\"PreEngagementData\", preEngagementData);\n        }\n\n        if (taskSid != null) {\n            request.addPostParam(\"TaskSid\", taskSid);\n        }\n\n        if (taskAttributes != null) {\n            request.addPostParam(\"TaskAttributes\", taskAttributes);\n        }\n\n        if (longLived != null) {\n            request.addPostParam(\"LongLived\", longLived.toString());\n        }\n    }\n}\n","lineNo":105}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Flex\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Flex\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ChannelReader extends Reader<Channel> {\n    private Integer pageSize;\n\n    public ChannelReader(){\n    }\n\n    public ChannelReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Channel> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Channel> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Channels\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.FLEXAPI.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Channel> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Channel read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flex_chat_channels\",\n            response.getContent(),\n            Channel.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Channel> previousPage(final Page<Channel> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Channel> nextPage(final Page<Channel> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Channel> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ChannelReader extends Reader<Channel> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Channel ResourceSet\n     */\n    @Override\n    public ResourceSet<Channel> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Channel ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Channel> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.FLEXAPI.toString(),\n            \"/v1/Channels\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Channel ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Channel> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Channel> nextPage(final Page<Channel> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Channel> previousPage(final Page<Channel> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Channel Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Channel> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Channel read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flex_chat_channels\",\n            response.getContent(),\n            Channel.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Flex\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Flex\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConfigurationFetcher extends Fetcher<Configuration> {\n    private String uiVersion;\n\n    public ConfigurationFetcher(){\n    }\n\n    public ConfigurationFetcher setUiVersion(final String uiVersion){\n    this.uiVersion = uiVersion;\n    return this;\n    }\n\n    @Override\n    public Configuration fetch(final TwilioRestClient client) {\n        String path = \"/v1/Configuration\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.FLEXAPI.toString(),\n            path\n        );\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Configuration fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Configuration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addQueryParams(final Request request) {\n        if (uiVersion != null) {\n    \n            request.addQueryParam(\"UiVersion\", uiVersion);\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConfigurationFetcher extends Fetcher<Configuration> {\n    private String uiVersion;\n\n    /**\n     * The Pinned UI version of the Configuration resource to fetch..\n     *\n     * @param uiVersion The Pinned UI version of the Configuration resource to fetch\n     * @return this\n     */\n    public ConfigurationFetcher setUiVersion(final String uiVersion) {\n        this.uiVersion = uiVersion;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Configuration\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Configuration fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.FLEXAPI.toString(),\n            \"/v1/Configuration\"\n        );\n\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Configuration fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Configuration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (uiVersion != null) {\n            request.addQueryParam(\"UiVersion\", uiVersion);\n        }\n    }\n}\n","lineNo":56}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Flex\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Flex\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FlexFlowCreator extends Creator<FlexFlow>{\n    private String friendlyName;\n    private String chatServiceSid;\n    private FlexFlow.ChannelType channelType;\n    private String contactIdentity;\n    private Boolean enabled;\n    private FlexFlow.IntegrationType integrationType;\n    private String integrationFlowSid;\n    private URI integrationUrl;\n    private String integrationWorkspaceSid;\n    private String integrationWorkflowSid;\n    private String integrationChannel;\n    private Integer integrationTimeout;\n    private Integer integrationPriority;\n    private Boolean integrationCreationOnMessage;\n    private Boolean longLived;\n    private Boolean janitorEnabled;\n    private Integer integrationRetryCount;\n\n    public FlexFlowCreator(final String friendlyName, final String chatServiceSid, final FlexFlow.ChannelType channelType) {\n        this.friendlyName = friendlyName;\n        this.chatServiceSid = chatServiceSid;\n        this.channelType = channelType;\n    }\n\n    public FlexFlowCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public FlexFlowCreator setChatServiceSid(final String chatServiceSid){\n        this.chatServiceSid = chatServiceSid;\n        return this;\n    }\n    public FlexFlowCreator setChannelType(final FlexFlow.ChannelType channelType){\n        this.channelType = channelType;\n        return this;\n    }\n    public FlexFlowCreator setContactIdentity(final String contactIdentity){\n        this.contactIdentity = contactIdentity;\n        return this;\n    }\n    public FlexFlowCreator setEnabled(final Boolean enabled){\n        this.enabled = enabled;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationType(final FlexFlow.IntegrationType integrationType){\n        this.integrationType = integrationType;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationFlowSid(final String integrationFlowSid){\n        this.integrationFlowSid = integrationFlowSid;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationUrl(final URI integrationUrl){\n        this.integrationUrl = integrationUrl;\n        return this;\n    }\n\n    public FlexFlowCreator setIntegrationUrl(final String integrationUrl){\n    this.integrationUrl = Promoter.uriFromString(integrationUrl);\n    return this;\n    }\n    public FlexFlowCreator setIntegrationWorkspaceSid(final String integrationWorkspaceSid){\n        this.integrationWorkspaceSid = integrationWorkspaceSid;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationWorkflowSid(final String integrationWorkflowSid){\n        this.integrationWorkflowSid = integrationWorkflowSid;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationChannel(final String integrationChannel){\n        this.integrationChannel = integrationChannel;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationTimeout(final Integer integrationTimeout){\n        this.integrationTimeout = integrationTimeout;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationPriority(final Integer integrationPriority){\n        this.integrationPriority = integrationPriority;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationCreationOnMessage(final Boolean integrationCreationOnMessage){\n        this.integrationCreationOnMessage = integrationCreationOnMessage;\n        return this;\n    }\n    public FlexFlowCreator setLongLived(final Boolean longLived){\n        this.longLived = longLived;\n        return this;\n    }\n    public FlexFlowCreator setJanitorEnabled(final Boolean janitorEnabled){\n        this.janitorEnabled = janitorEnabled;\n        return this;\n    }\n    public FlexFlowCreator setIntegrationRetryCount(final Integer integrationRetryCount){\n        this.integrationRetryCount = integrationRetryCount;\n        return this;\n    }\n\n    @Override\n    public FlexFlow create(final TwilioRestClient client){\n        String path = \"/v1/FlexFlows\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"ChatServiceSid\"+\"}\", this.chatServiceSid.toString());\n        path = path.replace(\"{\"+\"ChannelType\"+\"}\", this.channelType.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.FLEXAPI.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"FlexFlow creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return FlexFlow.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (chatServiceSid != null) {\n            request.addPostParam(\"ChatServiceSid\", chatServiceSid);\n    \n        }\n        if (channelType != null) {\n            request.addPostParam(\"ChannelType\", channelType.toString());\n    \n        }\n        if (contactIdentity != null) {\n            request.addPostParam(\"ContactIdentity\", contactIdentity);\n    \n        }\n        if (enabled != null) {\n            request.addPostParam(\"Enabled\", enabled.toString());\n    \n        }\n        if (integrationType != null) {\n            request.addPostParam(\"IntegrationType\", integrationType.toString());\n    \n        }\n        if (integrationFlowSid != null) {\n            request.addPostParam(\"Integration.FlowSid\", integrationFlowSid);\n    \n        }\n        if (integrationUrl != null) {\n            request.addPostParam(\"IntegrationUrl\", integrationUrl.toString());\n    \n        }\n        if (integrationWorkspaceSid != null) {\n            request.addPostParam(\"Integration.WorkspaceSid\", integrationWorkspaceSid);\n    \n        }\n        if (integrationWorkflowSid != null) {\n            request.addPostParam(\"Integration.WorkflowSid\", integrationWorkflowSid);\n    \n        }\n        if (integrationChannel != null) {\n            request.addPostParam(\"Integration.Channel\", integrationChannel);\n    \n        }\n        if (integrationTimeout != null) {\n            request.addPostParam(\"IntegrationTimeout\", integrationTimeout.toString());\n    \n        }\n        if (integrationPriority != null) {\n            request.addPostParam(\"IntegrationPriority\", integrationPriority.toString());\n    \n        }\n        if (integrationCreationOnMessage != null) {\n            request.addPostParam(\"IntegrationCreationOnMessage\", integrationCreationOnMessage.toString());\n    \n        }\n        if (longLived != null) {\n            request.addPostParam(\"LongLived\", longLived.toString());\n    \n        }\n        if (janitorEnabled != null) {\n            request.addPostParam(\"JanitorEnabled\", janitorEnabled.toString());\n    \n        }\n        if (integrationRetryCount != null) {\n            request.addPostParam(\"IntegrationRetryCount\", integrationRetryCount.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class FlexFlowCreator extends Creator<FlexFlow> {\n    private final String friendlyName;\n    private final String chatServiceSid;\n    private final FlexFlow.ChannelType channelType;\n    private String contactIdentity;\n    private Boolean enabled;\n    private FlexFlow.IntegrationType integrationType;\n    private String integrationFlowSid;\n    private URI integrationUrl;\n    private String integrationWorkspaceSid;\n    private String integrationWorkflowSid;\n    private String integrationChannel;\n    private Integer integrationTimeout;\n    private Integer integrationPriority;\n    private Boolean integrationCreationOnMessage;\n    private Boolean longLived;\n    private Boolean janitorEnabled;\n    private Integer integrationRetryCount;\n\n    /**\n     * Construct a new FlexFlowCreator.\n     *\n     * @param friendlyName A string to describe the resource\n     * @param chatServiceSid The SID of the chat service\n     * @param channelType The channel type\n     */\n    public FlexFlowCreator(final String friendlyName,\n                           final String chatServiceSid,\n                           final FlexFlow.ChannelType channelType) {\n        this.friendlyName = friendlyName;\n        this.chatServiceSid = chatServiceSid;\n        this.channelType = channelType;\n    }\n\n    /**\n     * The channel contact's Identity..\n     *\n     * @param contactIdentity The channel contact's Identity\n     * @return this\n     */\n    public FlexFlowCreator setContactIdentity(final String contactIdentity) {\n        this.contactIdentity = contactIdentity;\n        return this;\n    }\n\n    /**\n     * Whether the new Flex Flow is enabled..\n     *\n     * @param enabled Whether the new Flex Flow is enabled\n     * @return this\n     */\n    public FlexFlowCreator setEnabled(final Boolean enabled) {\n        this.enabled = enabled;\n        return this;\n    }\n\n    /**\n     * The software that will handle inbound messages. <a\n     * href=\"https://www.twilio.com/docs/flex/developer/messaging/manage-flows#integration-types\">Integration\n     * Type<\/a> can be: `studio`, `external`, or `task`..\n     *\n     * @param integrationType The software that will handle inbound messages.\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationType(final FlexFlow.IntegrationType integrationType) {\n        this.integrationType = integrationType;\n        return this;\n    }\n\n    /**\n     * The SID of the Studio Flow. Required when `integrationType` is `studio`..\n     *\n     * @param integrationFlowSid The SID of the Studio Flow\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationFlowSid(final String integrationFlowSid) {\n        this.integrationFlowSid = integrationFlowSid;\n        return this;\n    }\n\n    /**\n     * The URL of the external webhook. Required when `integrationType` is\n     * `external`..\n     *\n     * @param integrationUrl The External Webhook URL\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationUrl(final URI integrationUrl) {\n        this.integrationUrl = integrationUrl;\n        return this;\n    }\n\n    /**\n     * The URL of the external webhook. Required when `integrationType` is\n     * `external`..\n     *\n     * @param integrationUrl The External Webhook URL\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationUrl(final String integrationUrl) {\n        return setIntegrationUrl(Promoter.uriFromString(integrationUrl));\n    }\n\n    /**\n     * The Workspace SID for a new Task. Required when `integrationType` is `task`..\n     *\n     * @param integrationWorkspaceSid The Workspace SID for a new Task\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationWorkspaceSid(final String integrationWorkspaceSid) {\n        this.integrationWorkspaceSid = integrationWorkspaceSid;\n        return this;\n    }\n\n    /**\n     * The Workflow SID for a new Task. Required when `integrationType` is `task`..\n     *\n     * @param integrationWorkflowSid The Workflow SID for a new Task\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationWorkflowSid(final String integrationWorkflowSid) {\n        this.integrationWorkflowSid = integrationWorkflowSid;\n        return this;\n    }\n\n    /**\n     * The Task Channel SID (TCXXXX) or unique name (e.g., `sms`) to use for the\n     * Task that will be created. Applicable and required when `integrationType` is\n     * `task`. The default value is `default`..\n     *\n     * @param integrationChannel The Task Channel for a new Task\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationChannel(final String integrationChannel) {\n        this.integrationChannel = integrationChannel;\n        return this;\n    }\n\n    /**\n     * The Task timeout in seconds for a new Task. Default is 86,400 seconds (24\n     * hours). Optional when `integrationType` is `task`, not applicable otherwise..\n     *\n     * @param integrationTimeout The Task timeout in seconds for a new Task\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationTimeout(final Integer integrationTimeout) {\n        this.integrationTimeout = integrationTimeout;\n        return this;\n    }\n\n    /**\n     * The Task priority of a new Task. The default priority is 0. Optional when\n     * `integrationType` is `task`, not applicable otherwise..\n     *\n     * @param integrationPriority The Task priority of a new Task\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationPriority(final Integer integrationPriority) {\n        this.integrationPriority = integrationPriority;\n        return this;\n    }\n\n    /**\n     * In the context of outbound messaging, defines whether to create a Task\n     * immediately (and therefore reserve the conversation to current agent), or\n     * delay Task creation until the customer sends the first response. Set to false\n     * to create immediately, true to delay Task creation. This setting is only\n     * applicable for outbound messaging..\n     *\n     * @param integrationCreationOnMessage Whether to create a Task when the first\n     *                                     message arrives\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationCreationOnMessage(final Boolean integrationCreationOnMessage) {\n        this.integrationCreationOnMessage = integrationCreationOnMessage;\n        return this;\n    }\n\n    /**\n     * When enabled, Flex will keep the chat channel active so that it may be used\n     * for subsequent interactions with a contact identity. Defaults to `false`..\n     *\n     * @param longLived Reuse this chat channel for future interactions with a\n     *                  contact\n     * @return this\n     */\n    public FlexFlowCreator setLongLived(final Boolean longLived) {\n        this.longLived = longLived;\n        return this;\n    }\n\n    /**\n     * When enabled, the Messaging Channel Janitor will remove active Proxy sessions\n     * if the associated Task is deleted outside of the Flex UI. Defaults to\n     * `false`..\n     *\n     * @param janitorEnabled Remove active Proxy sessions if the corresponding Task\n     *                       is deleted\n     * @return this\n     */\n    public FlexFlowCreator setJanitorEnabled(final Boolean janitorEnabled) {\n        this.janitorEnabled = janitorEnabled;\n        return this;\n    }\n\n    /**\n     * The number of times to retry the Studio Flow or webhook in case of failure.\n     * Takes integer values from 0 to 3 with the default being 3. Optional when\n     * `integrationType` is `studio` or `external`, not applicable otherwise..\n     *\n     * @param integrationRetryCount The number of times to retry the Studio Flow or\n     *                              webhook in case of failure\n     * @return this\n     */\n    public FlexFlowCreator setIntegrationRetryCount(final Integer integrationRetryCount) {\n        this.integrationRetryCount = integrationRetryCount;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created FlexFlow\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public FlexFlow create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.FLEXAPI.toString(),\n            \"/v1/FlexFlows\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"FlexFlow creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return FlexFlow.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (chatServiceSid != null) {\n            request.addPostParam(\"ChatServiceSid\", chatServiceSid);\n        }\n\n        if (channelType != null) {\n            request.addPostParam(\"ChannelType\", channelType.toString());\n        }\n\n        if (contactIdentity != null) {\n            request.addPostParam(\"ContactIdentity\", contactIdentity);\n        }\n\n        if (enabled != null) {\n            request.addPostParam(\"Enabled\", enabled.toString());\n        }\n\n        if (integrationType != null) {\n            request.addPostParam(\"IntegrationType\", integrationType.toString());\n        }\n\n        if (integrationFlowSid != null) {\n            request.addPostParam(\"Integration.FlowSid\", integrationFlowSid);\n        }\n\n        if (integrationUrl != null) {\n            request.addPostParam(\"Integration.Url\", integrationUrl.toString());\n        }\n\n        if (integrationWorkspaceSid != null) {\n            request.addPostParam(\"Integration.WorkspaceSid\", integrationWorkspaceSid);\n        }\n\n        if (integrationWorkflowSid != null) {\n            request.addPostParam(\"Integration.WorkflowSid\", integrationWorkflowSid);\n        }\n\n        if (integrationChannel != null) {\n            request.addPostParam(\"Integration.Channel\", integrationChannel);\n        }\n\n        if (integrationTimeout != null) {\n            request.addPostParam(\"Integration.Timeout\", integrationTimeout.toString());\n        }\n\n        if (integrationPriority != null) {\n            request.addPostParam(\"Integration.Priority\", integrationPriority.toString());\n        }\n\n        if (integrationCreationOnMessage != null) {\n            request.addPostParam(\"Integration.CreationOnMessage\", integrationCreationOnMessage.toString());\n        }\n\n        if (longLived != null) {\n            request.addPostParam(\"LongLived\", longLived.toString());\n        }\n\n        if (janitorEnabled != null) {\n            request.addPostParam(\"JanitorEnabled\", janitorEnabled.toString());\n        }\n\n        if (integrationRetryCount != null) {\n            request.addPostParam(\"Integration.RetryCount\", integrationRetryCount.toString());\n        }\n    }\n}\n","lineNo":147}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Flex\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Flex\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FlexFlowReader extends Reader<FlexFlow> {\n    private String friendlyName;\n    private Integer pageSize;\n\n    public FlexFlowReader(){\n    }\n\n    public FlexFlowReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public FlexFlowReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<FlexFlow> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<FlexFlow> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/FlexFlows\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.FLEXAPI.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<FlexFlow> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"FlexFlow read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flex_flows\",\n            response.getContent(),\n            FlexFlow.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<FlexFlow> previousPage(final Page<FlexFlow> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<FlexFlow> nextPage(final Page<FlexFlow> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<FlexFlow> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class FlexFlowReader extends Reader<FlexFlow> {\n    private String friendlyName;\n\n    /**\n     * The `friendly_name` of the Flex Flow resources to read..\n     *\n     * @param friendlyName The `friendly_name` of the Flex Flow resources to read\n     * @return this\n     */\n    public FlexFlowReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return FlexFlow ResourceSet\n     */\n    @Override\n    public ResourceSet<FlexFlow> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return FlexFlow ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<FlexFlow> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.FLEXAPI.toString(),\n            \"/v1/FlexFlows\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return FlexFlow ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<FlexFlow> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<FlexFlow> nextPage(final Page<FlexFlow> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<FlexFlow> previousPage(final Page<FlexFlow> page,\n                                       final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of FlexFlow Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<FlexFlow> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"FlexFlow read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flex_flows\",\n            response.getContent(),\n            FlexFlow.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Flex\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Flex\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class InteractionCreator extends Creator<Interaction>{\n    private Map<String, Object> channel;\n    private Map<String, Object> routing;\n\n    public InteractionCreator(final Map<String, Object> channel, final Map<String, Object> routing) {\n        this.channel = channel;\n        this.routing = routing;\n    }\n\n    public InteractionCreator setChannel(final Map<String, Object> channel){\n        this.channel = channel;\n        return this;\n    }\n    public InteractionCreator setRouting(final Map<String, Object> routing){\n        this.routing = routing;\n        return this;\n    }\n\n    @Override\n    public Interaction create(final TwilioRestClient client){\n        String path = \"/v1/Interactions\";\n\n        path = path.replace(\"{\"+\"Channel\"+\"}\", this.channel.toString());\n        path = path.replace(\"{\"+\"Routing\"+\"}\", this.routing.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.FLEXAPI.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Interaction creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Interaction.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (channel != null) {\n            request.addPostParam(\"Channel\",  Converter.mapToJson(channel));\n    \n        }\n        if (routing != null) {\n            request.addPostParam(\"Routing\",  Converter.mapToJson(routing));\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\npublic class InteractionCreator extends Creator<Interaction> {\n    private final Map<String, Object> channel;\n    private final Map<String, Object> routing;\n\n    /**\n     * Construct a new InteractionCreator.\n     *\n     * @param channel The Interaction's channel\n     * @param routing The Interaction's routing logic\n     */\n    public InteractionCreator(final Map<String, Object> channel,\n                              final Map<String, Object> routing) {\n        this.channel = channel;\n        this.routing = routing;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Interaction\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Interaction create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.FLEXAPI.toString(),\n            \"/v1/Interactions\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Interaction creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Interaction.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (channel != null) {\n            request.addPostParam(\"Channel\", Converter.mapToJson(channel));\n        }\n\n        if (routing != null) {\n            request.addPostParam(\"Routing\", Converter.mapToJson(routing));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Flex\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Flex\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class WebChannelCreator extends Creator<WebChannel>{\n    private String flexFlowSid;\n    private String identity;\n    private String customerFriendlyName;\n    private String chatFriendlyName;\n    private String chatUniqueName;\n    private String preEngagementData;\n\n    public WebChannelCreator(final String flexFlowSid, final String identity, final String customerFriendlyName, final String chatFriendlyName) {\n        this.flexFlowSid = flexFlowSid;\n        this.identity = identity;\n        this.customerFriendlyName = customerFriendlyName;\n        this.chatFriendlyName = chatFriendlyName;\n    }\n\n    public WebChannelCreator setFlexFlowSid(final String flexFlowSid){\n        this.flexFlowSid = flexFlowSid;\n        return this;\n    }\n    public WebChannelCreator setIdentity(final String identity){\n        this.identity = identity;\n        return this;\n    }\n    public WebChannelCreator setCustomerFriendlyName(final String customerFriendlyName){\n        this.customerFriendlyName = customerFriendlyName;\n        return this;\n    }\n    public WebChannelCreator setChatFriendlyName(final String chatFriendlyName){\n        this.chatFriendlyName = chatFriendlyName;\n        return this;\n    }\n    public WebChannelCreator setChatUniqueName(final String chatUniqueName){\n        this.chatUniqueName = chatUniqueName;\n        return this;\n    }\n    public WebChannelCreator setPreEngagementData(final String preEngagementData){\n        this.preEngagementData = preEngagementData;\n        return this;\n    }\n\n    @Override\n    public WebChannel create(final TwilioRestClient client){\n        String path = \"/v1/WebChannels\";\n\n        path = path.replace(\"{\"+\"FlexFlowSid\"+\"}\", this.flexFlowSid.toString());\n        path = path.replace(\"{\"+\"Identity\"+\"}\", this.identity.toString());\n        path = path.replace(\"{\"+\"CustomerFriendlyName\"+\"}\", this.customerFriendlyName.toString());\n        path = path.replace(\"{\"+\"ChatFriendlyName\"+\"}\", this.chatFriendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.FLEXAPI.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"WebChannel creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return WebChannel.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (flexFlowSid != null) {\n            request.addPostParam(\"FlexFlowSid\", flexFlowSid);\n    \n        }\n        if (identity != null) {\n            request.addPostParam(\"Identity\", identity);\n    \n        }\n        if (customerFriendlyName != null) {\n            request.addPostParam(\"CustomerFriendlyName\", customerFriendlyName);\n    \n        }\n        if (chatFriendlyName != null) {\n            request.addPostParam(\"ChatFriendlyName\", chatFriendlyName);\n    \n        }\n        if (chatUniqueName != null) {\n            request.addPostParam(\"ChatUniqueName\", chatUniqueName);\n    \n        }\n        if (preEngagementData != null) {\n            request.addPostParam(\"PreEngagementData\", preEngagementData);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class WebChannelCreator extends Creator<WebChannel> {\n    private final String flexFlowSid;\n    private final String identity;\n    private final String customerFriendlyName;\n    private final String chatFriendlyName;\n    private String chatUniqueName;\n    private String preEngagementData;\n\n    /**\n     * Construct a new WebChannelCreator.\n     *\n     * @param flexFlowSid The SID of the Flex Flow\n     * @param identity The chat identity\n     * @param customerFriendlyName The chat participant's friendly name\n     * @param chatFriendlyName The chat channel's friendly name\n     */\n    public WebChannelCreator(final String flexFlowSid,\n                             final String identity,\n                             final String customerFriendlyName,\n                             final String chatFriendlyName) {\n        this.flexFlowSid = flexFlowSid;\n        this.identity = identity;\n        this.customerFriendlyName = customerFriendlyName;\n        this.chatFriendlyName = chatFriendlyName;\n    }\n\n    /**\n     * The chat channel's unique name..\n     *\n     * @param chatUniqueName The chat channel's unique name\n     * @return this\n     */\n    public WebChannelCreator setChatUniqueName(final String chatUniqueName) {\n        this.chatUniqueName = chatUniqueName;\n        return this;\n    }\n\n    /**\n     * The pre-engagement data..\n     *\n     * @param preEngagementData The pre-engagement data\n     * @return this\n     */\n    public WebChannelCreator setPreEngagementData(final String preEngagementData) {\n        this.preEngagementData = preEngagementData;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created WebChannel\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public WebChannel create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.FLEXAPI.toString(),\n            \"/v1/WebChannels\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"WebChannel creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return WebChannel.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (flexFlowSid != null) {\n            request.addPostParam(\"FlexFlowSid\", flexFlowSid);\n        }\n\n        if (identity != null) {\n            request.addPostParam(\"Identity\", identity);\n        }\n\n        if (customerFriendlyName != null) {\n            request.addPostParam(\"CustomerFriendlyName\", customerFriendlyName);\n        }\n\n        if (chatFriendlyName != null) {\n            request.addPostParam(\"ChatFriendlyName\", chatFriendlyName);\n        }\n\n        if (chatUniqueName != null) {\n            request.addPostParam(\"ChatUniqueName\", chatUniqueName);\n        }\n\n        if (preEngagementData != null) {\n            request.addPostParam(\"PreEngagementData\", preEngagementData);\n        }\n    }\n}\n","lineNo":85}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Flex\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Flex\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class WebChannelReader extends Reader<WebChannel> {\n    private Integer pageSize;\n\n    public WebChannelReader(){\n    }\n\n    public WebChannelReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<WebChannel> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<WebChannel> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/WebChannels\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.FLEXAPI.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<WebChannel> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"WebChannel read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flex_chat_channels\",\n            response.getContent(),\n            WebChannel.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<WebChannel> previousPage(final Page<WebChannel> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<WebChannel> nextPage(final Page<WebChannel> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<WebChannel> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.flexapi.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class WebChannelReader extends Reader<WebChannel> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return WebChannel ResourceSet\n     */\n    @Override\n    public ResourceSet<WebChannel> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return WebChannel ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<WebChannel> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.FLEXAPI.toString(),\n            \"/v1/WebChannels\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return WebChannel ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<WebChannel> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<WebChannel> nextPage(final Page<WebChannel> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<WebChannel> previousPage(final Page<WebChannel> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.FLEXAPI.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of WebChannel Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<WebChannel> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"WebChannel read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flex_chat_channels\",\n            response.getContent(),\n            WebChannel.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Insights\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Insights\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CallSummariesReader extends Reader<CallSummaries> {\n    private String from;\n    private String to;\n    private String fromCarrier;\n    private String toCarrier;\n    private String fromCountryCode;\n    private String toCountryCode;\n    private Boolean branded;\n    private Boolean verifiedCaller;\n    private Boolean hasTag;\n    private String startTime;\n    private String endTime;\n    private String callType;\n    private String callState;\n    private String direction;\n    private CallSummaries.ProcessingStateRequest processingState;\n    private CallSummaries.SortBy sortBy;\n    private String subaccount;\n    private Boolean abnormalSession;\n    private Integer pageSize;\n\n    public CallSummariesReader(){\n    }\n\n    public CallSummariesReader setFrom(final String from){\n        this.from = from;\n        return this;\n    }\n    public CallSummariesReader setTo(final String to){\n        this.to = to;\n        return this;\n    }\n    public CallSummariesReader setFromCarrier(final String fromCarrier){\n        this.fromCarrier = fromCarrier;\n        return this;\n    }\n    public CallSummariesReader setToCarrier(final String toCarrier){\n        this.toCarrier = toCarrier;\n        return this;\n    }\n    public CallSummariesReader setFromCountryCode(final String fromCountryCode){\n        this.fromCountryCode = fromCountryCode;\n        return this;\n    }\n    public CallSummariesReader setToCountryCode(final String toCountryCode){\n        this.toCountryCode = toCountryCode;\n        return this;\n    }\n    public CallSummariesReader setBranded(final Boolean branded){\n        this.branded = branded;\n        return this;\n    }\n    public CallSummariesReader setVerifiedCaller(final Boolean verifiedCaller){\n        this.verifiedCaller = verifiedCaller;\n        return this;\n    }\n    public CallSummariesReader setHasTag(final Boolean hasTag){\n        this.hasTag = hasTag;\n        return this;\n    }\n    public CallSummariesReader setStartTime(final String startTime){\n        this.startTime = startTime;\n        return this;\n    }\n    public CallSummariesReader setEndTime(final String endTime){\n        this.endTime = endTime;\n        return this;\n    }\n    public CallSummariesReader setCallType(final String callType){\n        this.callType = callType;\n        return this;\n    }\n    public CallSummariesReader setCallState(final String callState){\n        this.callState = callState;\n        return this;\n    }\n    public CallSummariesReader setDirection(final String direction){\n        this.direction = direction;\n        return this;\n    }\n    public CallSummariesReader setProcessingState(final CallSummaries.ProcessingStateRequest processingState){\n        this.processingState = processingState;\n        return this;\n    }\n    public CallSummariesReader setSortBy(final CallSummaries.SortBy sortBy){\n        this.sortBy = sortBy;\n        return this;\n    }\n    public CallSummariesReader setSubaccount(final String subaccount){\n        this.subaccount = subaccount;\n        return this;\n    }\n    public CallSummariesReader setAbnormalSession(final Boolean abnormalSession){\n        this.abnormalSession = abnormalSession;\n        return this;\n    }\n    public CallSummariesReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<CallSummaries> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<CallSummaries> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Voice/Summaries\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.INSIGHTS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<CallSummaries> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CallSummaries read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"call_summaries\",\n            response.getContent(),\n            CallSummaries.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<CallSummaries> previousPage(final Page<CallSummaries> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<CallSummaries> nextPage(final Page<CallSummaries> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<CallSummaries> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (from != null) {\n    \n            request.addQueryParam(\"From\", from);\n        }\n        if (to != null) {\n    \n            request.addQueryParam(\"To\", to);\n        }\n        if (fromCarrier != null) {\n    \n            request.addQueryParam(\"FromCarrier\", fromCarrier);\n        }\n        if (toCarrier != null) {\n    \n            request.addQueryParam(\"ToCarrier\", toCarrier);\n        }\n        if (fromCountryCode != null) {\n    \n            request.addQueryParam(\"FromCountryCode\", fromCountryCode);\n        }\n        if (toCountryCode != null) {\n    \n            request.addQueryParam(\"ToCountryCode\", toCountryCode);\n        }\n        if (branded != null) {\n    \n            request.addQueryParam(\"Branded\", branded.toString());\n        }\n        if (verifiedCaller != null) {\n    \n            request.addQueryParam(\"VerifiedCaller\", verifiedCaller.toString());\n        }\n        if (hasTag != null) {\n    \n            request.addQueryParam(\"HasTag\", hasTag.toString());\n        }\n        if (startTime != null) {\n    \n            request.addQueryParam(\"StartTime\", startTime);\n        }\n        if (endTime != null) {\n    \n            request.addQueryParam(\"EndTime\", endTime);\n        }\n        if (callType != null) {\n    \n            request.addQueryParam(\"CallType\", callType);\n        }\n        if (callState != null) {\n    \n            request.addQueryParam(\"CallState\", callState);\n        }\n        if (direction != null) {\n    \n            request.addQueryParam(\"Direction\", direction);\n        }\n        if (processingState != null) {\n    \n            request.addQueryParam(\"ProcessingState\", processingState.toString());\n        }\n        if (sortBy != null) {\n    \n            request.addQueryParam(\"SortBy\", sortBy.toString());\n        }\n        if (subaccount != null) {\n    \n            request.addQueryParam(\"Subaccount\", subaccount);\n        }\n        if (abnormalSession != null) {\n    \n            request.addQueryParam(\"AbnormalSession\", abnormalSession.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CallSummariesReader extends Reader<CallSummaries> {\n    private String from;\n    private String to;\n    private String fromCarrier;\n    private String toCarrier;\n    private String fromCountryCode;\n    private String toCountryCode;\n    private Boolean branded;\n    private Boolean verifiedCaller;\n    private Boolean hasTag;\n    private String startTime;\n    private String endTime;\n    private String callType;\n    private String callState;\n    private String direction;\n    private CallSummaries.ProcessingStateRequest processingState;\n    private CallSummaries.SortBy sortBy;\n    private String subaccount;\n    private Boolean abnormalSession;\n\n    /**\n     * The from.\n     *\n     * @param from The from\n     * @return this\n     */\n    public CallSummariesReader setFrom(final String from) {\n        this.from = from;\n        return this;\n    }\n\n    /**\n     * The to.\n     *\n     * @param to The to\n     * @return this\n     */\n    public CallSummariesReader setTo(final String to) {\n        this.to = to;\n        return this;\n    }\n\n    /**\n     * The from_carrier.\n     *\n     * @param fromCarrier The from_carrier\n     * @return this\n     */\n    public CallSummariesReader setFromCarrier(final String fromCarrier) {\n        this.fromCarrier = fromCarrier;\n        return this;\n    }\n\n    /**\n     * The to_carrier.\n     *\n     * @param toCarrier The to_carrier\n     * @return this\n     */\n    public CallSummariesReader setToCarrier(final String toCarrier) {\n        this.toCarrier = toCarrier;\n        return this;\n    }\n\n    /**\n     * The from_country_code.\n     *\n     * @param fromCountryCode The from_country_code\n     * @return this\n     */\n    public CallSummariesReader setFromCountryCode(final String fromCountryCode) {\n        this.fromCountryCode = fromCountryCode;\n        return this;\n    }\n\n    /**\n     * The to_country_code.\n     *\n     * @param toCountryCode The to_country_code\n     * @return this\n     */\n    public CallSummariesReader setToCountryCode(final String toCountryCode) {\n        this.toCountryCode = toCountryCode;\n        return this;\n    }\n\n    /**\n     * The branded.\n     *\n     * @param branded The branded\n     * @return this\n     */\n    public CallSummariesReader setBranded(final Boolean branded) {\n        this.branded = branded;\n        return this;\n    }\n\n    /**\n     * The verified_caller.\n     *\n     * @param verifiedCaller The verified_caller\n     * @return this\n     */\n    public CallSummariesReader setVerifiedCaller(final Boolean verifiedCaller) {\n        this.verifiedCaller = verifiedCaller;\n        return this;\n    }\n\n    /**\n     * The has_tag.\n     *\n     * @param hasTag The has_tag\n     * @return this\n     */\n    public CallSummariesReader setHasTag(final Boolean hasTag) {\n        this.hasTag = hasTag;\n        return this;\n    }\n\n    /**\n     * The start_time.\n     *\n     * @param startTime The start_time\n     * @return this\n     */\n    public CallSummariesReader setStartTime(final String startTime) {\n        this.startTime = startTime;\n        return this;\n    }\n\n    /**\n     * The end_time.\n     *\n     * @param endTime The end_time\n     * @return this\n     */\n    public CallSummariesReader setEndTime(final String endTime) {\n        this.endTime = endTime;\n        return this;\n    }\n\n    /**\n     * The call_type.\n     *\n     * @param callType The call_type\n     * @return this\n     */\n    public CallSummariesReader setCallType(final String callType) {\n        this.callType = callType;\n        return this;\n    }\n\n    /**\n     * The call_state.\n     *\n     * @param callState The call_state\n     * @return this\n     */\n    public CallSummariesReader setCallState(final String callState) {\n        this.callState = callState;\n        return this;\n    }\n\n    /**\n     * The direction.\n     *\n     * @param direction The direction\n     * @return this\n     */\n    public CallSummariesReader setDirection(final String direction) {\n        this.direction = direction;\n        return this;\n    }\n\n    /**\n     * The processing_state.\n     *\n     * @param processingState The processing_state\n     * @return this\n     */\n    public CallSummariesReader setProcessingState(final CallSummaries.ProcessingStateRequest processingState) {\n        this.processingState = processingState;\n        return this;\n    }\n\n    /**\n     * The sort_by.\n     *\n     * @param sortBy The sort_by\n     * @return this\n     */\n    public CallSummariesReader setSortBy(final CallSummaries.SortBy sortBy) {\n        this.sortBy = sortBy;\n        return this;\n    }\n\n    /**\n     * The subaccount.\n     *\n     * @param subaccount The subaccount\n     * @return this\n     */\n    public CallSummariesReader setSubaccount(final String subaccount) {\n        this.subaccount = subaccount;\n        return this;\n    }\n\n    /**\n     * The abnormal_session.\n     *\n     * @param abnormalSession The abnormal_session\n     * @return this\n     */\n    public CallSummariesReader setAbnormalSession(final Boolean abnormalSession) {\n        this.abnormalSession = abnormalSession;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return CallSummaries ResourceSet\n     */\n    @Override\n    public ResourceSet<CallSummaries> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return CallSummaries ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<CallSummaries> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.INSIGHTS.toString(),\n            \"/v1/Voice/Summaries\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return CallSummaries ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<CallSummaries> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<CallSummaries> nextPage(final Page<CallSummaries> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<CallSummaries> previousPage(final Page<CallSummaries> page,\n                                            final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of CallSummaries Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<CallSummaries> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CallSummaries read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"call_summaries\",\n            response.getContent(),\n            CallSummaries.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (from != null) {\n            request.addQueryParam(\"From\", from);\n        }\n\n        if (to != null) {\n            request.addQueryParam(\"To\", to);\n        }\n\n        if (fromCarrier != null) {\n            request.addQueryParam(\"FromCarrier\", fromCarrier);\n        }\n\n        if (toCarrier != null) {\n            request.addQueryParam(\"ToCarrier\", toCarrier);\n        }\n\n        if (fromCountryCode != null) {\n            request.addQueryParam(\"FromCountryCode\", fromCountryCode);\n        }\n\n        if (toCountryCode != null) {\n            request.addQueryParam(\"ToCountryCode\", toCountryCode);\n        }\n\n        if (branded != null) {\n            request.addQueryParam(\"Branded\", branded.toString());\n        }\n\n        if (verifiedCaller != null) {\n            request.addQueryParam(\"VerifiedCaller\", verifiedCaller.toString());\n        }\n\n        if (hasTag != null) {\n            request.addQueryParam(\"HasTag\", hasTag.toString());\n        }\n\n        if (startTime != null) {\n            request.addQueryParam(\"StartTime\", startTime);\n        }\n\n        if (endTime != null) {\n            request.addQueryParam(\"EndTime\", endTime);\n        }\n\n        if (callType != null) {\n            request.addQueryParam(\"CallType\", callType);\n        }\n\n        if (callState != null) {\n            request.addQueryParam(\"CallState\", callState);\n        }\n\n        if (direction != null) {\n            request.addQueryParam(\"Direction\", direction);\n        }\n\n        if (processingState != null) {\n            request.addQueryParam(\"ProcessingState\", processingState.toString());\n        }\n\n        if (sortBy != null) {\n            request.addQueryParam(\"SortBy\", sortBy.toString());\n        }\n\n        if (subaccount != null) {\n            request.addQueryParam(\"Subaccount\", subaccount);\n        }\n\n        if (abnormalSession != null) {\n            request.addQueryParam(\"AbnormalSession\", abnormalSession.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":152}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Insights\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Insights\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConferenceReader extends Reader<Conference> {\n    private String conferenceSid;\n    private String friendlyName;\n    private String status;\n    private String createdAfter;\n    private String createdBefore;\n    private String mixerRegion;\n    private String tags;\n    private String subaccount;\n    private String detectedIssues;\n    private String endReason;\n    private Integer pageSize;\n\n    public ConferenceReader(){\n    }\n\n    public ConferenceReader setConferenceSid(final String conferenceSid){\n        this.conferenceSid = conferenceSid;\n        return this;\n    }\n    public ConferenceReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ConferenceReader setStatus(final String status){\n        this.status = status;\n        return this;\n    }\n    public ConferenceReader setCreatedAfter(final String createdAfter){\n        this.createdAfter = createdAfter;\n        return this;\n    }\n    public ConferenceReader setCreatedBefore(final String createdBefore){\n        this.createdBefore = createdBefore;\n        return this;\n    }\n    public ConferenceReader setMixerRegion(final String mixerRegion){\n        this.mixerRegion = mixerRegion;\n        return this;\n    }\n    public ConferenceReader setTags(final String tags){\n        this.tags = tags;\n        return this;\n    }\n    public ConferenceReader setSubaccount(final String subaccount){\n        this.subaccount = subaccount;\n        return this;\n    }\n    public ConferenceReader setDetectedIssues(final String detectedIssues){\n        this.detectedIssues = detectedIssues;\n        return this;\n    }\n    public ConferenceReader setEndReason(final String endReason){\n        this.endReason = endReason;\n        return this;\n    }\n    public ConferenceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Conference> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Conference> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Conferences\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.INSIGHTS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Conference> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Conference read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"conferences\",\n            response.getContent(),\n            Conference.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Conference> previousPage(final Page<Conference> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Conference> nextPage(final Page<Conference> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Conference> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (conferenceSid != null) {\n    \n            request.addQueryParam(\"ConferenceSid\", conferenceSid);\n        }\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status);\n        }\n        if (createdAfter != null) {\n    \n            request.addQueryParam(\"CreatedAfter\", createdAfter);\n        }\n        if (createdBefore != null) {\n    \n            request.addQueryParam(\"CreatedBefore\", createdBefore);\n        }\n        if (mixerRegion != null) {\n    \n            request.addQueryParam(\"MixerRegion\", mixerRegion);\n        }\n        if (tags != null) {\n    \n            request.addQueryParam(\"Tags\", tags);\n        }\n        if (subaccount != null) {\n    \n            request.addQueryParam(\"Subaccount\", subaccount);\n        }\n        if (detectedIssues != null) {\n    \n            request.addQueryParam(\"DetectedIssues\", detectedIssues);\n        }\n        if (endReason != null) {\n    \n            request.addQueryParam(\"EndReason\", endReason);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConferenceReader extends Reader<Conference> {\n    private String conferenceSid;\n    private String friendlyName;\n    private String status;\n    private String createdAfter;\n    private String createdBefore;\n    private String mixerRegion;\n    private String tags;\n    private String subaccount;\n    private String detectedIssues;\n    private String endReason;\n\n    /**\n     * The SID of the conference..\n     *\n     * @param conferenceSid The SID of the conference.\n     * @return this\n     */\n    public ConferenceReader setConferenceSid(final String conferenceSid) {\n        this.conferenceSid = conferenceSid;\n        return this;\n    }\n\n    /**\n     * Custom label for the conference resource, up to 64 characters..\n     *\n     * @param friendlyName Custom label for the conference.\n     * @return this\n     */\n    public ConferenceReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Conference status..\n     *\n     * @param status Conference status.\n     * @return this\n     */\n    public ConferenceReader setStatus(final String status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Conferences created after the provided timestamp specified in ISO 8601\n     * format.\n     *\n     * @param createdAfter Conferences created after timestamp.\n     * @return this\n     */\n    public ConferenceReader setCreatedAfter(final String createdAfter) {\n        this.createdAfter = createdAfter;\n        return this;\n    }\n\n    /**\n     * Conferences created before the provided timestamp specified in ISO 8601\n     * format..\n     *\n     * @param createdBefore Conferences created before timestamp.\n     * @return this\n     */\n    public ConferenceReader setCreatedBefore(final String createdBefore) {\n        this.createdBefore = createdBefore;\n        return this;\n    }\n\n    /**\n     * Twilio region where the conference media was mixed..\n     *\n     * @param mixerRegion Region where the conference was mixed.\n     * @return this\n     */\n    public ConferenceReader setMixerRegion(final String mixerRegion) {\n        this.mixerRegion = mixerRegion;\n        return this;\n    }\n\n    /**\n     * Tags applied by Twilio for common potential configuration, quality, or\n     * performance issues..\n     *\n     * @param tags Tags applied by Twilio for common issues.\n     * @return this\n     */\n    public ConferenceReader setTags(final String tags) {\n        this.tags = tags;\n        return this;\n    }\n\n    /**\n     * Account SID for the subaccount whose resources you wish to retrieve..\n     *\n     * @param subaccount Account SID for the subaccount.\n     * @return this\n     */\n    public ConferenceReader setSubaccount(final String subaccount) {\n        this.subaccount = subaccount;\n        return this;\n    }\n\n    /**\n     * Potential configuration, behavior, or performance issues detected during the\n     * conference..\n     *\n     * @param detectedIssues Potential issues detected during the conference.\n     * @return this\n     */\n    public ConferenceReader setDetectedIssues(final String detectedIssues) {\n        this.detectedIssues = detectedIssues;\n        return this;\n    }\n\n    /**\n     * Conference end reason; e.g. last participant left, modified by API, etc..\n     *\n     * @param endReason Conference end reason.\n     * @return this\n     */\n    public ConferenceReader setEndReason(final String endReason) {\n        this.endReason = endReason;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Conference ResourceSet\n     */\n    @Override\n    public ResourceSet<Conference> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Conference ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Conference> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.INSIGHTS.toString(),\n            \"/v1/Conferences\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Conference ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Conference> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Conference> nextPage(final Page<Conference> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Conference> previousPage(final Page<Conference> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Conference Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Conference> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Conference read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"conferences\",\n            response.getContent(),\n            Conference.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (conferenceSid != null) {\n            request.addQueryParam(\"ConferenceSid\", conferenceSid);\n        }\n\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status);\n        }\n\n        if (createdAfter != null) {\n            request.addQueryParam(\"CreatedAfter\", createdAfter);\n        }\n\n        if (createdBefore != null) {\n            request.addQueryParam(\"CreatedBefore\", createdBefore);\n        }\n\n        if (mixerRegion != null) {\n            request.addQueryParam(\"MixerRegion\", mixerRegion);\n        }\n\n        if (tags != null) {\n            request.addQueryParam(\"Tags\", tags);\n        }\n\n        if (subaccount != null) {\n            request.addQueryParam(\"Subaccount\", subaccount);\n        }\n\n        if (detectedIssues != null) {\n            request.addQueryParam(\"DetectedIssues\", detectedIssues);\n        }\n\n        if (endReason != null) {\n            request.addQueryParam(\"EndReason\", endReason);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":112}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Insights\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Insights\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RoomReader extends Reader<Room> {\n    private List<Room.RoomType> roomType;\n    private List<Room.Codec> codec;\n    private String roomName;\n    private ZonedDateTime createdAfter;\n    private ZonedDateTime createdBefore;\n    private Integer pageSize;\n\n    public RoomReader(){\n    }\n\n    public RoomReader setRoomType(final List<Room.RoomType> roomType){\n        this.roomType = roomType;\n        return this;\n    }\n    public RoomReader setCodec(final List<Room.Codec> codec){\n        this.codec = codec;\n        return this;\n    }\n    public RoomReader setRoomName(final String roomName){\n        this.roomName = roomName;\n        return this;\n    }\n    public RoomReader setCreatedAfter(final ZonedDateTime createdAfter){\n        this.createdAfter = createdAfter;\n        return this;\n    }\n    public RoomReader setCreatedBefore(final ZonedDateTime createdBefore){\n        this.createdBefore = createdBefore;\n        return this;\n    }\n    public RoomReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Room> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Room> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Video/Rooms\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.INSIGHTS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Room> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Room read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"rooms\",\n            response.getContent(),\n            Room.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Room> previousPage(final Page<Room> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Room> nextPage(final Page<Room> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Room> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (roomType != null) {\n            for (Room.RoomType prop : roomType) {\n                request.addQueryParam(\"RoomType\", prop.toString());\n            }\n        }\n        if (codec != null) {\n            for (Room.Codec prop : codec) {\n                request.addQueryParam(\"Codec\", prop.toString());\n            }\n        }\n        if (roomName != null) {\n    \n            request.addQueryParam(\"RoomName\", roomName);\n        }\n        if (createdAfter != null) {\n            request.addQueryParam(\"CreatedAfter\", createdAfter.toInstant().toString());\n        }\n\n        if (createdBefore != null) {\n            request.addQueryParam(\"CreatedBefore\", createdBefore.toInstant().toString());\n        }\n\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\nimport java.util.List;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class RoomReader extends Reader<Room> {\n    private List<Room.RoomType> roomType;\n    private List<Room.Codec> codec;\n    private String roomName;\n    private ZonedDateTime createdAfter;\n    private ZonedDateTime createdBefore;\n\n    /**\n     * Type of room. Can be `go`, `peer_to_peer`, `group`, or `group_small`..\n     *\n     * @param roomType Type of room.\n     * @return this\n     */\n    public RoomReader setRoomType(final List<Room.RoomType> roomType) {\n        this.roomType = roomType;\n        return this;\n    }\n\n    /**\n     * Type of room. Can be `go`, `peer_to_peer`, `group`, or `group_small`..\n     *\n     * @param roomType Type of room.\n     * @return this\n     */\n    public RoomReader setRoomType(final Room.RoomType roomType) {\n        return setRoomType(Promoter.listOfOne(roomType));\n    }\n\n    /**\n     * Codecs used by participants in the room. Can be `VP8`, `H264`, or `VP9`..\n     *\n     * @param codec Codecs used by participants in the room.\n     * @return this\n     */\n    public RoomReader setCodec(final List<Room.Codec> codec) {\n        this.codec = codec;\n        return this;\n    }\n\n    /**\n     * Codecs used by participants in the room. Can be `VP8`, `H264`, or `VP9`..\n     *\n     * @param codec Codecs used by participants in the room.\n     * @return this\n     */\n    public RoomReader setCodec(final Room.Codec codec) {\n        return setCodec(Promoter.listOfOne(codec));\n    }\n\n    /**\n     * Room friendly name..\n     *\n     * @param roomName Room friendly name.\n     * @return this\n     */\n    public RoomReader setRoomName(final String roomName) {\n        this.roomName = roomName;\n        return this;\n    }\n\n    /**\n     * Only read rooms that started on or after this ISO 8601 timestamp..\n     *\n     * @param createdAfter Only read rooms that started on or after this ISO 8601\n     *                     timestamp.\n     * @return this\n     */\n    public RoomReader setCreatedAfter(final ZonedDateTime createdAfter) {\n        this.createdAfter = createdAfter;\n        return this;\n    }\n\n    /**\n     * Only read rooms that started before this ISO 8601 timestamp..\n     *\n     * @param createdBefore Only read rooms that started before this ISO 8601\n     *                      timestamp.\n     * @return this\n     */\n    public RoomReader setCreatedBefore(final ZonedDateTime createdBefore) {\n        this.createdBefore = createdBefore;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Room ResourceSet\n     */\n    @Override\n    public ResourceSet<Room> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Room ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Room> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.INSIGHTS.toString(),\n            \"/v1/Video/Rooms\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Room ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Room> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Room> nextPage(final Page<Room> page,\n                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Room> previousPage(final Page<Room> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.INSIGHTS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Room Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Room> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Room read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"rooms\",\n            response.getContent(),\n            Room.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (roomType != null) {\n            for (Room.RoomType prop : roomType) {\n                request.addQueryParam(\"RoomType\", prop.toString());\n            }\n        }\n\n        if (codec != null) {\n            for (Room.Codec prop : codec) {\n                request.addQueryParam(\"Codec\", prop.toString());\n            }\n        }\n\n        if (roomName != null) {\n            request.addQueryParam(\"RoomName\", roomName);\n        }\n\n        if (createdAfter != null) {\n            request.addQueryParam(\"CreatedAfter\", createdAfter.toInstant().toString());\n        }\n\n        if (createdBefore != null) {\n            request.addQueryParam(\"CreatedBefore\", createdBefore.toInstant().toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":89}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Insights\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Insights\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SettingFetcher extends Fetcher<Setting> {\n    private String subaccountSid;\n\n    public SettingFetcher(){\n    }\n\n    public SettingFetcher setSubaccountSid(final String subaccountSid){\n    this.subaccountSid = subaccountSid;\n    return this;\n    }\n\n    @Override\n    public Setting fetch(final TwilioRestClient client) {\n        String path = \"/v1/Voice/Settings\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.INSIGHTS.toString(),\n            path\n        );\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Setting fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Setting.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addQueryParams(final Request request) {\n        if (subaccountSid != null) {\n    \n            request.addQueryParam(\"SubaccountSid\", subaccountSid);\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SettingFetcher extends Fetcher<Setting> {\n    private String subaccountSid;\n\n    /**\n     * The subaccount_sid.\n     *\n     * @param subaccountSid The subaccount_sid\n     * @return this\n     */\n    public SettingFetcher setSubaccountSid(final String subaccountSid) {\n        this.subaccountSid = subaccountSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Setting\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Setting fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.INSIGHTS.toString(),\n            \"/v1/Voice/Settings\"\n        );\n\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Setting fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Setting.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (subaccountSid != null) {\n            request.addQueryParam(\"SubaccountSid\", subaccountSid);\n        }\n    }\n}\n","lineNo":56}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Insights\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Insights\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SettingUpdater extends Updater<Setting>{\n    private Boolean advancedFeatures;\n    private Boolean voiceTrace;\n    private String subaccountSid;\n\n    public SettingUpdater(){\n    }\n\n    public SettingUpdater setAdvancedFeatures(final Boolean advancedFeatures){\n        this.advancedFeatures = advancedFeatures;\n        return this;\n    }\n    public SettingUpdater setVoiceTrace(final Boolean voiceTrace){\n        this.voiceTrace = voiceTrace;\n        return this;\n    }\n    public SettingUpdater setSubaccountSid(final String subaccountSid){\n        this.subaccountSid = subaccountSid;\n        return this;\n    }\n\n    @Override\n    public Setting update(final TwilioRestClient client){\n        String path = \"/v1/Voice/Settings\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.INSIGHTS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Setting update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Setting.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (advancedFeatures != null) {\n            request.addPostParam(\"AdvancedFeatures\", advancedFeatures.toString());\n    \n        }\n        if (voiceTrace != null) {\n            request.addPostParam(\"VoiceTrace\", voiceTrace.toString());\n    \n        }\n        if (subaccountSid != null) {\n            request.addPostParam(\"SubaccountSid\", subaccountSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.insights.v1;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SettingUpdater extends Updater<Setting> {\n    private Boolean advancedFeatures;\n    private Boolean voiceTrace;\n    private String subaccountSid;\n\n    /**\n     * The advanced_features.\n     *\n     * @param advancedFeatures The advanced_features\n     * @return this\n     */\n    public SettingUpdater setAdvancedFeatures(final Boolean advancedFeatures) {\n        this.advancedFeatures = advancedFeatures;\n        return this;\n    }\n\n    /**\n     * The voice_trace.\n     *\n     * @param voiceTrace The voice_trace\n     * @return this\n     */\n    public SettingUpdater setVoiceTrace(final Boolean voiceTrace) {\n        this.voiceTrace = voiceTrace;\n        return this;\n    }\n\n    /**\n     * The subaccount_sid.\n     *\n     * @param subaccountSid The subaccount_sid\n     * @return this\n     */\n    public SettingUpdater setSubaccountSid(final String subaccountSid) {\n        this.subaccountSid = subaccountSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Setting\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Setting update(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.INSIGHTS.toString(),\n            \"/v1/Voice/Settings\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Setting update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Setting.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (advancedFeatures != null) {\n            request.addPostParam(\"AdvancedFeatures\", advancedFeatures.toString());\n        }\n\n        if (voiceTrace != null) {\n            request.addPostParam(\"VoiceTrace\", voiceTrace.toString());\n        }\n\n        if (subaccountSid != null) {\n            request.addPostParam(\"SubaccountSid\", subaccountSid);\n        }\n    }\n}\n","lineNo":66}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Ip_messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.ipmessaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Ip_messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialCreator extends Creator<Credential>{\n    private Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    public CredentialCreator setType(final Credential.PushService type){\n        this.type = type;\n        return this;\n    }\n    public CredentialCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CredentialCreator setCertificate(final String certificate){\n        this.certificate = certificate;\n        return this;\n    }\n    public CredentialCreator setPrivateKey(final String privateKey){\n        this.privateKey = privateKey;\n        return this;\n    }\n    public CredentialCreator setSandbox(final Boolean sandbox){\n        this.sandbox = sandbox;\n        return this;\n    }\n    public CredentialCreator setApiKey(final String apiKey){\n        this.apiKey = apiKey;\n        return this;\n    }\n    public CredentialCreator setSecret(final String secret){\n        this.secret = secret;\n        return this;\n    }\n\n    @Override\n    public Credential create(final TwilioRestClient client){\n        String path = \"/v1/Credentials\";\n\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.IPMESSAGING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n    \n        }\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n    \n        }\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n    \n        }\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n    \n        }\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.ipmessaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialCreator extends Creator<Credential> {\n    private final Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    /**\n     * Construct a new CredentialCreator.\n     *\n     * @param type The type\n     */\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    /**\n     * The friendly_name.\n     *\n     * @param friendlyName The friendly_name\n     * @return this\n     */\n    public CredentialCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The certificate.\n     *\n     * @param certificate The certificate\n     * @return this\n     */\n    public CredentialCreator setCertificate(final String certificate) {\n        this.certificate = certificate;\n        return this;\n    }\n\n    /**\n     * The private_key.\n     *\n     * @param privateKey The private_key\n     * @return this\n     */\n    public CredentialCreator setPrivateKey(final String privateKey) {\n        this.privateKey = privateKey;\n        return this;\n    }\n\n    /**\n     * The sandbox.\n     *\n     * @param sandbox The sandbox\n     * @return this\n     */\n    public CredentialCreator setSandbox(final Boolean sandbox) {\n        this.sandbox = sandbox;\n        return this;\n    }\n\n    /**\n     * The api_key.\n     *\n     * @param apiKey The api_key\n     * @return this\n     */\n    public CredentialCreator setApiKey(final String apiKey) {\n        this.apiKey = apiKey;\n        return this;\n    }\n\n    /**\n     * The secret.\n     *\n     * @param secret The secret\n     * @return this\n     */\n    public CredentialCreator setSecret(final String secret) {\n        this.secret = secret;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Credential\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Credential create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.IPMESSAGING.toString(),\n            \"/v1/Credentials\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n        }\n\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n        }\n\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n        }\n\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n        }\n\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n        }\n    }\n}\n","lineNo":87}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Ip_messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.ipmessaging.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Ip_messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialReader extends Reader<Credential> {\n    private Integer pageSize;\n\n    public CredentialReader(){\n    }\n\n    public CredentialReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Credentials\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.IPMESSAGING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.ipmessaging.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialReader extends Reader<Credential> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.IPMESSAGING.toString(),\n            \"/v1/Credentials\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Credential Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Ip_messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.ipmessaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Ip_messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v1/Services\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.IPMESSAGING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.ipmessaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceCreator extends Creator<Service> {\n    private final String friendlyName;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param friendlyName The friendly_name\n     */\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.IPMESSAGING.toString(),\n            \"/v1/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Ip_messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.ipmessaging.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Ip_messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.IPMESSAGING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.ipmessaging.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.IPMESSAGING.toString(),\n            \"/v1/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Ip_messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.ipmessaging.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Ip_messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialCreator extends Creator<Credential>{\n    private Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    public CredentialCreator setType(final Credential.PushService type){\n        this.type = type;\n        return this;\n    }\n    public CredentialCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CredentialCreator setCertificate(final String certificate){\n        this.certificate = certificate;\n        return this;\n    }\n    public CredentialCreator setPrivateKey(final String privateKey){\n        this.privateKey = privateKey;\n        return this;\n    }\n    public CredentialCreator setSandbox(final Boolean sandbox){\n        this.sandbox = sandbox;\n        return this;\n    }\n    public CredentialCreator setApiKey(final String apiKey){\n        this.apiKey = apiKey;\n        return this;\n    }\n    public CredentialCreator setSecret(final String secret){\n        this.secret = secret;\n        return this;\n    }\n\n    @Override\n    public Credential create(final TwilioRestClient client){\n        String path = \"/v2/Credentials\";\n\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.IPMESSAGING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n    \n        }\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n    \n        }\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n    \n        }\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n    \n        }\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.ipmessaging.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialCreator extends Creator<Credential> {\n    private final Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    /**\n     * Construct a new CredentialCreator.\n     *\n     * @param type The type\n     */\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    /**\n     * The friendly_name.\n     *\n     * @param friendlyName The friendly_name\n     * @return this\n     */\n    public CredentialCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The certificate.\n     *\n     * @param certificate The certificate\n     * @return this\n     */\n    public CredentialCreator setCertificate(final String certificate) {\n        this.certificate = certificate;\n        return this;\n    }\n\n    /**\n     * The private_key.\n     *\n     * @param privateKey The private_key\n     * @return this\n     */\n    public CredentialCreator setPrivateKey(final String privateKey) {\n        this.privateKey = privateKey;\n        return this;\n    }\n\n    /**\n     * The sandbox.\n     *\n     * @param sandbox The sandbox\n     * @return this\n     */\n    public CredentialCreator setSandbox(final Boolean sandbox) {\n        this.sandbox = sandbox;\n        return this;\n    }\n\n    /**\n     * The api_key.\n     *\n     * @param apiKey The api_key\n     * @return this\n     */\n    public CredentialCreator setApiKey(final String apiKey) {\n        this.apiKey = apiKey;\n        return this;\n    }\n\n    /**\n     * The secret.\n     *\n     * @param secret The secret\n     * @return this\n     */\n    public CredentialCreator setSecret(final String secret) {\n        this.secret = secret;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Credential\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Credential create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.IPMESSAGING.toString(),\n            \"/v2/Credentials\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n        }\n\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n        }\n\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n        }\n\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n        }\n\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n        }\n    }\n}\n","lineNo":87}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Ip_messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.ipmessaging.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Ip_messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialReader extends Reader<Credential> {\n    private Integer pageSize;\n\n    public CredentialReader(){\n    }\n\n    public CredentialReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Credentials\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.IPMESSAGING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.ipmessaging.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CredentialReader extends Reader<Credential> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.IPMESSAGING.toString(),\n            \"/v2/Credentials\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Credential Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Ip_messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.ipmessaging.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Ip_messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v2/Services\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.IPMESSAGING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.ipmessaging.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceCreator extends Creator<Service> {\n    private final String friendlyName;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param friendlyName The friendly_name\n     */\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.IPMESSAGING.toString(),\n            \"/v2/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Ip_messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.ipmessaging.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Ip_messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.IPMESSAGING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.ipmessaging.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.IPMESSAGING.toString(),\n            \"/v2/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.IPMESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Media\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\nimport java.net.URI;\n\nimport java.util.Map;\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Media\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MediaProcessorCreator extends Creator<MediaProcessor>{\n    private String extension;\n    private String extensionContext;\n    private Map<String, Object> extensionEnvironment;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Integer maxDuration;\n\n    public MediaProcessorCreator(final String extension, final String extensionContext) {\n        this.extension = extension;\n        this.extensionContext = extensionContext;\n    }\n\n    public MediaProcessorCreator setExtension(final String extension){\n        this.extension = extension;\n        return this;\n    }\n    public MediaProcessorCreator setExtensionContext(final String extensionContext){\n        this.extensionContext = extensionContext;\n        return this;\n    }\n    public MediaProcessorCreator setExtensionEnvironment(final Map<String, Object> extensionEnvironment){\n        this.extensionEnvironment = extensionEnvironment;\n        return this;\n    }\n    public MediaProcessorCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public MediaProcessorCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public MediaProcessorCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public MediaProcessorCreator setMaxDuration(final Integer maxDuration){\n        this.maxDuration = maxDuration;\n        return this;\n    }\n\n    @Override\n    public MediaProcessor create(final TwilioRestClient client){\n        String path = \"/v1/MediaProcessors\";\n\n        path = path.replace(\"{\"+\"Extension\"+\"}\", this.extension.toString());\n        path = path.replace(\"{\"+\"ExtensionContext\"+\"}\", this.extensionContext.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MEDIA.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"MediaProcessor creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return MediaProcessor.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (extension != null) {\n            request.addPostParam(\"Extension\", extension);\n    \n        }\n        if (extensionContext != null) {\n            request.addPostParam(\"ExtensionContext\", extensionContext);\n    \n        }\n        if (extensionEnvironment != null) {\n            request.addPostParam(\"ExtensionEnvironment\",  Converter.mapToJson(extensionEnvironment));\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (maxDuration != null) {\n            request.addPostParam(\"MaxDuration\", maxDuration.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\nimport java.util.Map;\n\npublic class MediaProcessorCreator extends Creator<MediaProcessor> {\n    private final String extension;\n    private final String extensionContext;\n    private Map<String, Object> extensionEnvironment;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Integer maxDuration;\n\n    /**\n     * Construct a new MediaProcessorCreator.\n     *\n     * @param extension The Media Extension name or URL\n     * @param extensionContext The Media Extension context\n     */\n    public MediaProcessorCreator(final String extension,\n                                 final String extensionContext) {\n        this.extension = extension;\n        this.extensionContext = extensionContext;\n    }\n\n    /**\n     * User-defined environment variables for the Media Extension, represented as a\n     * JSON dictionary of key/value strings. See the documentation for the specific\n     * <a href=\"/docs/live/api/media-extensions-overview\">Media Extension<\/a> you\n     * are using for more information about whether you need to provide this..\n     *\n     * @param extensionEnvironment The Media Extension environment\n     * @return this\n     */\n    public MediaProcessorCreator setExtensionEnvironment(final Map<String, Object> extensionEnvironment) {\n        this.extensionEnvironment = extensionEnvironment;\n        return this;\n    }\n\n    /**\n     * The URL to which Twilio will send asynchronous webhook requests for every\n     * MediaProcessor event. See <a href=\"/docs/live/status-callbacks\">Status\n     * Callbacks<\/a> for details..\n     *\n     * @param statusCallback The URL to send MediaProcessor event updates to your\n     *                       application\n     * @return this\n     */\n    public MediaProcessorCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL to which Twilio will send asynchronous webhook requests for every\n     * MediaProcessor event. See <a href=\"/docs/live/status-callbacks\">Status\n     * Callbacks<\/a> for details..\n     *\n     * @param statusCallback The URL to send MediaProcessor event updates to your\n     *                       application\n     * @return this\n     */\n    public MediaProcessorCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The HTTP method Twilio should use to call the `status_callback` URL. Can be\n     * `POST` or `GET` and the default is `POST`..\n     *\n     * @param statusCallbackMethod The HTTP method Twilio should use to call the\n     *                             `status_callback` URL\n     * @return this\n     */\n    public MediaProcessorCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * The maximum time, in seconds, that the MediaProcessor can run before\n     * automatically ends. The default value is 300 seconds, and the maximum value\n     * is 90000 seconds. Once this maximum duration is reached, Twilio will end the\n     * MediaProcessor, regardless of whether media is still streaming..\n     *\n     * @param maxDuration Maximum MediaProcessor duration in minutes\n     * @return this\n     */\n    public MediaProcessorCreator setMaxDuration(final Integer maxDuration) {\n        this.maxDuration = maxDuration;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created MediaProcessor\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public MediaProcessor create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MEDIA.toString(),\n            \"/v1/MediaProcessors\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"MediaProcessor creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return MediaProcessor.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (extension != null) {\n            request.addPostParam(\"Extension\", extension);\n        }\n\n        if (extensionContext != null) {\n            request.addPostParam(\"ExtensionContext\", extensionContext);\n        }\n\n        if (extensionEnvironment != null) {\n            request.addPostParam(\"ExtensionEnvironment\", Converter.mapToJson(extensionEnvironment));\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (maxDuration != null) {\n            request.addPostParam(\"MaxDuration\", maxDuration.toString());\n        }\n    }\n}\n","lineNo":95}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Media\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Media\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MediaProcessorReader extends Reader<MediaProcessor> {\n    private MediaProcessor.Order order;\n    private MediaProcessor.Status status;\n    private Integer pageSize;\n\n    public MediaProcessorReader(){\n    }\n\n    public MediaProcessorReader setOrder(final MediaProcessor.Order order){\n        this.order = order;\n        return this;\n    }\n    public MediaProcessorReader setStatus(final MediaProcessor.Status status){\n        this.status = status;\n        return this;\n    }\n    public MediaProcessorReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<MediaProcessor> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<MediaProcessor> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/MediaProcessors\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MEDIA.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<MediaProcessor> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"MediaProcessor read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"media_processors\",\n            response.getContent(),\n            MediaProcessor.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<MediaProcessor> previousPage(final Page<MediaProcessor> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<MediaProcessor> nextPage(final Page<MediaProcessor> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<MediaProcessor> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (order != null) {\n    \n            request.addQueryParam(\"Order\", order.toString());\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class MediaProcessorReader extends Reader<MediaProcessor> {\n    private MediaProcessor.Order order;\n    private MediaProcessor.Status status;\n\n    /**\n     * The sort order of the list by `date_created`. Can be: `asc` (ascending) or\n     * `desc` (descending) with `desc` as the default..\n     *\n     * @param order The sort order of the list\n     * @return this\n     */\n    public MediaProcessorReader setOrder(final MediaProcessor.Order order) {\n        this.order = order;\n        return this;\n    }\n\n    /**\n     * Status to filter by, with possible values `started`, `ended` or `failed`..\n     *\n     * @param status Status to filter by\n     * @return this\n     */\n    public MediaProcessorReader setStatus(final MediaProcessor.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return MediaProcessor ResourceSet\n     */\n    @Override\n    public ResourceSet<MediaProcessor> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return MediaProcessor ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<MediaProcessor> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MEDIA.toString(),\n            \"/v1/MediaProcessors\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return MediaProcessor ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<MediaProcessor> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<MediaProcessor> nextPage(final Page<MediaProcessor> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<MediaProcessor> previousPage(final Page<MediaProcessor> page,\n                                             final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of MediaProcessor Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<MediaProcessor> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"MediaProcessor read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"media_processors\",\n            response.getContent(),\n            MediaProcessor.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (order != null) {\n            request.addQueryParam(\"Order\", order.toString());\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Media\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Media\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class MediaRecordingReader extends Reader<MediaRecording> {\n    private MediaRecording.Order order;\n    private MediaRecording.Status status;\n    private String processorSid;\n    private String sourceSid;\n    private Integer pageSize;\n\n    public MediaRecordingReader(){\n    }\n\n    public MediaRecordingReader setOrder(final MediaRecording.Order order){\n        this.order = order;\n        return this;\n    }\n    public MediaRecordingReader setStatus(final MediaRecording.Status status){\n        this.status = status;\n        return this;\n    }\n    public MediaRecordingReader setProcessorSid(final String processorSid){\n        this.processorSid = processorSid;\n        return this;\n    }\n    public MediaRecordingReader setSourceSid(final String sourceSid){\n        this.sourceSid = sourceSid;\n        return this;\n    }\n    public MediaRecordingReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<MediaRecording> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<MediaRecording> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/MediaRecordings\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MEDIA.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<MediaRecording> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"MediaRecording read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"media_recordings\",\n            response.getContent(),\n            MediaRecording.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<MediaRecording> previousPage(final Page<MediaRecording> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<MediaRecording> nextPage(final Page<MediaRecording> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<MediaRecording> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (order != null) {\n    \n            request.addQueryParam(\"Order\", order.toString());\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (processorSid != null) {\n    \n            request.addQueryParam(\"ProcessorSid\", processorSid);\n        }\n        if (sourceSid != null) {\n    \n            request.addQueryParam(\"SourceSid\", sourceSid);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class MediaRecordingReader extends Reader<MediaRecording> {\n    private MediaRecording.Order order;\n    private MediaRecording.Status status;\n    private String processorSid;\n    private String sourceSid;\n\n    /**\n     * The sort order of the list by `date_created`. Can be: `asc` (ascending) or\n     * `desc` (descending) with `desc` as the default..\n     *\n     * @param order The sort order of the list\n     * @return this\n     */\n    public MediaRecordingReader setOrder(final MediaRecording.Order order) {\n        this.order = order;\n        return this;\n    }\n\n    /**\n     * Status to filter by, with possible values `processing`, `completed`,\n     * `deleted`, or `failed`..\n     *\n     * @param status Status to filter by\n     * @return this\n     */\n    public MediaRecordingReader setStatus(final MediaRecording.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * SID of a MediaProcessor to filter by..\n     *\n     * @param processorSid MediaProcessor to filter by\n     * @return this\n     */\n    public MediaRecordingReader setProcessorSid(final String processorSid) {\n        this.processorSid = processorSid;\n        return this;\n    }\n\n    /**\n     * SID of a MediaRecording source to filter by..\n     *\n     * @param sourceSid Source SID to filter by\n     * @return this\n     */\n    public MediaRecordingReader setSourceSid(final String sourceSid) {\n        this.sourceSid = sourceSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return MediaRecording ResourceSet\n     */\n    @Override\n    public ResourceSet<MediaRecording> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return MediaRecording ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<MediaRecording> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MEDIA.toString(),\n            \"/v1/MediaRecordings\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return MediaRecording ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<MediaRecording> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<MediaRecording> nextPage(final Page<MediaRecording> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<MediaRecording> previousPage(final Page<MediaRecording> page,\n                                             final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of MediaRecording Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<MediaRecording> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"MediaRecording read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"media_recordings\",\n            response.getContent(),\n            MediaRecording.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (order != null) {\n            request.addQueryParam(\"Order\", order.toString());\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (processorSid != null) {\n            request.addQueryParam(\"ProcessorSid\", processorSid);\n        }\n\n        if (sourceSid != null) {\n            request.addQueryParam(\"SourceSid\", sourceSid);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":82}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Media\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Media\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class PlayerStreamerCreator extends Creator<PlayerStreamer>{\n    private Boolean video;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Integer maxDuration;\n\n    public PlayerStreamerCreator() {\n    }\n\n    public PlayerStreamerCreator setVideo(final Boolean video){\n        this.video = video;\n        return this;\n    }\n    public PlayerStreamerCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public PlayerStreamerCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public PlayerStreamerCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public PlayerStreamerCreator setMaxDuration(final Integer maxDuration){\n        this.maxDuration = maxDuration;\n        return this;\n    }\n\n    @Override\n    public PlayerStreamer create(final TwilioRestClient client){\n        String path = \"/v1/PlayerStreamers\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MEDIA.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"PlayerStreamer creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return PlayerStreamer.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (video != null) {\n            request.addPostParam(\"Video\", video.toString());\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (maxDuration != null) {\n            request.addPostParam(\"MaxDuration\", maxDuration.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class PlayerStreamerCreator extends Creator<PlayerStreamer> {\n    private Boolean video;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Integer maxDuration;\n\n    /**\n     * Specifies whether the PlayerStreamer is configured to stream video. Defaults\n     * to `true`..\n     *\n     * @param video Whether the PlayerStreamer is configured to stream video\n     * @return this\n     */\n    public PlayerStreamerCreator setVideo(final Boolean video) {\n        this.video = video;\n        return this;\n    }\n\n    /**\n     * The URL to which Twilio will send asynchronous webhook requests for every\n     * PlayerStreamer event. See <a href=\"/docs/live/status-callbacks\">Status\n     * Callbacks<\/a> for more details..\n     *\n     * @param statusCallback The URL to which Twilio will send PlayerStreamer event\n     *                       updates\n     * @return this\n     */\n    public PlayerStreamerCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL to which Twilio will send asynchronous webhook requests for every\n     * PlayerStreamer event. See <a href=\"/docs/live/status-callbacks\">Status\n     * Callbacks<\/a> for more details..\n     *\n     * @param statusCallback The URL to which Twilio will send PlayerStreamer event\n     *                       updates\n     * @return this\n     */\n    public PlayerStreamerCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The HTTP method Twilio should use to call the `status_callback` URL. Can be\n     * `POST` or `GET` and the default is `POST`..\n     *\n     * @param statusCallbackMethod The HTTP method Twilio should use to call the\n     *                             `status_callback` URL\n     * @return this\n     */\n    public PlayerStreamerCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * The maximum time, in seconds, that the PlayerStreamer is active (`created` or\n     * `started`) before automatically ends. The default value is 300 seconds, and\n     * the maximum value is 90000 seconds. Once this maximum duration is reached,\n     * Twilio will end the PlayerStreamer, regardless of whether media is still\n     * streaming..\n     *\n     * @param maxDuration Maximum PlayerStreamer duration in seconds\n     * @return this\n     */\n    public PlayerStreamerCreator setMaxDuration(final Integer maxDuration) {\n        this.maxDuration = maxDuration;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created PlayerStreamer\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public PlayerStreamer create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MEDIA.toString(),\n            \"/v1/PlayerStreamers\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"PlayerStreamer creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return PlayerStreamer.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (video != null) {\n            request.addPostParam(\"Video\", video.toString());\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (maxDuration != null) {\n            request.addPostParam(\"MaxDuration\", maxDuration.toString());\n        }\n    }\n}\n","lineNo":79}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Media\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Media\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class PlayerStreamerReader extends Reader<PlayerStreamer> {\n    private PlayerStreamer.Order order;\n    private PlayerStreamer.Status status;\n    private Integer pageSize;\n\n    public PlayerStreamerReader(){\n    }\n\n    public PlayerStreamerReader setOrder(final PlayerStreamer.Order order){\n        this.order = order;\n        return this;\n    }\n    public PlayerStreamerReader setStatus(final PlayerStreamer.Status status){\n        this.status = status;\n        return this;\n    }\n    public PlayerStreamerReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<PlayerStreamer> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<PlayerStreamer> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/PlayerStreamers\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MEDIA.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<PlayerStreamer> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"PlayerStreamer read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"player_streamers\",\n            response.getContent(),\n            PlayerStreamer.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<PlayerStreamer> previousPage(final Page<PlayerStreamer> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<PlayerStreamer> nextPage(final Page<PlayerStreamer> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<PlayerStreamer> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (order != null) {\n    \n            request.addQueryParam(\"Order\", order.toString());\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.media.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class PlayerStreamerReader extends Reader<PlayerStreamer> {\n    private PlayerStreamer.Order order;\n    private PlayerStreamer.Status status;\n\n    /**\n     * The sort order of the list by `date_created`. Can be: `asc` (ascending) or\n     * `desc` (descending) with `desc` as the default..\n     *\n     * @param order The sort order of the list\n     * @return this\n     */\n    public PlayerStreamerReader setOrder(final PlayerStreamer.Order order) {\n        this.order = order;\n        return this;\n    }\n\n    /**\n     * Status to filter by, with possible values `created`, `started`, `ended`, or\n     * `failed`..\n     *\n     * @param status Status to filter by\n     * @return this\n     */\n    public PlayerStreamerReader setStatus(final PlayerStreamer.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return PlayerStreamer ResourceSet\n     */\n    @Override\n    public ResourceSet<PlayerStreamer> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return PlayerStreamer ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<PlayerStreamer> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MEDIA.toString(),\n            \"/v1/PlayerStreamers\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return PlayerStreamer ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<PlayerStreamer> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<PlayerStreamer> nextPage(final Page<PlayerStreamer> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<PlayerStreamer> previousPage(final Page<PlayerStreamer> page,\n                                             final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MEDIA.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of PlayerStreamer Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<PlayerStreamer> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"PlayerStreamer read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"player_streamers\",\n            response.getContent(),\n            PlayerStreamer.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (order != null) {\n            request.addQueryParam(\"Order\", order.toString());\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class BrandRegistrationCreator extends Creator<BrandRegistration>{\n    private String customerProfileBundleSid;\n    private String a2PProfileBundleSid;\n    private String brandType;\n    private Boolean mock;\n    private Boolean skipAutomaticSecVet;\n\n    public BrandRegistrationCreator(final String customerProfileBundleSid, final String a2PProfileBundleSid) {\n        this.customerProfileBundleSid = customerProfileBundleSid;\n        this.a2PProfileBundleSid = a2PProfileBundleSid;\n    }\n\n    public BrandRegistrationCreator setCustomerProfileBundleSid(final String customerProfileBundleSid){\n        this.customerProfileBundleSid = customerProfileBundleSid;\n        return this;\n    }\n    public BrandRegistrationCreator setA2PProfileBundleSid(final String a2PProfileBundleSid){\n        this.a2PProfileBundleSid = a2PProfileBundleSid;\n        return this;\n    }\n    public BrandRegistrationCreator setBrandType(final String brandType){\n        this.brandType = brandType;\n        return this;\n    }\n    public BrandRegistrationCreator setMock(final Boolean mock){\n        this.mock = mock;\n        return this;\n    }\n    public BrandRegistrationCreator setSkipAutomaticSecVet(final Boolean skipAutomaticSecVet){\n        this.skipAutomaticSecVet = skipAutomaticSecVet;\n        return this;\n    }\n\n    @Override\n    public BrandRegistration create(final TwilioRestClient client){\n        String path = \"/v1/a2p/BrandRegistrations\";\n\n        path = path.replace(\"{\"+\"CustomerProfileBundleSid\"+\"}\", this.customerProfileBundleSid.toString());\n        path = path.replace(\"{\"+\"A2PProfileBundleSid\"+\"}\", this.a2PProfileBundleSid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MESSAGING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"BrandRegistration creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return BrandRegistration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (customerProfileBundleSid != null) {\n            request.addPostParam(\"CustomerProfileBundleSid\", customerProfileBundleSid);\n    \n        }\n        if (a2PProfileBundleSid != null) {\n            request.addPostParam(\"A2PProfileBundleSid\", a2PProfileBundleSid);\n    \n        }\n        if (brandType != null) {\n            request.addPostParam(\"BrandType\", brandType);\n    \n        }\n        if (mock != null) {\n            request.addPostParam(\"Mock\", mock.toString());\n    \n        }\n        if (skipAutomaticSecVet != null) {\n            request.addPostParam(\"SkipAutomaticSecVet\", skipAutomaticSecVet.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class BrandRegistrationCreator extends Creator<BrandRegistration> {\n    private final String customerProfileBundleSid;\n    private final String a2PProfileBundleSid;\n    private String brandType;\n    private Boolean mock;\n    private Boolean skipAutomaticSecVet;\n\n    /**\n     * Construct a new BrandRegistrationCreator.\n     *\n     * @param customerProfileBundleSid Customer Profile Bundle Sid\n     * @param a2PProfileBundleSid A2P Messaging Profile Bundle Sid\n     */\n    public BrandRegistrationCreator(final String customerProfileBundleSid,\n                                    final String a2PProfileBundleSid) {\n        this.customerProfileBundleSid = customerProfileBundleSid;\n        this.a2PProfileBundleSid = a2PProfileBundleSid;\n    }\n\n    /**\n     * Type of brand being created. One of: \"STANDARD\", \"STARTER\". STARTER is for\n     * low volume, starter use cases. STANDARD is for all other use cases..\n     *\n     * @param brandType Type of brand being created. One of: \"STANDARD\", \"STARTER\".\n     * @return this\n     */\n    public BrandRegistrationCreator setBrandType(final String brandType) {\n        this.brandType = brandType;\n        return this;\n    }\n\n    /**\n     * A boolean that specifies whether brand should be a mock or not. If true,\n     * brand will be registered as a mock brand. Defaults to false if no value is\n     * provided..\n     *\n     * @param mock A boolean that specifies whether brand should be a mock or not.\n     *             If true, brand will be registered as a mock brand. Defaults to\n     *             false if no value is provided.\n     * @return this\n     */\n    public BrandRegistrationCreator setMock(final Boolean mock) {\n        this.mock = mock;\n        return this;\n    }\n\n    /**\n     * A flag to disable automatic secondary vetting for brands which it would\n     * otherwise be done..\n     *\n     * @param skipAutomaticSecVet Skip Automatic Secondary Vetting\n     * @return this\n     */\n    public BrandRegistrationCreator setSkipAutomaticSecVet(final Boolean skipAutomaticSecVet) {\n        this.skipAutomaticSecVet = skipAutomaticSecVet;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created BrandRegistration\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public BrandRegistration create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MESSAGING.toString(),\n            \"/v1/a2p/BrandRegistrations\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"BrandRegistration creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return BrandRegistration.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (customerProfileBundleSid != null) {\n            request.addPostParam(\"CustomerProfileBundleSid\", customerProfileBundleSid);\n        }\n\n        if (a2PProfileBundleSid != null) {\n            request.addPostParam(\"A2PProfileBundleSid\", a2PProfileBundleSid);\n        }\n\n        if (brandType != null) {\n            request.addPostParam(\"BrandType\", brandType);\n        }\n\n        if (mock != null) {\n            request.addPostParam(\"Mock\", mock.toString());\n        }\n\n        if (skipAutomaticSecVet != null) {\n            request.addPostParam(\"SkipAutomaticSecVet\", skipAutomaticSecVet.toString());\n        }\n    }\n}\n","lineNo":78}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class BrandRegistrationReader extends Reader<BrandRegistration> {\n    private Integer pageSize;\n\n    public BrandRegistrationReader(){\n    }\n\n    public BrandRegistrationReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<BrandRegistration> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<BrandRegistration> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/a2p/BrandRegistrations\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<BrandRegistration> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"BrandRegistration read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"data\",\n            response.getContent(),\n            BrandRegistration.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<BrandRegistration> previousPage(final Page<BrandRegistration> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<BrandRegistration> nextPage(final Page<BrandRegistration> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<BrandRegistration> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class BrandRegistrationReader extends Reader<BrandRegistration> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return BrandRegistration ResourceSet\n     */\n    @Override\n    public ResourceSet<BrandRegistration> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return BrandRegistration ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<BrandRegistration> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            \"/v1/a2p/BrandRegistrations\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return BrandRegistration ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<BrandRegistration> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<BrandRegistration> nextPage(final Page<BrandRegistration> page,\n                                            final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<BrandRegistration> previousPage(final Page<BrandRegistration> page,\n                                                final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of BrandRegistration Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<BrandRegistration> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"BrandRegistration read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"data\",\n            response.getContent(),\n            BrandRegistration.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.LocalDate;\nimport com.twilio.converter.DateConverter;\n\n\n\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class DeactivationsFetcher extends Fetcher<Deactivations> {\n    private LocalDate date;\n\n    public DeactivationsFetcher(){\n    }\n\n    public DeactivationsFetcher setDate(final LocalDate date){\n    this.date = date;\n    return this;\n    }\n\n    @Override\n    public Deactivations fetch(final TwilioRestClient client) {\n        String path = \"/v1/Deactivations\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            path\n        );\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Deactivations fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Deactivations.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addQueryParams(final Request request) {\n        if (date != null) {\n            request.addQueryParam(\"Date\", DateConverter.dateStringFromLocalDate(date));\n        }\n\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.LocalDate;\n\npublic class DeactivationsFetcher extends Fetcher<Deactivations> {\n    private LocalDate date;\n\n    /**\n     * The request will return a list of all United States Phone Numbers that were\n     * deactivated on the day specified by this parameter. This date should be\n     * specified in YYYY-MM-DD format..\n     *\n     * @param date The date to retrieve deactivated numbers for.\n     * @return this\n     */\n    public DeactivationsFetcher setDate(final LocalDate date) {\n        this.date = date;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Deactivations\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Deactivations fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            \"/v1/Deactivations\"\n        );\n\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Deactivations fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Deactivations.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (date != null) {\n            request.addQueryParam(\"Date\", DateConverter.dateStringFromLocalDate(date));\n        }\n    }\n}\n","lineNo":58}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ExternalCampaignCreator extends Creator<ExternalCampaign>{\n    private String campaignId;\n    private String messagingServiceSid;\n\n    public ExternalCampaignCreator(final String campaignId, final String messagingServiceSid) {\n        this.campaignId = campaignId;\n        this.messagingServiceSid = messagingServiceSid;\n    }\n\n    public ExternalCampaignCreator setCampaignId(final String campaignId){\n        this.campaignId = campaignId;\n        return this;\n    }\n    public ExternalCampaignCreator setMessagingServiceSid(final String messagingServiceSid){\n        this.messagingServiceSid = messagingServiceSid;\n        return this;\n    }\n\n    @Override\n    public ExternalCampaign create(final TwilioRestClient client){\n        String path = \"/v1/Services/PreregisteredUsa2p\";\n\n        path = path.replace(\"{\"+\"CampaignId\"+\"}\", this.campaignId.toString());\n        path = path.replace(\"{\"+\"MessagingServiceSid\"+\"}\", this.messagingServiceSid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MESSAGING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"ExternalCampaign creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ExternalCampaign.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (campaignId != null) {\n            request.addPostParam(\"CampaignId\", campaignId);\n    \n        }\n        if (messagingServiceSid != null) {\n            request.addPostParam(\"MessagingServiceSid\", messagingServiceSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ExternalCampaignCreator extends Creator<ExternalCampaign> {\n    private final String campaignId;\n    private final String messagingServiceSid;\n\n    /**\n     * Construct a new ExternalCampaignCreator.\n     *\n     * @param campaignId ID of the preregistered campaign.\n     * @param messagingServiceSid The SID of the Messaging Service the resource is\n     *                            associated with\n     */\n    public ExternalCampaignCreator(final String campaignId,\n                                   final String messagingServiceSid) {\n        this.campaignId = campaignId;\n        this.messagingServiceSid = messagingServiceSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created ExternalCampaign\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public ExternalCampaign create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MESSAGING.toString(),\n            \"/v1/Services/PreregisteredUsa2p\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ExternalCampaign creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ExternalCampaign.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (campaignId != null) {\n            request.addPostParam(\"CampaignId\", campaignId);\n        }\n\n        if (messagingServiceSid != null) {\n            request.addPostParam(\"MessagingServiceSid\", messagingServiceSid);\n        }\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n    private URI inboundRequestUrl;\n    private HttpMethod inboundMethod;\n    private URI fallbackUrl;\n    private HttpMethod fallbackMethod;\n    private URI statusCallback;\n    private Boolean stickySender;\n    private Boolean mmsConverter;\n    private Boolean smartEncoding;\n    private Service.ScanMessageContent scanMessageContent;\n    private Boolean fallbackToLongCode;\n    private Boolean areaCodeGeomatch;\n    private Integer validityPeriod;\n    private Boolean synchronousValidation;\n    private String usecase;\n    private Boolean useInboundWebhookOnNumber;\n\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ServiceCreator setInboundRequestUrl(final URI inboundRequestUrl){\n        this.inboundRequestUrl = inboundRequestUrl;\n        return this;\n    }\n\n    public ServiceCreator setInboundRequestUrl(final String inboundRequestUrl){\n    this.inboundRequestUrl = Promoter.uriFromString(inboundRequestUrl);\n    return this;\n    }\n    public ServiceCreator setInboundMethod(final HttpMethod inboundMethod){\n        this.inboundMethod = inboundMethod;\n        return this;\n    }\n    public ServiceCreator setFallbackUrl(final URI fallbackUrl){\n        this.fallbackUrl = fallbackUrl;\n        return this;\n    }\n\n    public ServiceCreator setFallbackUrl(final String fallbackUrl){\n    this.fallbackUrl = Promoter.uriFromString(fallbackUrl);\n    return this;\n    }\n    public ServiceCreator setFallbackMethod(final HttpMethod fallbackMethod){\n        this.fallbackMethod = fallbackMethod;\n        return this;\n    }\n    public ServiceCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public ServiceCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public ServiceCreator setStickySender(final Boolean stickySender){\n        this.stickySender = stickySender;\n        return this;\n    }\n    public ServiceCreator setMmsConverter(final Boolean mmsConverter){\n        this.mmsConverter = mmsConverter;\n        return this;\n    }\n    public ServiceCreator setSmartEncoding(final Boolean smartEncoding){\n        this.smartEncoding = smartEncoding;\n        return this;\n    }\n    public ServiceCreator setScanMessageContent(final Service.ScanMessageContent scanMessageContent){\n        this.scanMessageContent = scanMessageContent;\n        return this;\n    }\n    public ServiceCreator setFallbackToLongCode(final Boolean fallbackToLongCode){\n        this.fallbackToLongCode = fallbackToLongCode;\n        return this;\n    }\n    public ServiceCreator setAreaCodeGeomatch(final Boolean areaCodeGeomatch){\n        this.areaCodeGeomatch = areaCodeGeomatch;\n        return this;\n    }\n    public ServiceCreator setValidityPeriod(final Integer validityPeriod){\n        this.validityPeriod = validityPeriod;\n        return this;\n    }\n    public ServiceCreator setSynchronousValidation(final Boolean synchronousValidation){\n        this.synchronousValidation = synchronousValidation;\n        return this;\n    }\n    public ServiceCreator setUsecase(final String usecase){\n        this.usecase = usecase;\n        return this;\n    }\n    public ServiceCreator setUseInboundWebhookOnNumber(final Boolean useInboundWebhookOnNumber){\n        this.useInboundWebhookOnNumber = useInboundWebhookOnNumber;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v1/Services\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MESSAGING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (inboundRequestUrl != null) {\n            request.addPostParam(\"InboundRequestUrl\", inboundRequestUrl.toString());\n    \n        }\n        if (inboundMethod != null) {\n            request.addPostParam(\"InboundMethod\", inboundMethod.toString());\n    \n        }\n        if (fallbackUrl != null) {\n            request.addPostParam(\"FallbackUrl\", fallbackUrl.toString());\n    \n        }\n        if (fallbackMethod != null) {\n            request.addPostParam(\"FallbackMethod\", fallbackMethod.toString());\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (stickySender != null) {\n            request.addPostParam(\"StickySender\", stickySender.toString());\n    \n        }\n        if (mmsConverter != null) {\n            request.addPostParam(\"MmsConverter\", mmsConverter.toString());\n    \n        }\n        if (smartEncoding != null) {\n            request.addPostParam(\"SmartEncoding\", smartEncoding.toString());\n    \n        }\n        if (scanMessageContent != null) {\n            request.addPostParam(\"ScanMessageContent\", scanMessageContent.toString());\n    \n        }\n        if (fallbackToLongCode != null) {\n            request.addPostParam(\"FallbackToLongCode\", fallbackToLongCode.toString());\n    \n        }\n        if (areaCodeGeomatch != null) {\n            request.addPostParam(\"AreaCodeGeomatch\", areaCodeGeomatch.toString());\n    \n        }\n        if (validityPeriod != null) {\n            request.addPostParam(\"ValidityPeriod\", validityPeriod.toString());\n    \n        }\n        if (synchronousValidation != null) {\n            request.addPostParam(\"SynchronousValidation\", synchronousValidation.toString());\n    \n        }\n        if (usecase != null) {\n            request.addPostParam(\"Usecase\", usecase);\n    \n        }\n        if (useInboundWebhookOnNumber != null) {\n            request.addPostParam(\"UseInboundWebhookOnNumber\", useInboundWebhookOnNumber.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ServiceCreator extends Creator<Service> {\n    private final String friendlyName;\n    private URI inboundRequestUrl;\n    private HttpMethod inboundMethod;\n    private URI fallbackUrl;\n    private HttpMethod fallbackMethod;\n    private URI statusCallback;\n    private Boolean stickySender;\n    private Boolean mmsConverter;\n    private Boolean smartEncoding;\n    private Service.ScanMessageContent scanMessageContent;\n    private Boolean fallbackToLongCode;\n    private Boolean areaCodeGeomatch;\n    private Integer validityPeriod;\n    private Boolean synchronousValidation;\n    private String usecase;\n    private Boolean useInboundWebhookOnNumber;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param friendlyName A string to describe the resource\n     */\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * The URL we call using `inbound_method` when a message is received by any\n     * phone number or short code in the Service. When this property is `null`,\n     * receiving inbound messages is disabled. All messages sent to the Twilio phone\n     * number or short code will not be logged and received on the Account. If the\n     * `use_inbound_webhook_on_number` field is enabled then the webhook url defined\n     * on the phone number will override the `inbound_request_url` defined for the\n     * Messaging Service..\n     *\n     * @param inboundRequestUrl The URL we call using inbound_method when a message\n     *                          is received by any phone number or short code in the\n     *                          Service. This field will be overridden if the\n     *                          `use_inbound_webhook_on_number` field is enabled.\n     * @return this\n     */\n    public ServiceCreator setInboundRequestUrl(final URI inboundRequestUrl) {\n        this.inboundRequestUrl = inboundRequestUrl;\n        return this;\n    }\n\n    /**\n     * The URL we call using `inbound_method` when a message is received by any\n     * phone number or short code in the Service. When this property is `null`,\n     * receiving inbound messages is disabled. All messages sent to the Twilio phone\n     * number or short code will not be logged and received on the Account. If the\n     * `use_inbound_webhook_on_number` field is enabled then the webhook url defined\n     * on the phone number will override the `inbound_request_url` defined for the\n     * Messaging Service..\n     *\n     * @param inboundRequestUrl The URL we call using inbound_method when a message\n     *                          is received by any phone number or short code in the\n     *                          Service. This field will be overridden if the\n     *                          `use_inbound_webhook_on_number` field is enabled.\n     * @return this\n     */\n    public ServiceCreator setInboundRequestUrl(final String inboundRequestUrl) {\n        return setInboundRequestUrl(Promoter.uriFromString(inboundRequestUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `inbound_request_url`. Can be `GET` or\n     * `POST` and the default is `POST`..\n     *\n     * @param inboundMethod The HTTP method we should use to call\n     *                      inbound_request_url\n     * @return this\n     */\n    public ServiceCreator setInboundMethod(final HttpMethod inboundMethod) {\n        this.inboundMethod = inboundMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we call using `fallback_method` if an error occurs while\n     * retrieving or executing the TwiML from the Inbound Request URL. If the\n     * `use_inbound_webhook_on_number` field is enabled then the webhook url defined\n     * on the phone number will override the `fallback_url` defined for the\n     * Messaging Service..\n     *\n     * @param fallbackUrl The URL that we call using fallback_method if an error\n     *                    occurs while retrieving or executing the TwiML from the\n     *                    Inbound Request URL. This field will be overridden if the\n     *                    `use_inbound_webhook_on_number` field is enabled.\n     * @return this\n     */\n    public ServiceCreator setFallbackUrl(final URI fallbackUrl) {\n        this.fallbackUrl = fallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we call using `fallback_method` if an error occurs while\n     * retrieving or executing the TwiML from the Inbound Request URL. If the\n     * `use_inbound_webhook_on_number` field is enabled then the webhook url defined\n     * on the phone number will override the `fallback_url` defined for the\n     * Messaging Service..\n     *\n     * @param fallbackUrl The URL that we call using fallback_method if an error\n     *                    occurs while retrieving or executing the TwiML from the\n     *                    Inbound Request URL. This field will be overridden if the\n     *                    `use_inbound_webhook_on_number` field is enabled.\n     * @return this\n     */\n    public ServiceCreator setFallbackUrl(final String fallbackUrl) {\n        return setFallbackUrl(Promoter.uriFromString(fallbackUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `fallback_url`. Can be: `GET` or\n     * `POST`..\n     *\n     * @param fallbackMethod The HTTP method we should use to call fallback_url\n     * @return this\n     */\n    public ServiceCreator setFallbackMethod(final HttpMethod fallbackMethod) {\n        this.fallbackMethod = fallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL we should call to <a\n     * href=\"https://www.twilio.com/docs/sms/api/message-resource#message-status-values\">pass\n     * status updates<\/a> about message delivery..\n     *\n     * @param statusCallback The URL we should call to pass status updates about\n     *                       message delivery\n     * @return this\n     */\n    public ServiceCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we should call to <a\n     * href=\"https://www.twilio.com/docs/sms/api/message-resource#message-status-values\">pass\n     * status updates<\/a> about message delivery..\n     *\n     * @param statusCallback The URL we should call to pass status updates about\n     *                       message delivery\n     * @return this\n     */\n    public ServiceCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * Whether to enable <a\n     * href=\"https://www.twilio.com/docs/sms/services#sticky-sender\">Sticky\n     * Sender<\/a> on the Service instance..\n     *\n     * @param stickySender Whether to enable Sticky Sender on the Service instance\n     * @return this\n     */\n    public ServiceCreator setStickySender(final Boolean stickySender) {\n        this.stickySender = stickySender;\n        return this;\n    }\n\n    /**\n     * Whether to enable the <a\n     * href=\"https://www.twilio.com/docs/sms/services#mms-converter\">MMS\n     * Converter<\/a> for messages sent through the Service instance..\n     *\n     * @param mmsConverter Whether to enable the MMS Converter for messages sent\n     *                     through the Service instance\n     * @return this\n     */\n    public ServiceCreator setMmsConverter(final Boolean mmsConverter) {\n        this.mmsConverter = mmsConverter;\n        return this;\n    }\n\n    /**\n     * Whether to enable <a\n     * href=\"https://www.twilio.com/docs/sms/services#smart-encoding\">Smart\n     * Encoding<\/a> for messages sent through the Service instance..\n     *\n     * @param smartEncoding Whether to enable Encoding for messages sent through\n     *                      the Service instance\n     * @return this\n     */\n    public ServiceCreator setSmartEncoding(final Boolean smartEncoding) {\n        this.smartEncoding = smartEncoding;\n        return this;\n    }\n\n    /**\n     * Reserved..\n     *\n     * @param scanMessageContent Reserved\n     * @return this\n     */\n    public ServiceCreator setScanMessageContent(final Service.ScanMessageContent scanMessageContent) {\n        this.scanMessageContent = scanMessageContent;\n        return this;\n    }\n\n    /**\n     * Whether to enable <a\n     * href=\"https://www.twilio.com/docs/sms/services#fallback-to-long-code\">Fallback\n     * to Long Code<\/a> for messages sent through the Service instance..\n     *\n     * @param fallbackToLongCode Whether to enable Fallback to Long Code for\n     *                           messages sent through the Service instance\n     * @return this\n     */\n    public ServiceCreator setFallbackToLongCode(final Boolean fallbackToLongCode) {\n        this.fallbackToLongCode = fallbackToLongCode;\n        return this;\n    }\n\n    /**\n     * Whether to enable <a\n     * href=\"https://www.twilio.com/docs/sms/services#area-code-geomatch\">Area Code\n     * Geomatch<\/a> on the Service Instance..\n     *\n     * @param areaCodeGeomatch Whether to enable Area Code Geomatch on the Service\n     *                         Instance\n     * @return this\n     */\n    public ServiceCreator setAreaCodeGeomatch(final Boolean areaCodeGeomatch) {\n        this.areaCodeGeomatch = areaCodeGeomatch;\n        return this;\n    }\n\n    /**\n     * How long, in seconds, messages sent from the Service are valid. Can be an\n     * integer from `1` to `14,400`..\n     *\n     * @param validityPeriod How long, in seconds, messages sent from the Service\n     *                       are valid\n     * @return this\n     */\n    public ServiceCreator setValidityPeriod(final Integer validityPeriod) {\n        this.validityPeriod = validityPeriod;\n        return this;\n    }\n\n    /**\n     * Reserved..\n     *\n     * @param synchronousValidation Reserved\n     * @return this\n     */\n    public ServiceCreator setSynchronousValidation(final Boolean synchronousValidation) {\n        this.synchronousValidation = synchronousValidation;\n        return this;\n    }\n\n    /**\n     * A string that describes the scenario in which the Messaging Service will be\n     * used. Examples: [notification, marketing, verification, poll ..]..\n     *\n     * @param usecase A string describing the scenario in which the Messaging\n     *                Service will be used\n     * @return this\n     */\n    public ServiceCreator setUsecase(final String usecase) {\n        this.usecase = usecase;\n        return this;\n    }\n\n    /**\n     * A boolean value that indicates either the webhook url configured on the phone\n     * number will be used or `inbound_request_url`/`fallback_url` url will be\n     * called when a message is received from the phone number. If this field is\n     * enabled then the webhook url defined on the phone number will override the\n     * `inbound_request_url`/`fallback_url` defined for the Messaging Service..\n     *\n     * @param useInboundWebhookOnNumber If enabled, the webhook url configured on\n     *                                  the phone number will be used and will\n     *                                  override the\n     *                                  `inbound_request_url`/`fallback_url` url\n     *                                  called when an inbound message is received.\n     * @return this\n     */\n    public ServiceCreator setUseInboundWebhookOnNumber(final Boolean useInboundWebhookOnNumber) {\n        this.useInboundWebhookOnNumber = useInboundWebhookOnNumber;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MESSAGING.toString(),\n            \"/v1/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (inboundRequestUrl != null) {\n            request.addPostParam(\"InboundRequestUrl\", inboundRequestUrl.toString());\n        }\n\n        if (inboundMethod != null) {\n            request.addPostParam(\"InboundMethod\", inboundMethod.toString());\n        }\n\n        if (fallbackUrl != null) {\n            request.addPostParam(\"FallbackUrl\", fallbackUrl.toString());\n        }\n\n        if (fallbackMethod != null) {\n            request.addPostParam(\"FallbackMethod\", fallbackMethod.toString());\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (stickySender != null) {\n            request.addPostParam(\"StickySender\", stickySender.toString());\n        }\n\n        if (mmsConverter != null) {\n            request.addPostParam(\"MmsConverter\", mmsConverter.toString());\n        }\n\n        if (smartEncoding != null) {\n            request.addPostParam(\"SmartEncoding\", smartEncoding.toString());\n        }\n\n        if (scanMessageContent != null) {\n            request.addPostParam(\"ScanMessageContent\", scanMessageContent.toString());\n        }\n\n        if (fallbackToLongCode != null) {\n            request.addPostParam(\"FallbackToLongCode\", fallbackToLongCode.toString());\n        }\n\n        if (areaCodeGeomatch != null) {\n            request.addPostParam(\"AreaCodeGeomatch\", areaCodeGeomatch.toString());\n        }\n\n        if (validityPeriod != null) {\n            request.addPostParam(\"ValidityPeriod\", validityPeriod.toString());\n        }\n\n        if (synchronousValidation != null) {\n            request.addPostParam(\"SynchronousValidation\", synchronousValidation.toString());\n        }\n\n        if (usecase != null) {\n            request.addPostParam(\"Usecase\", usecase);\n        }\n\n        if (useInboundWebhookOnNumber != null) {\n            request.addPostParam(\"UseInboundWebhookOnNumber\", useInboundWebhookOnNumber.toString());\n        }\n    }\n}\n","lineNo":150}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            \"/v1/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TollfreeVerificationCreator extends Creator<TollfreeVerification>{\n    private String businessName;\n    private String businessWebsite;\n    private String notificationEmail;\n    private List<String> useCaseCategories;\n    private String useCaseSummary;\n    private String productionMessageSample;\n    private List<String> optInImageUrls;\n    private TollfreeVerification.OptInType optInType;\n    private String messageVolume;\n    private String tollfreePhoneNumberSid;\n    private String customerProfileSid;\n    private String businessStreetAddress;\n    private String businessStreetAddress2;\n    private String businessCity;\n    private String businessStateProvinceRegion;\n    private String businessPostalCode;\n    private String businessCountry;\n    private String additionalInformation;\n    private String businessContactFirstName;\n    private String businessContactLastName;\n    private String businessContactEmail;\n    private com.twilio.type.PhoneNumber businessContactPhone;\n\n    public TollfreeVerificationCreator(final String businessName, final String businessWebsite, final String notificationEmail, final List<String> useCaseCategories, final String useCaseSummary, final String productionMessageSample, final List<String> optInImageUrls, final TollfreeVerification.OptInType optInType, final String messageVolume, final String tollfreePhoneNumberSid) {\n        this.businessName = businessName;\n        this.businessWebsite = businessWebsite;\n        this.notificationEmail = notificationEmail;\n        this.useCaseCategories = useCaseCategories;\n        this.useCaseSummary = useCaseSummary;\n        this.productionMessageSample = productionMessageSample;\n        this.optInImageUrls = optInImageUrls;\n        this.optInType = optInType;\n        this.messageVolume = messageVolume;\n        this.tollfreePhoneNumberSid = tollfreePhoneNumberSid;\n    }\n\n    public TollfreeVerificationCreator setBusinessName(final String businessName){\n        this.businessName = businessName;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessWebsite(final String businessWebsite){\n        this.businessWebsite = businessWebsite;\n        return this;\n    }\n    public TollfreeVerificationCreator setNotificationEmail(final String notificationEmail){\n        this.notificationEmail = notificationEmail;\n        return this;\n    }\n    public TollfreeVerificationCreator setUseCaseCategories(final List<String> useCaseCategories){\n        this.useCaseCategories = useCaseCategories;\n        return this;\n    }\n    public TollfreeVerificationCreator setUseCaseSummary(final String useCaseSummary){\n        this.useCaseSummary = useCaseSummary;\n        return this;\n    }\n    public TollfreeVerificationCreator setProductionMessageSample(final String productionMessageSample){\n        this.productionMessageSample = productionMessageSample;\n        return this;\n    }\n    public TollfreeVerificationCreator setOptInImageUrls(final List<String> optInImageUrls){\n        this.optInImageUrls = optInImageUrls;\n        return this;\n    }\n    public TollfreeVerificationCreator setOptInType(final TollfreeVerification.OptInType optInType){\n        this.optInType = optInType;\n        return this;\n    }\n    public TollfreeVerificationCreator setMessageVolume(final String messageVolume){\n        this.messageVolume = messageVolume;\n        return this;\n    }\n    public TollfreeVerificationCreator setTollfreePhoneNumberSid(final String tollfreePhoneNumberSid){\n        this.tollfreePhoneNumberSid = tollfreePhoneNumberSid;\n        return this;\n    }\n    public TollfreeVerificationCreator setCustomerProfileSid(final String customerProfileSid){\n        this.customerProfileSid = customerProfileSid;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessStreetAddress(final String businessStreetAddress){\n        this.businessStreetAddress = businessStreetAddress;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessStreetAddress2(final String businessStreetAddress2){\n        this.businessStreetAddress2 = businessStreetAddress2;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessCity(final String businessCity){\n        this.businessCity = businessCity;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessStateProvinceRegion(final String businessStateProvinceRegion){\n        this.businessStateProvinceRegion = businessStateProvinceRegion;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessPostalCode(final String businessPostalCode){\n        this.businessPostalCode = businessPostalCode;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessCountry(final String businessCountry){\n        this.businessCountry = businessCountry;\n        return this;\n    }\n    public TollfreeVerificationCreator setAdditionalInformation(final String additionalInformation){\n        this.additionalInformation = additionalInformation;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessContactFirstName(final String businessContactFirstName){\n        this.businessContactFirstName = businessContactFirstName;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessContactLastName(final String businessContactLastName){\n        this.businessContactLastName = businessContactLastName;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessContactEmail(final String businessContactEmail){\n        this.businessContactEmail = businessContactEmail;\n        return this;\n    }\n    public TollfreeVerificationCreator setBusinessContactPhone(final com.twilio.type.PhoneNumber businessContactPhone){\n        this.businessContactPhone = businessContactPhone;\n        return this;\n    }\n\n    public TollfreeVerificationCreator setBusinessContactPhone(final String businessContactPhone){\n    this.businessContactPhone = Promoter.phoneNumberFromString(businessContactPhone);\n    return this;\n    }\n\n    @Override\n    public TollfreeVerification create(final TwilioRestClient client){\n        String path = \"/v1/Tollfree/Verifications\";\n\n        path = path.replace(\"{\"+\"BusinessName\"+\"}\", this.businessName.toString());\n        path = path.replace(\"{\"+\"BusinessWebsite\"+\"}\", this.businessWebsite.toString());\n        path = path.replace(\"{\"+\"NotificationEmail\"+\"}\", this.notificationEmail.toString());\n        path = path.replace(\"{\"+\"UseCaseCategories\"+\"}\", this.useCaseCategories.toString());\n        path = path.replace(\"{\"+\"UseCaseSummary\"+\"}\", this.useCaseSummary.toString());\n        path = path.replace(\"{\"+\"ProductionMessageSample\"+\"}\", this.productionMessageSample.toString());\n        path = path.replace(\"{\"+\"OptInImageUrls\"+\"}\", this.optInImageUrls.toString());\n        path = path.replace(\"{\"+\"OptInType\"+\"}\", this.optInType.toString());\n        path = path.replace(\"{\"+\"MessageVolume\"+\"}\", this.messageVolume.toString());\n        path = path.replace(\"{\"+\"TollfreePhoneNumberSid\"+\"}\", this.tollfreePhoneNumberSid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MESSAGING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"TollfreeVerification creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return TollfreeVerification.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (businessName != null) {\n            request.addPostParam(\"BusinessName\", businessName);\n    \n        }\n        if (businessWebsite != null) {\n            request.addPostParam(\"BusinessWebsite\", businessWebsite);\n    \n        }\n        if (notificationEmail != null) {\n            request.addPostParam(\"NotificationEmail\", notificationEmail);\n    \n        }\n        if (useCaseCategories != null) {\n            for (String prop : useCaseCategories) {\n                request.addPostParam(\"UseCaseCategories\", prop);\n            }\n    \n        }\n        if (useCaseSummary != null) {\n            request.addPostParam(\"UseCaseSummary\", useCaseSummary);\n    \n        }\n        if (productionMessageSample != null) {\n            request.addPostParam(\"ProductionMessageSample\", productionMessageSample);\n    \n        }\n        if (optInImageUrls != null) {\n            for (String prop : optInImageUrls) {\n                request.addPostParam(\"OptInImageUrls\", prop);\n            }\n    \n        }\n        if (optInType != null) {\n            request.addPostParam(\"OptInType\", optInType.toString());\n    \n        }\n        if (messageVolume != null) {\n            request.addPostParam(\"MessageVolume\", messageVolume);\n    \n        }\n        if (tollfreePhoneNumberSid != null) {\n            request.addPostParam(\"TollfreePhoneNumberSid\", tollfreePhoneNumberSid);\n    \n        }\n        if (customerProfileSid != null) {\n            request.addPostParam(\"CustomerProfileSid\", customerProfileSid);\n    \n        }\n        if (businessStreetAddress != null) {\n            request.addPostParam(\"BusinessStreetAddress\", businessStreetAddress);\n    \n        }\n        if (businessStreetAddress2 != null) {\n            request.addPostParam(\"BusinessStreetAddress2\", businessStreetAddress2);\n    \n        }\n        if (businessCity != null) {\n            request.addPostParam(\"BusinessCity\", businessCity);\n    \n        }\n        if (businessStateProvinceRegion != null) {\n            request.addPostParam(\"BusinessStateProvinceRegion\", businessStateProvinceRegion);\n    \n        }\n        if (businessPostalCode != null) {\n            request.addPostParam(\"BusinessPostalCode\", businessPostalCode);\n    \n        }\n        if (businessCountry != null) {\n            request.addPostParam(\"BusinessCountry\", businessCountry);\n    \n        }\n        if (additionalInformation != null) {\n            request.addPostParam(\"AdditionalInformation\", additionalInformation);\n    \n        }\n        if (businessContactFirstName != null) {\n            request.addPostParam(\"BusinessContactFirstName\", businessContactFirstName);\n    \n        }\n        if (businessContactLastName != null) {\n            request.addPostParam(\"BusinessContactLastName\", businessContactLastName);\n    \n        }\n        if (businessContactEmail != null) {\n            request.addPostParam(\"BusinessContactEmail\", businessContactEmail);\n    \n        }\n        if (businessContactPhone != null) {\n            request.addPostParam(\"BusinessContactPhone\", businessContactPhone.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class TollfreeVerificationCreator extends Creator<TollfreeVerification> {\n    private final String businessName;\n    private final String businessWebsite;\n    private final String notificationEmail;\n    private final List<String> useCaseCategories;\n    private final String useCaseSummary;\n    private final String productionMessageSample;\n    private final List<String> optInImageUrls;\n    private final TollfreeVerification.OptInType optInType;\n    private final String messageVolume;\n    private final String tollfreePhoneNumberSid;\n    private String customerProfileSid;\n    private String businessStreetAddress;\n    private String businessStreetAddress2;\n    private String businessCity;\n    private String businessStateProvinceRegion;\n    private String businessPostalCode;\n    private String businessCountry;\n    private String additionalInformation;\n    private String businessContactFirstName;\n    private String businessContactLastName;\n    private String businessContactEmail;\n    private com.twilio.type.PhoneNumber businessContactPhone;\n\n    /**\n     * Construct a new TollfreeVerificationCreator.\n     *\n     * @param businessName The name of the business or organization using the\n     *                     Tollfree number\n     * @param businessWebsite The website of the business or organization using the\n     *                        Tollfree number\n     * @param notificationEmail The email address to receive the notification about\n     *                          the verification result.\n     * @param useCaseCategories The category of the use case for the Tollfree\n     *                          Number. List as many are applicable.\n     * @param useCaseSummary Further explaination on how messaging is used by the\n     *                       business or organization\n     * @param productionMessageSample An example of message content, i.e. a sample\n     *                                message\n     * @param optInImageUrls Link to an image that shows the opt-in workflow.\n     *                       Multiple images allowed and must be a publicly hosted\n     *                       URL\n     * @param optInType Describe how a user opts-in to text messages\n     * @param messageVolume Estimate monthly volume of messages from the Tollfree\n     *                      Number\n     * @param tollfreePhoneNumberSid The SID of the Phone Number associated with\n     *                               the Tollfree Verification\n     */\n    public TollfreeVerificationCreator(final String businessName,\n                                       final String businessWebsite,\n                                       final String notificationEmail,\n                                       final List<String> useCaseCategories,\n                                       final String useCaseSummary,\n                                       final String productionMessageSample,\n                                       final List<String> optInImageUrls,\n                                       final TollfreeVerification.OptInType optInType,\n                                       final String messageVolume,\n                                       final String tollfreePhoneNumberSid) {\n        this.businessName = businessName;\n        this.businessWebsite = businessWebsite;\n        this.notificationEmail = notificationEmail;\n        this.useCaseCategories = useCaseCategories;\n        this.useCaseSummary = useCaseSummary;\n        this.productionMessageSample = productionMessageSample;\n        this.optInImageUrls = optInImageUrls;\n        this.optInType = optInType;\n        this.messageVolume = messageVolume;\n        this.tollfreePhoneNumberSid = tollfreePhoneNumberSid;\n    }\n\n    /**\n     * Customer's Profile Bundle BundleSid..\n     *\n     * @param customerProfileSid Customer's Profile Bundle BundleSid\n     * @return this\n     */\n    public TollfreeVerificationCreator setCustomerProfileSid(final String customerProfileSid) {\n        this.customerProfileSid = customerProfileSid;\n        return this;\n    }\n\n    /**\n     * The address of the business or organization using the Tollfree number..\n     *\n     * @param businessStreetAddress The address of the business or organization\n     *                              using the Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessStreetAddress(final String businessStreetAddress) {\n        this.businessStreetAddress = businessStreetAddress;\n        return this;\n    }\n\n    /**\n     * The address of the business or organization using the Tollfree number..\n     *\n     * @param businessStreetAddress2 The address of the business or organization\n     *                               using the Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessStreetAddress2(final String businessStreetAddress2) {\n        this.businessStreetAddress2 = businessStreetAddress2;\n        return this;\n    }\n\n    /**\n     * The city of the business or organization using the Tollfree number..\n     *\n     * @param businessCity The city of the business or organization using the\n     *                     Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessCity(final String businessCity) {\n        this.businessCity = businessCity;\n        return this;\n    }\n\n    /**\n     * The state/province/region of the business or organization using the Tollfree\n     * number..\n     *\n     * @param businessStateProvinceRegion The state/province/region of the business\n     *                                    or organization using the Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessStateProvinceRegion(final String businessStateProvinceRegion) {\n        this.businessStateProvinceRegion = businessStateProvinceRegion;\n        return this;\n    }\n\n    /**\n     * The postal code of the business or organization using the Tollfree number..\n     *\n     * @param businessPostalCode The postal code of the business or organization\n     *                           using the Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessPostalCode(final String businessPostalCode) {\n        this.businessPostalCode = businessPostalCode;\n        return this;\n    }\n\n    /**\n     * The country of the business or organization using the Tollfree number..\n     *\n     * @param businessCountry The country of the business or organization using the\n     *                        Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessCountry(final String businessCountry) {\n        this.businessCountry = businessCountry;\n        return this;\n    }\n\n    /**\n     * Additional information to be provided for verification..\n     *\n     * @param additionalInformation Additional information to be provided for\n     *                              verification\n     * @return this\n     */\n    public TollfreeVerificationCreator setAdditionalInformation(final String additionalInformation) {\n        this.additionalInformation = additionalInformation;\n        return this;\n    }\n\n    /**\n     * The first name of the contact for the business or organization using the\n     * Tollfree number..\n     *\n     * @param businessContactFirstName The first name of the contact for the\n     *                                 business or organization using the Tollfree\n     *                                 number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessContactFirstName(final String businessContactFirstName) {\n        this.businessContactFirstName = businessContactFirstName;\n        return this;\n    }\n\n    /**\n     * The last name of the contact for the business or organization using the\n     * Tollfree number..\n     *\n     * @param businessContactLastName The last name of the contact for the business\n     *                                or organization using the Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessContactLastName(final String businessContactLastName) {\n        this.businessContactLastName = businessContactLastName;\n        return this;\n    }\n\n    /**\n     * The email address of the contact for the business or organization using the\n     * Tollfree number..\n     *\n     * @param businessContactEmail The email address of the contact for the\n     *                             business or organization using the Tollfree\n     *                             number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessContactEmail(final String businessContactEmail) {\n        this.businessContactEmail = businessContactEmail;\n        return this;\n    }\n\n    /**\n     * The phone number of the contact for the business or organization using the\n     * Tollfree number..\n     *\n     * @param businessContactPhone The phone number of the contact for the business\n     *                             or organization using the Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessContactPhone(final com.twilio.type.PhoneNumber businessContactPhone) {\n        this.businessContactPhone = businessContactPhone;\n        return this;\n    }\n\n    /**\n     * The phone number of the contact for the business or organization using the\n     * Tollfree number..\n     *\n     * @param businessContactPhone The phone number of the contact for the business\n     *                             or organization using the Tollfree number\n     * @return this\n     */\n    public TollfreeVerificationCreator setBusinessContactPhone(final String businessContactPhone) {\n        return setBusinessContactPhone(Promoter.phoneNumberFromString(businessContactPhone));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created TollfreeVerification\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public TollfreeVerification create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.MESSAGING.toString(),\n            \"/v1/Tollfree/Verifications\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"TollfreeVerification creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return TollfreeVerification.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (businessName != null) {\n            request.addPostParam(\"BusinessName\", businessName);\n        }\n\n        if (businessWebsite != null) {\n            request.addPostParam(\"BusinessWebsite\", businessWebsite);\n        }\n\n        if (notificationEmail != null) {\n            request.addPostParam(\"NotificationEmail\", notificationEmail);\n        }\n\n        if (useCaseCategories != null) {\n            for (String prop : useCaseCategories) {\n                request.addPostParam(\"UseCaseCategories\", prop);\n            }\n        }\n\n        if (useCaseSummary != null) {\n            request.addPostParam(\"UseCaseSummary\", useCaseSummary);\n        }\n\n        if (productionMessageSample != null) {\n            request.addPostParam(\"ProductionMessageSample\", productionMessageSample);\n        }\n\n        if (optInImageUrls != null) {\n            for (String prop : optInImageUrls) {\n                request.addPostParam(\"OptInImageUrls\", prop);\n            }\n        }\n\n        if (optInType != null) {\n            request.addPostParam(\"OptInType\", optInType.toString());\n        }\n\n        if (messageVolume != null) {\n            request.addPostParam(\"MessageVolume\", messageVolume);\n        }\n\n        if (tollfreePhoneNumberSid != null) {\n            request.addPostParam(\"TollfreePhoneNumberSid\", tollfreePhoneNumberSid);\n        }\n\n        if (customerProfileSid != null) {\n            request.addPostParam(\"CustomerProfileSid\", customerProfileSid);\n        }\n\n        if (businessStreetAddress != null) {\n            request.addPostParam(\"BusinessStreetAddress\", businessStreetAddress);\n        }\n\n        if (businessStreetAddress2 != null) {\n            request.addPostParam(\"BusinessStreetAddress2\", businessStreetAddress2);\n        }\n\n        if (businessCity != null) {\n            request.addPostParam(\"BusinessCity\", businessCity);\n        }\n\n        if (businessStateProvinceRegion != null) {\n            request.addPostParam(\"BusinessStateProvinceRegion\", businessStateProvinceRegion);\n        }\n\n        if (businessPostalCode != null) {\n            request.addPostParam(\"BusinessPostalCode\", businessPostalCode);\n        }\n\n        if (businessCountry != null) {\n            request.addPostParam(\"BusinessCountry\", businessCountry);\n        }\n\n        if (additionalInformation != null) {\n            request.addPostParam(\"AdditionalInformation\", additionalInformation);\n        }\n\n        if (businessContactFirstName != null) {\n            request.addPostParam(\"BusinessContactFirstName\", businessContactFirstName);\n        }\n\n        if (businessContactLastName != null) {\n            request.addPostParam(\"BusinessContactLastName\", businessContactLastName);\n        }\n\n        if (businessContactEmail != null) {\n            request.addPostParam(\"BusinessContactEmail\", businessContactEmail);\n        }\n\n        if (businessContactPhone != null) {\n            request.addPostParam(\"BusinessContactPhone\", businessContactPhone.toString());\n        }\n    }\n}\n","lineNo":179}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TollfreeVerificationReader extends Reader<TollfreeVerification> {\n    private String tollfreePhoneNumberSid;\n    private TollfreeVerification.Status status;\n    private Integer pageSize;\n\n    public TollfreeVerificationReader(){\n    }\n\n    public TollfreeVerificationReader setTollfreePhoneNumberSid(final String tollfreePhoneNumberSid){\n        this.tollfreePhoneNumberSid = tollfreePhoneNumberSid;\n        return this;\n    }\n    public TollfreeVerificationReader setStatus(final TollfreeVerification.Status status){\n        this.status = status;\n        return this;\n    }\n    public TollfreeVerificationReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<TollfreeVerification> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<TollfreeVerification> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Tollfree/Verifications\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<TollfreeVerification> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"TollfreeVerification read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"verifications\",\n            response.getContent(),\n            TollfreeVerification.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<TollfreeVerification> previousPage(final Page<TollfreeVerification> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<TollfreeVerification> nextPage(final Page<TollfreeVerification> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<TollfreeVerification> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (tollfreePhoneNumberSid != null) {\n    \n            request.addQueryParam(\"TollfreePhoneNumberSid\", tollfreePhoneNumberSid);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class TollfreeVerificationReader extends Reader<TollfreeVerification> {\n    private String tollfreePhoneNumberSid;\n    private TollfreeVerification.Status status;\n\n    /**\n     * The SID of the Phone Number associated with the Tollfree Verification..\n     *\n     * @param tollfreePhoneNumberSid The SID of the Phone Number associated with\n     *                               the Tollfree Verification\n     * @return this\n     */\n    public TollfreeVerificationReader setTollfreePhoneNumberSid(final String tollfreePhoneNumberSid) {\n        this.tollfreePhoneNumberSid = tollfreePhoneNumberSid;\n        return this;\n    }\n\n    /**\n     * The compliance status of the Tollfree Verification record..\n     *\n     * @param status The compliance status of the Tollfree Verification record.\n     * @return this\n     */\n    public TollfreeVerificationReader setStatus(final TollfreeVerification.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return TollfreeVerification ResourceSet\n     */\n    @Override\n    public ResourceSet<TollfreeVerification> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return TollfreeVerification ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<TollfreeVerification> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            \"/v1/Tollfree/Verifications\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return TollfreeVerification ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<TollfreeVerification> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<TollfreeVerification> nextPage(final Page<TollfreeVerification> page,\n                                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<TollfreeVerification> previousPage(final Page<TollfreeVerification> page,\n                                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MESSAGING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of TollfreeVerification Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<TollfreeVerification> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"TollfreeVerification read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"verifications\",\n            response.getContent(),\n            TollfreeVerification.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (tollfreePhoneNumberSid != null) {\n            request.addQueryParam(\"TollfreePhoneNumberSid\", tollfreePhoneNumberSid);\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Messaging\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Messaging\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class UsecaseFetcher extends Fetcher<Usecase> {\n\n    public UsecaseFetcher(){\n    }\n\n\n    @Override\n    public Usecase fetch(final TwilioRestClient client) {\n        String path = \"/v1/Services/Usecases\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Usecase fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Usecase.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.messaging.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class UsecaseFetcher extends Fetcher<Usecase> {\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Usecase\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Usecase fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MESSAGING.toString(),\n            \"/v1/Services/Usecases\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Usecase fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Usecase.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":51}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Microvisor\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.microvisor.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Microvisor\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AppReader extends Reader<App> {\n    private Integer pageSize;\n\n    public AppReader(){\n    }\n\n    public AppReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<App> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<App> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Apps\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MICROVISOR.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<App> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"App read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"apps\",\n            response.getContent(),\n            App.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<App> previousPage(final Page<App> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MICROVISOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<App> nextPage(final Page<App> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MICROVISOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<App> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.microvisor.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class AppReader extends Reader<App> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return App ResourceSet\n     */\n    @Override\n    public ResourceSet<App> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return App ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<App> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MICROVISOR.toString(),\n            \"/v1/Apps\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return App ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<App> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<App> nextPage(final Page<App> page,\n                              final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MICROVISOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<App> previousPage(final Page<App> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MICROVISOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of App Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<App> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"App read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"apps\",\n            response.getContent(),\n            App.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Microvisor\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.microvisor.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Microvisor\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class DeviceReader extends Reader<Device> {\n    private Integer pageSize;\n\n    public DeviceReader(){\n    }\n\n    public DeviceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Device> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Device> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Devices\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MICROVISOR.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Device> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Device read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"devices\",\n            response.getContent(),\n            Device.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Device> previousPage(final Page<Device> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MICROVISOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Device> nextPage(final Page<Device> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MICROVISOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Device> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.microvisor.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class DeviceReader extends Reader<Device> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Device ResourceSet\n     */\n    @Override\n    public ResourceSet<Device> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Device ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Device> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MICROVISOR.toString(),\n            \"/v1/Devices\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Device ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Device> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Device> nextPage(final Page<Device> page,\n                                 final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MICROVISOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Device> previousPage(final Page<Device> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MICROVISOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Device Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Device> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Device read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"devices\",\n            response.getContent(),\n            Device.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Monitor\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.monitor.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Monitor\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AlertReader extends Reader<Alert> {\n    private String logLevel;\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n    private Integer pageSize;\n\n    public AlertReader(){\n    }\n\n    public AlertReader setLogLevel(final String logLevel){\n        this.logLevel = logLevel;\n        return this;\n    }\n    public AlertReader setStartDate(final ZonedDateTime startDate){\n        this.startDate = startDate;\n        return this;\n    }\n    public AlertReader setEndDate(final ZonedDateTime endDate){\n        this.endDate = endDate;\n        return this;\n    }\n    public AlertReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Alert> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Alert> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Alerts\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MONITOR.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Alert> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Alert read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"alerts\",\n            response.getContent(),\n            Alert.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Alert> previousPage(final Page<Alert> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MONITOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Alert> nextPage(final Page<Alert> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MONITOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Alert> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (logLevel != null) {\n    \n            request.addQueryParam(\"LogLevel\", logLevel);\n        }\n        if (startDate != null) {\n            request.addQueryParam(\"StartDate\", startDate.toInstant().toString());\n        }\n\n        if (endDate != null) {\n            request.addQueryParam(\"EndDate\", endDate.toInstant().toString());\n        }\n\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.monitor.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class AlertReader extends Reader<Alert> {\n    private String logLevel;\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n\n    /**\n     * Only show alerts for this log-level.  Can be: `error`, `warning`, `notice`,\n     * or `debug`..\n     *\n     * @param logLevel Only show alerts for this log-level\n     * @return this\n     */\n    public AlertReader setLogLevel(final String logLevel) {\n        this.logLevel = logLevel;\n        return this;\n    }\n\n    /**\n     * Only include alerts that occurred on or after this date and time. Specify the\n     * date and time in GMT and format as `YYYY-MM-DD` or `YYYY-MM-DDThh:mm:ssZ`.\n     * Queries for alerts older than 30 days are not supported..\n     *\n     * @param startDate Only include alerts that occurred on or after this date and\n     *                  time\n     * @return this\n     */\n    public AlertReader setStartDate(final ZonedDateTime startDate) {\n        this.startDate = startDate;\n        return this;\n    }\n\n    /**\n     * Only include alerts that occurred on or before this date and time. Specify\n     * the date and time in GMT and format as `YYYY-MM-DD` or\n     * `YYYY-MM-DDThh:mm:ssZ`. Queries for alerts older than 30 days are not\n     * supported..\n     *\n     * @param endDate Only include alerts that occurred on or before this date and\n     *                time\n     * @return this\n     */\n    public AlertReader setEndDate(final ZonedDateTime endDate) {\n        this.endDate = endDate;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Alert ResourceSet\n     */\n    @Override\n    public ResourceSet<Alert> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Alert ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Alert> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MONITOR.toString(),\n            \"/v1/Alerts\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Alert ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Alert> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Alert> nextPage(final Page<Alert> page,\n                                final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MONITOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Alert> previousPage(final Page<Alert> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MONITOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Alert Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Alert> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Alert read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"alerts\",\n            response.getContent(),\n            Alert.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (logLevel != null) {\n            request.addQueryParam(\"LogLevel\", logLevel);\n        }\n\n        if (startDate != null) {\n            request.addQueryParam(\"StartDate\", startDate.toInstant().toString());\n        }\n\n        if (endDate != null) {\n            request.addQueryParam(\"EndDate\", endDate.toInstant().toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":78}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Monitor\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.monitor.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Monitor\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EventReader extends Reader<Event> {\n    private String actorSid;\n    private String eventType;\n    private String resourceSid;\n    private String sourceIpAddress;\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n    private Integer pageSize;\n\n    public EventReader(){\n    }\n\n    public EventReader setActorSid(final String actorSid){\n        this.actorSid = actorSid;\n        return this;\n    }\n    public EventReader setEventType(final String eventType){\n        this.eventType = eventType;\n        return this;\n    }\n    public EventReader setResourceSid(final String resourceSid){\n        this.resourceSid = resourceSid;\n        return this;\n    }\n    public EventReader setSourceIpAddress(final String sourceIpAddress){\n        this.sourceIpAddress = sourceIpAddress;\n        return this;\n    }\n    public EventReader setStartDate(final ZonedDateTime startDate){\n        this.startDate = startDate;\n        return this;\n    }\n    public EventReader setEndDate(final ZonedDateTime endDate){\n        this.endDate = endDate;\n        return this;\n    }\n    public EventReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Event> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Event> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Events\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MONITOR.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Event> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Event read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"events\",\n            response.getContent(),\n            Event.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Event> previousPage(final Page<Event> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MONITOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Event> nextPage(final Page<Event> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MONITOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Event> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (actorSid != null) {\n    \n            request.addQueryParam(\"ActorSid\", actorSid);\n        }\n        if (eventType != null) {\n    \n            request.addQueryParam(\"EventType\", eventType);\n        }\n        if (resourceSid != null) {\n    \n            request.addQueryParam(\"ResourceSid\", resourceSid);\n        }\n        if (sourceIpAddress != null) {\n    \n            request.addQueryParam(\"SourceIpAddress\", sourceIpAddress);\n        }\n        if (startDate != null) {\n            request.addQueryParam(\"StartDate\", startDate.toInstant().toString());\n        }\n\n        if (endDate != null) {\n            request.addQueryParam(\"EndDate\", endDate.toInstant().toString());\n        }\n\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.monitor.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class EventReader extends Reader<Event> {\n    private String actorSid;\n    private String eventType;\n    private String resourceSid;\n    private String sourceIpAddress;\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n\n    /**\n     * Only include events initiated by this Actor. Useful for auditing actions\n     * taken by specific users or API credentials..\n     *\n     * @param actorSid Only include events initiated by this Actor\n     * @return this\n     */\n    public EventReader setActorSid(final String actorSid) {\n        this.actorSid = actorSid;\n        return this;\n    }\n\n    /**\n     * Only include events of this <a\n     * href=\"https://www.twilio.com/docs/usage/monitor-events#event-types\">Event\n     * Type<\/a>..\n     *\n     * @param eventType Only include events of this Event Type\n     * @return this\n     */\n    public EventReader setEventType(final String eventType) {\n        this.eventType = eventType;\n        return this;\n    }\n\n    /**\n     * Only include events that refer to this resource. Useful for discovering the\n     * history of a specific resource..\n     *\n     * @param resourceSid Only include events that refer to this resource\n     * @return this\n     */\n    public EventReader setResourceSid(final String resourceSid) {\n        this.resourceSid = resourceSid;\n        return this;\n    }\n\n    /**\n     * Only include events that originated from this IP address. Useful for tracking\n     * suspicious activity originating from the API or the Twilio Console..\n     *\n     * @param sourceIpAddress Only include events that originated from this IP\n     *                        address\n     * @return this\n     */\n    public EventReader setSourceIpAddress(final String sourceIpAddress) {\n        this.sourceIpAddress = sourceIpAddress;\n        return this;\n    }\n\n    /**\n     * Only include events that occurred on or after this date. Specify the date in\n     * GMT and <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a>\n     * format..\n     *\n     * @param startDate Only include events that occurred on or after this date\n     * @return this\n     */\n    public EventReader setStartDate(final ZonedDateTime startDate) {\n        this.startDate = startDate;\n        return this;\n    }\n\n    /**\n     * Only include events that occurred on or before this date. Specify the date in\n     * GMT and <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a>\n     * format..\n     *\n     * @param endDate Only include events that occurred on or before this date\n     * @return this\n     */\n    public EventReader setEndDate(final ZonedDateTime endDate) {\n        this.endDate = endDate;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Event ResourceSet\n     */\n    @Override\n    public ResourceSet<Event> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Event ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Event> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.MONITOR.toString(),\n            \"/v1/Events\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Event ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Event> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Event> nextPage(final Page<Event> page,\n                                final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.MONITOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Event> previousPage(final Page<Event> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.MONITOR.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Event Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Event> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Event read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"events\",\n            response.getContent(),\n            Event.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (actorSid != null) {\n            request.addQueryParam(\"ActorSid\", actorSid);\n        }\n\n        if (eventType != null) {\n            request.addQueryParam(\"EventType\", eventType);\n        }\n\n        if (resourceSid != null) {\n            request.addQueryParam(\"ResourceSid\", resourceSid);\n        }\n\n        if (sourceIpAddress != null) {\n            request.addQueryParam(\"SourceIpAddress\", sourceIpAddress);\n        }\n\n        if (startDate != null) {\n            request.addQueryParam(\"StartDate\", startDate.toInstant().toString());\n        }\n\n        if (endDate != null) {\n            request.addQueryParam(\"EndDate\", endDate.toInstant().toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":93}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Notify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.notify.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Notify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialCreator extends Creator<Credential>{\n    private Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    public CredentialCreator setType(final Credential.PushService type){\n        this.type = type;\n        return this;\n    }\n    public CredentialCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CredentialCreator setCertificate(final String certificate){\n        this.certificate = certificate;\n        return this;\n    }\n    public CredentialCreator setPrivateKey(final String privateKey){\n        this.privateKey = privateKey;\n        return this;\n    }\n    public CredentialCreator setSandbox(final Boolean sandbox){\n        this.sandbox = sandbox;\n        return this;\n    }\n    public CredentialCreator setApiKey(final String apiKey){\n        this.apiKey = apiKey;\n        return this;\n    }\n    public CredentialCreator setSecret(final String secret){\n        this.secret = secret;\n        return this;\n    }\n\n    @Override\n    public Credential create(final TwilioRestClient client){\n        String path = \"/v1/Credentials\";\n\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NOTIFY.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n    \n        }\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n    \n        }\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n    \n        }\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n    \n        }\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.notify.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class CredentialCreator extends Creator<Credential> {\n    private final Credential.PushService type;\n    private String friendlyName;\n    private String certificate;\n    private String privateKey;\n    private Boolean sandbox;\n    private String apiKey;\n    private String secret;\n\n    /**\n     * Construct a new CredentialCreator.\n     *\n     * @param type The Credential type\n     */\n    public CredentialCreator(final Credential.PushService type) {\n        this.type = type;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public CredentialCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * [APN only] The URL-encoded representation of the certificate. Strip\n     * everything outside of the headers, e.g. `-----BEGIN\n     * CERTIFICATE-----MIIFnTCCBIWgAwIBAgIIAjy9H849+E8wDQYJKoZIhvcNAQEFBQAwgZYxCzAJBgNV.....A==-----END\n     * CERTIFICATE-----`.\n     *\n     * @param certificate [APN only] The URL-encoded representation of the\n     *                    certificate\n     * @return this\n     */\n    public CredentialCreator setCertificate(final String certificate) {\n        this.certificate = certificate;\n        return this;\n    }\n\n    /**\n     * [APN only] The URL-encoded representation of the private key. Strip\n     * everything outside of the headers, e.g. `-----BEGIN RSA PRIVATE\n     * KEY-----MIIEpQIBAAKCAQEAuyf/lNrH9ck8DmNyo3fGgvCI1l9s+cmBY3WIz+cUDqmxiieR\\n.-----END\n     * RSA PRIVATE KEY-----`.\n     *\n     * @param privateKey [APN only] URL-encoded representation of the private key\n     * @return this\n     */\n    public CredentialCreator setPrivateKey(final String privateKey) {\n        this.privateKey = privateKey;\n        return this;\n    }\n\n    /**\n     * [APN only] Whether to send the credential to sandbox APNs. Can be `true` to\n     * send to sandbox APNs or `false` to send to production..\n     *\n     * @param sandbox [APN only] Whether to send the credential to sandbox APNs\n     * @return this\n     */\n    public CredentialCreator setSandbox(final Boolean sandbox) {\n        this.sandbox = sandbox;\n        return this;\n    }\n\n    /**\n     * [GCM only] The `Server key` of your project from Firebase console under\n     * Settings / Cloud messaging..\n     *\n     * @param apiKey [GCM only] The `Server key` of your project from Firebase\n     *               console under Settings / Cloud messaging\n     * @return this\n     */\n    public CredentialCreator setApiKey(final String apiKey) {\n        this.apiKey = apiKey;\n        return this;\n    }\n\n    /**\n     * [FCM only] The `Server key` of your project from Firebase console under\n     * Settings / Cloud messaging..\n     *\n     * @param secret [FCM only] The `Server key` of your project from Firebase\n     *               console under Settings / Cloud messaging\n     * @return this\n     */\n    public CredentialCreator setSecret(final String secret) {\n        this.secret = secret;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Credential\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Credential create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NOTIFY.toString(),\n            \"/v1/Credentials\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Credential.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (certificate != null) {\n            request.addPostParam(\"Certificate\", certificate);\n        }\n\n        if (privateKey != null) {\n            request.addPostParam(\"PrivateKey\", privateKey);\n        }\n\n        if (sandbox != null) {\n            request.addPostParam(\"Sandbox\", sandbox.toString());\n        }\n\n        if (apiKey != null) {\n            request.addPostParam(\"ApiKey\", apiKey);\n        }\n\n        if (secret != null) {\n            request.addPostParam(\"Secret\", secret);\n        }\n    }\n}\n","lineNo":87}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Notify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.notify.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Notify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CredentialReader extends Reader<Credential> {\n    private Integer pageSize;\n\n    public CredentialReader(){\n    }\n\n    public CredentialReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Credentials\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NOTIFY.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NOTIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NOTIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.notify.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class CredentialReader extends Reader<Credential> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    public ResourceSet<Credential> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NOTIFY.toString(),\n            \"/v1/Credentials\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Credential ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Credential> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Credential> nextPage(final Page<Credential> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NOTIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Credential> previousPage(final Page<Credential> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NOTIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Credential Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Credential> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Credential read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"credentials\",\n            response.getContent(),\n            Credential.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Notify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.notify.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Notify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n    private String apnCredentialSid;\n    private String gcmCredentialSid;\n    private String messagingServiceSid;\n    private String facebookMessengerPageId;\n    private String defaultApnNotificationProtocolVersion;\n    private String defaultGcmNotificationProtocolVersion;\n    private String fcmCredentialSid;\n    private String defaultFcmNotificationProtocolVersion;\n    private Boolean logEnabled;\n    private String alexaSkillId;\n    private String defaultAlexaNotificationProtocolVersion;\n    private String deliveryCallbackUrl;\n    private Boolean deliveryCallbackEnabled;\n\n    public ServiceCreator() {\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ServiceCreator setApnCredentialSid(final String apnCredentialSid){\n        this.apnCredentialSid = apnCredentialSid;\n        return this;\n    }\n    public ServiceCreator setGcmCredentialSid(final String gcmCredentialSid){\n        this.gcmCredentialSid = gcmCredentialSid;\n        return this;\n    }\n    public ServiceCreator setMessagingServiceSid(final String messagingServiceSid){\n        this.messagingServiceSid = messagingServiceSid;\n        return this;\n    }\n    public ServiceCreator setFacebookMessengerPageId(final String facebookMessengerPageId){\n        this.facebookMessengerPageId = facebookMessengerPageId;\n        return this;\n    }\n    public ServiceCreator setDefaultApnNotificationProtocolVersion(final String defaultApnNotificationProtocolVersion){\n        this.defaultApnNotificationProtocolVersion = defaultApnNotificationProtocolVersion;\n        return this;\n    }\n    public ServiceCreator setDefaultGcmNotificationProtocolVersion(final String defaultGcmNotificationProtocolVersion){\n        this.defaultGcmNotificationProtocolVersion = defaultGcmNotificationProtocolVersion;\n        return this;\n    }\n    public ServiceCreator setFcmCredentialSid(final String fcmCredentialSid){\n        this.fcmCredentialSid = fcmCredentialSid;\n        return this;\n    }\n    public ServiceCreator setDefaultFcmNotificationProtocolVersion(final String defaultFcmNotificationProtocolVersion){\n        this.defaultFcmNotificationProtocolVersion = defaultFcmNotificationProtocolVersion;\n        return this;\n    }\n    public ServiceCreator setLogEnabled(final Boolean logEnabled){\n        this.logEnabled = logEnabled;\n        return this;\n    }\n    public ServiceCreator setAlexaSkillId(final String alexaSkillId){\n        this.alexaSkillId = alexaSkillId;\n        return this;\n    }\n    public ServiceCreator setDefaultAlexaNotificationProtocolVersion(final String defaultAlexaNotificationProtocolVersion){\n        this.defaultAlexaNotificationProtocolVersion = defaultAlexaNotificationProtocolVersion;\n        return this;\n    }\n    public ServiceCreator setDeliveryCallbackUrl(final String deliveryCallbackUrl){\n        this.deliveryCallbackUrl = deliveryCallbackUrl;\n        return this;\n    }\n    public ServiceCreator setDeliveryCallbackEnabled(final Boolean deliveryCallbackEnabled){\n        this.deliveryCallbackEnabled = deliveryCallbackEnabled;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v1/Services\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NOTIFY.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (apnCredentialSid != null) {\n            request.addPostParam(\"ApnCredentialSid\", apnCredentialSid);\n    \n        }\n        if (gcmCredentialSid != null) {\n            request.addPostParam(\"GcmCredentialSid\", gcmCredentialSid);\n    \n        }\n        if (messagingServiceSid != null) {\n            request.addPostParam(\"MessagingServiceSid\", messagingServiceSid);\n    \n        }\n        if (facebookMessengerPageId != null) {\n            request.addPostParam(\"FacebookMessengerPageId\", facebookMessengerPageId);\n    \n        }\n        if (defaultApnNotificationProtocolVersion != null) {\n            request.addPostParam(\"DefaultApnNotificationProtocolVersion\", defaultApnNotificationProtocolVersion);\n    \n        }\n        if (defaultGcmNotificationProtocolVersion != null) {\n            request.addPostParam(\"DefaultGcmNotificationProtocolVersion\", defaultGcmNotificationProtocolVersion);\n    \n        }\n        if (fcmCredentialSid != null) {\n            request.addPostParam(\"FcmCredentialSid\", fcmCredentialSid);\n    \n        }\n        if (defaultFcmNotificationProtocolVersion != null) {\n            request.addPostParam(\"DefaultFcmNotificationProtocolVersion\", defaultFcmNotificationProtocolVersion);\n    \n        }\n        if (logEnabled != null) {\n            request.addPostParam(\"LogEnabled\", logEnabled.toString());\n    \n        }\n        if (alexaSkillId != null) {\n            request.addPostParam(\"AlexaSkillId\", alexaSkillId);\n    \n        }\n        if (defaultAlexaNotificationProtocolVersion != null) {\n            request.addPostParam(\"DefaultAlexaNotificationProtocolVersion\", defaultAlexaNotificationProtocolVersion);\n    \n        }\n        if (deliveryCallbackUrl != null) {\n            request.addPostParam(\"DeliveryCallbackUrl\", deliveryCallbackUrl);\n    \n        }\n        if (deliveryCallbackEnabled != null) {\n            request.addPostParam(\"DeliveryCallbackEnabled\", deliveryCallbackEnabled.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.notify.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ServiceCreator extends Creator<Service> {\n    private String friendlyName;\n    private String apnCredentialSid;\n    private String gcmCredentialSid;\n    private String messagingServiceSid;\n    private String facebookMessengerPageId;\n    private String defaultApnNotificationProtocolVersion;\n    private String defaultGcmNotificationProtocolVersion;\n    private String fcmCredentialSid;\n    private String defaultFcmNotificationProtocolVersion;\n    private Boolean logEnabled;\n    private String alexaSkillId;\n    private String defaultAlexaNotificationProtocolVersion;\n    private String deliveryCallbackUrl;\n    private Boolean deliveryCallbackEnabled;\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public ServiceCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The SID of the <a\n     * href=\"https://www.twilio.com/docs/notify/api/credential-resource\">Credential<\/a>\n     * to use for APN Bindings..\n     *\n     * @param apnCredentialSid The SID of the Credential to use for APN Bindings\n     * @return this\n     */\n    public ServiceCreator setApnCredentialSid(final String apnCredentialSid) {\n        this.apnCredentialSid = apnCredentialSid;\n        return this;\n    }\n\n    /**\n     * The SID of the <a\n     * href=\"https://www.twilio.com/docs/notify/api/credential-resource\">Credential<\/a>\n     * to use for GCM Bindings..\n     *\n     * @param gcmCredentialSid The SID of the Credential to use for GCM Bindings\n     * @return this\n     */\n    public ServiceCreator setGcmCredentialSid(final String gcmCredentialSid) {\n        this.gcmCredentialSid = gcmCredentialSid;\n        return this;\n    }\n\n    /**\n     * The SID of the <a\n     * href=\"https://www.twilio.com/docs/sms/send-messages#messaging-services\">Messaging\n     * Service<\/a> to use for SMS Bindings. This parameter must be set in order to\n     * send SMS notifications..\n     *\n     * @param messagingServiceSid The SID of the Messaging Service to use for SMS\n     *                            Bindings\n     * @return this\n     */\n    public ServiceCreator setMessagingServiceSid(final String messagingServiceSid) {\n        this.messagingServiceSid = messagingServiceSid;\n        return this;\n    }\n\n    /**\n     * Deprecated..\n     *\n     * @param facebookMessengerPageId Deprecated\n     * @return this\n     */\n    public ServiceCreator setFacebookMessengerPageId(final String facebookMessengerPageId) {\n        this.facebookMessengerPageId = facebookMessengerPageId;\n        return this;\n    }\n\n    /**\n     * The protocol version to use for sending APNS notifications. Can be overridden\n     * on a Binding by Binding basis when creating a <a\n     * href=\"https://www.twilio.com/docs/notify/api/binding-resource\">Binding<\/a>\n     * resource..\n     *\n     * @param defaultApnNotificationProtocolVersion The protocol version to use for\n     *                                              sending APNS notifications\n     * @return this\n     */\n    public ServiceCreator setDefaultApnNotificationProtocolVersion(final String defaultApnNotificationProtocolVersion) {\n        this.defaultApnNotificationProtocolVersion = defaultApnNotificationProtocolVersion;\n        return this;\n    }\n\n    /**\n     * The protocol version to use for sending GCM notifications. Can be overridden\n     * on a Binding by Binding basis when creating a <a\n     * href=\"https://www.twilio.com/docs/notify/api/binding-resource\">Binding<\/a>\n     * resource..\n     *\n     * @param defaultGcmNotificationProtocolVersion The protocol version to use for\n     *                                              sending GCM notifications\n     * @return this\n     */\n    public ServiceCreator setDefaultGcmNotificationProtocolVersion(final String defaultGcmNotificationProtocolVersion) {\n        this.defaultGcmNotificationProtocolVersion = defaultGcmNotificationProtocolVersion;\n        return this;\n    }\n\n    /**\n     * The SID of the <a\n     * href=\"https://www.twilio.com/docs/notify/api/credential-resource\">Credential<\/a>\n     * to use for FCM Bindings..\n     *\n     * @param fcmCredentialSid The SID of the Credential to use for FCM Bindings\n     * @return this\n     */\n    public ServiceCreator setFcmCredentialSid(final String fcmCredentialSid) {\n        this.fcmCredentialSid = fcmCredentialSid;\n        return this;\n    }\n\n    /**\n     * The protocol version to use for sending FCM notifications. Can be overridden\n     * on a Binding by Binding basis when creating a <a\n     * href=\"https://www.twilio.com/docs/notify/api/binding-resource\">Binding<\/a>\n     * resource..\n     *\n     * @param defaultFcmNotificationProtocolVersion The protocol version to use for\n     *                                              sending FCM notifications\n     * @return this\n     */\n    public ServiceCreator setDefaultFcmNotificationProtocolVersion(final String defaultFcmNotificationProtocolVersion) {\n        this.defaultFcmNotificationProtocolVersion = defaultFcmNotificationProtocolVersion;\n        return this;\n    }\n\n    /**\n     * Whether to log notifications. Can be: `true` or `false` and the default is\n     * `true`..\n     *\n     * @param logEnabled Whether to log notifications\n     * @return this\n     */\n    public ServiceCreator setLogEnabled(final Boolean logEnabled) {\n        this.logEnabled = logEnabled;\n        return this;\n    }\n\n    /**\n     * Deprecated..\n     *\n     * @param alexaSkillId Deprecated\n     * @return this\n     */\n    public ServiceCreator setAlexaSkillId(final String alexaSkillId) {\n        this.alexaSkillId = alexaSkillId;\n        return this;\n    }\n\n    /**\n     * Deprecated..\n     *\n     * @param defaultAlexaNotificationProtocolVersion Deprecated\n     * @return this\n     */\n    public ServiceCreator setDefaultAlexaNotificationProtocolVersion(final String defaultAlexaNotificationProtocolVersion) {\n        this.defaultAlexaNotificationProtocolVersion = defaultAlexaNotificationProtocolVersion;\n        return this;\n    }\n\n    /**\n     * URL to send delivery status callback..\n     *\n     * @param deliveryCallbackUrl Webhook URL\n     * @return this\n     */\n    public ServiceCreator setDeliveryCallbackUrl(final String deliveryCallbackUrl) {\n        this.deliveryCallbackUrl = deliveryCallbackUrl;\n        return this;\n    }\n\n    /**\n     * Callback configuration that enables delivery callbacks, default false.\n     *\n     * @param deliveryCallbackEnabled Enable delivery callbacks\n     * @return this\n     */\n    public ServiceCreator setDeliveryCallbackEnabled(final Boolean deliveryCallbackEnabled) {\n        this.deliveryCallbackEnabled = deliveryCallbackEnabled;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NOTIFY.toString(),\n            \"/v1/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (apnCredentialSid != null) {\n            request.addPostParam(\"ApnCredentialSid\", apnCredentialSid);\n        }\n\n        if (gcmCredentialSid != null) {\n            request.addPostParam(\"GcmCredentialSid\", gcmCredentialSid);\n        }\n\n        if (messagingServiceSid != null) {\n            request.addPostParam(\"MessagingServiceSid\", messagingServiceSid);\n        }\n\n        if (facebookMessengerPageId != null) {\n            request.addPostParam(\"FacebookMessengerPageId\", facebookMessengerPageId);\n        }\n\n        if (defaultApnNotificationProtocolVersion != null) {\n            request.addPostParam(\"DefaultApnNotificationProtocolVersion\", defaultApnNotificationProtocolVersion);\n        }\n\n        if (defaultGcmNotificationProtocolVersion != null) {\n            request.addPostParam(\"DefaultGcmNotificationProtocolVersion\", defaultGcmNotificationProtocolVersion);\n        }\n\n        if (fcmCredentialSid != null) {\n            request.addPostParam(\"FcmCredentialSid\", fcmCredentialSid);\n        }\n\n        if (defaultFcmNotificationProtocolVersion != null) {\n            request.addPostParam(\"DefaultFcmNotificationProtocolVersion\", defaultFcmNotificationProtocolVersion);\n        }\n\n        if (logEnabled != null) {\n            request.addPostParam(\"LogEnabled\", logEnabled.toString());\n        }\n\n        if (alexaSkillId != null) {\n            request.addPostParam(\"AlexaSkillId\", alexaSkillId);\n        }\n\n        if (defaultAlexaNotificationProtocolVersion != null) {\n            request.addPostParam(\"DefaultAlexaNotificationProtocolVersion\", defaultAlexaNotificationProtocolVersion);\n        }\n\n        if (deliveryCallbackUrl != null) {\n            request.addPostParam(\"DeliveryCallbackUrl\", deliveryCallbackUrl);\n        }\n\n        if (deliveryCallbackEnabled != null) {\n            request.addPostParam(\"DeliveryCallbackEnabled\", deliveryCallbackEnabled.toString());\n        }\n    }\n}\n","lineNo":121}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Notify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.notify.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Notify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private String friendlyName;\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NOTIFY.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NOTIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NOTIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.notify.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ServiceReader extends Reader<Service> {\n    private String friendlyName;\n\n    /**\n     * The string that identifies the Service resources to read..\n     *\n     * @param friendlyName The string that identifies the Service resources to read\n     * @return this\n     */\n    public ServiceReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NOTIFY.toString(),\n            \"/v1/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NOTIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NOTIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class BundleCreator extends Creator<Bundle>{\n    private String friendlyName;\n    private String email;\n    private URI statusCallback;\n    private String regulationSid;\n    private String isoCountry;\n    private Bundle.EndUserType endUserType;\n    private String numberType;\n\n    public BundleCreator(final String friendlyName, final String email) {\n        this.friendlyName = friendlyName;\n        this.email = email;\n    }\n\n    public BundleCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public BundleCreator setEmail(final String email){\n        this.email = email;\n        return this;\n    }\n    public BundleCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public BundleCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public BundleCreator setRegulationSid(final String regulationSid){\n        this.regulationSid = regulationSid;\n        return this;\n    }\n    public BundleCreator setIsoCountry(final String isoCountry){\n        this.isoCountry = isoCountry;\n        return this;\n    }\n    public BundleCreator setEndUserType(final Bundle.EndUserType endUserType){\n        this.endUserType = endUserType;\n        return this;\n    }\n    public BundleCreator setNumberType(final String numberType){\n        this.numberType = numberType;\n        return this;\n    }\n\n    @Override\n    public Bundle create(final TwilioRestClient client){\n        String path = \"/v2/RegulatoryCompliance/Bundles\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Email\"+\"}\", this.email.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NUMBERS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Bundle creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Bundle.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (regulationSid != null) {\n            request.addPostParam(\"RegulationSid\", regulationSid);\n    \n        }\n        if (isoCountry != null) {\n            request.addPostParam(\"IsoCountry\", isoCountry);\n    \n        }\n        if (endUserType != null) {\n            request.addPostParam(\"EndUserType\", endUserType.toString());\n    \n        }\n        if (numberType != null) {\n            request.addPostParam(\"NumberType\", numberType);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class BundleCreator extends Creator<Bundle> {\n    private final String friendlyName;\n    private final String email;\n    private URI statusCallback;\n    private String regulationSid;\n    private String isoCountry;\n    private Bundle.EndUserType endUserType;\n    private String numberType;\n\n    /**\n     * Construct a new BundleCreator.\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @param email The email address\n     */\n    public BundleCreator(final String friendlyName,\n                         final String email) {\n        this.friendlyName = friendlyName;\n        this.email = email;\n    }\n\n    /**\n     * The URL we call to inform your application of status changes..\n     *\n     * @param statusCallback The URL we call to inform your application of status\n     *                       changes.\n     * @return this\n     */\n    public BundleCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we call to inform your application of status changes..\n     *\n     * @param statusCallback The URL we call to inform your application of status\n     *                       changes.\n     * @return this\n     */\n    public BundleCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The unique string of a regulation that is associated to the Bundle resource..\n     *\n     * @param regulationSid The unique string of a regulation.\n     * @return this\n     */\n    public BundleCreator setRegulationSid(final String regulationSid) {\n        this.regulationSid = regulationSid;\n        return this;\n    }\n\n    /**\n     * The <a href=\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\">ISO country\n     * code<\/a> of the Bundle's phone number country ownership request..\n     *\n     * @param isoCountry The ISO country code of the country\n     * @return this\n     */\n    public BundleCreator setIsoCountry(final String isoCountry) {\n        this.isoCountry = isoCountry;\n        return this;\n    }\n\n    /**\n     * The <a\n     * href=\"https://www.twilio.com/docs/phone-numbers/regulatory/api/end-user-types\">type\n     * of End User<\/a> of the Bundle resource..\n     *\n     * @param endUserType The type of End User of the Bundle resource\n     * @return this\n     */\n    public BundleCreator setEndUserType(final Bundle.EndUserType endUserType) {\n        this.endUserType = endUserType;\n        return this;\n    }\n\n    /**\n     * The type of phone number of the Bundle's ownership request. Can be `local`,\n     * `mobile`, `national`, or `toll free`..\n     *\n     * @param numberType The type of phone number\n     * @return this\n     */\n    public BundleCreator setNumberType(final String numberType) {\n        this.numberType = numberType;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Bundle\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Bundle create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/Bundles\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Bundle creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Bundle.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (regulationSid != null) {\n            request.addPostParam(\"RegulationSid\", regulationSid);\n        }\n\n        if (isoCountry != null) {\n            request.addPostParam(\"IsoCountry\", isoCountry);\n        }\n\n        if (endUserType != null) {\n            request.addPostParam(\"EndUserType\", endUserType.toString());\n        }\n\n        if (numberType != null) {\n            request.addPostParam(\"NumberType\", numberType);\n        }\n    }\n}\n","lineNo":96}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\n\n\n\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class BundleReader extends Reader<Bundle> {\n    private Bundle.Status status;\n    private String friendlyName;\n    private String regulationSid;\n    private String isoCountry;\n    private String numberType;\n    private Boolean hasValidUntilDate;\n    private Bundle.SortBy sortBy;\n    private Bundle.SortDirection sortDirection;\n    private ZonedDateTime validUntilDate;\n    private ZonedDateTime validUntilDateBefore;\n    private ZonedDateTime validUntilDateAfter;\n    private Integer pageSize;\n\n    public BundleReader(){\n    }\n\n    public BundleReader setStatus(final Bundle.Status status){\n        this.status = status;\n        return this;\n    }\n    public BundleReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public BundleReader setRegulationSid(final String regulationSid){\n        this.regulationSid = regulationSid;\n        return this;\n    }\n    public BundleReader setIsoCountry(final String isoCountry){\n        this.isoCountry = isoCountry;\n        return this;\n    }\n    public BundleReader setNumberType(final String numberType){\n        this.numberType = numberType;\n        return this;\n    }\n    public BundleReader setHasValidUntilDate(final Boolean hasValidUntilDate){\n        this.hasValidUntilDate = hasValidUntilDate;\n        return this;\n    }\n    public BundleReader setSortBy(final Bundle.SortBy sortBy){\n        this.sortBy = sortBy;\n        return this;\n    }\n    public BundleReader setSortDirection(final Bundle.SortDirection sortDirection){\n        this.sortDirection = sortDirection;\n        return this;\n    }\n    public BundleReader setValidUntilDate(final ZonedDateTime validUntilDate){\n        this.validUntilDate = validUntilDate;\n        return this;\n    }\n    public BundleReader setValidUntilDateBefore(final ZonedDateTime validUntilDateBefore){\n        this.validUntilDateBefore = validUntilDateBefore;\n        return this;\n    }\n    public BundleReader setValidUntilDateAfter(final ZonedDateTime validUntilDateAfter){\n        this.validUntilDateAfter = validUntilDateAfter;\n        return this;\n    }\n    public BundleReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Bundle> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Bundle> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/RegulatoryCompliance/Bundles\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Bundle> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Bundle read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            Bundle.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Bundle> previousPage(final Page<Bundle> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Bundle> nextPage(final Page<Bundle> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Bundle> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (regulationSid != null) {\n    \n            request.addQueryParam(\"RegulationSid\", regulationSid);\n        }\n        if (isoCountry != null) {\n    \n            request.addQueryParam(\"IsoCountry\", isoCountry);\n        }\n        if (numberType != null) {\n    \n            request.addQueryParam(\"NumberType\", numberType);\n        }\n        if (hasValidUntilDate != null) {\n    \n            request.addQueryParam(\"HasValidUntilDate\", hasValidUntilDate.toString());\n        }\n        if (sortBy != null) {\n    \n            request.addQueryParam(\"SortBy\", sortBy.toString());\n        }\n        if (sortDirection != null) {\n    \n            request.addQueryParam(\"SortDirection\", sortDirection.toString());\n        }\n        if (validUntilDate != null) {\n            request.addQueryParam(\"ValidUntilDate\", validUntilDate.format(DateTimeFormatter.ofPattern(Request.QUERY_STRING_DATE_TIME_FORMAT)));\n        }\n        else if (validUntilDateAfter != null || validUntilDateBefore != null) {\n            request.addQueryDateTimeRange(\"ValidUntilDate\", validUntilDateAfter, validUntilDateBefore);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class BundleReader extends Reader<Bundle> {\n    private Bundle.Status status;\n    private String friendlyName;\n    private String regulationSid;\n    private String isoCountry;\n    private String numberType;\n    private Boolean hasValidUntilDate;\n    private Bundle.SortBy sortBy;\n    private Bundle.SortDirection sortDirection;\n    private ZonedDateTime validUntilDate;\n    private ZonedDateTime validUntilDateBefore;\n    private ZonedDateTime validUntilDateAfter;\n\n    /**\n     * The verification status of the Bundle resource. Please refer to <a\n     * href=\"https://www.twilio.com/docs/phone-numbers/regulatory/api/bundles#bundle-statuses\">Bundle\n     * Statuses<\/a> for more details..\n     *\n     * @param status The verification status of the Bundle resource\n     * @return this\n     */\n    public BundleReader setStatus(final Bundle.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The string that you assigned to describe the resource. The column can contain\n     * 255 variable characters..\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @return this\n     */\n    public BundleReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The unique string of a <a\n     * href=\"https://www.twilio.com/docs/phone-numbers/regulatory/api/regulations\">Regulation\n     * resource<\/a> that is associated to the Bundle resource..\n     *\n     * @param regulationSid The unique string of a regulation.\n     * @return this\n     */\n    public BundleReader setRegulationSid(final String regulationSid) {\n        this.regulationSid = regulationSid;\n        return this;\n    }\n\n    /**\n     * The 2-digit <a href=\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\">ISO\n     * country code<\/a> of the Bundle's phone number country ownership request..\n     *\n     * @param isoCountry The ISO country code of the country\n     * @return this\n     */\n    public BundleReader setIsoCountry(final String isoCountry) {\n        this.isoCountry = isoCountry;\n        return this;\n    }\n\n    /**\n     * The type of phone number of the Bundle's ownership request. Can be `local`,\n     * `mobile`, `national`, or `tollfree`..\n     *\n     * @param numberType The type of phone number\n     * @return this\n     */\n    public BundleReader setNumberType(final String numberType) {\n        this.numberType = numberType;\n        return this;\n    }\n\n    /**\n     * Indicates that the Bundle is a valid Bundle until a specified expiration\n     * date..\n     *\n     * @param hasValidUntilDate Indicates that the Bundle is a valid Bundle until a\n     *                          specified expiration date.\n     * @return this\n     */\n    public BundleReader setHasValidUntilDate(final Boolean hasValidUntilDate) {\n        this.hasValidUntilDate = hasValidUntilDate;\n        return this;\n    }\n\n    /**\n     * Can be `valid-until` or `date-updated`. Defaults to `date-created`..\n     *\n     * @param sortBy Can be `valid-until` or `date-updated`. Defaults to\n     *               `date-created`.\n     * @return this\n     */\n    public BundleReader setSortBy(final Bundle.SortBy sortBy) {\n        this.sortBy = sortBy;\n        return this;\n    }\n\n    /**\n     * Default is `DESC`. Can be `ASC` or `DESC`..\n     *\n     * @param sortDirection Default is `DESC`. Can be `ASC` or `DESC`.\n     * @return this\n     */\n    public BundleReader setSortDirection(final Bundle.SortDirection sortDirection) {\n        this.sortDirection = sortDirection;\n        return this;\n    }\n\n    /**\n     * Date to filter Bundles having their `valid_until_date` before or after the\n     * specified date. Can be `ValidUntilDate&gt;=` or `ValidUntilDate&lt;=`. Both\n     * can be used in conjunction as well. <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> is the acceptable\n     * date format..\n     *\n     * @param validUntilDate Date to filter Bundles having their `valid_until_date`\n     *                       before or after the specified date. Can be\n     *                       `ValidUntilDate&gt;=` or `ValidUntilDate&lt;=`. Both\n     *                       can be used in conjunction as well.\n     * @return this\n     */\n    public BundleReader setValidUntilDate(final ZonedDateTime validUntilDate) {\n        this.validUntilDateBefore = null;\n        this.validUntilDateAfter = null;\n        this.validUntilDate = validUntilDate;\n        return this;\n    }\n\n    /**\n     * Date to filter Bundles having their `valid_until_date` before or after the\n     * specified date. Can be `ValidUntilDate&gt;=` or `ValidUntilDate&lt;=`. Both\n     * can be used in conjunction as well. <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> is the acceptable\n     * date format..\n     *\n     * @param validUntilDateBefore Date to filter Bundles having their\n     *                             `valid_until_date` before or after the specified\n     *                             date. Can be `ValidUntilDate&gt;=` or\n     *                             `ValidUntilDate&lt;=`. Both can be used in\n     *                             conjunction as well.\n     * @return this\n     */\n    public BundleReader setValidUntilDateBefore(final ZonedDateTime validUntilDateBefore) {\n        this.validUntilDate = null;\n        this.validUntilDateBefore = validUntilDateBefore;\n        return this;\n    }\n\n    /**\n     * Date to filter Bundles having their `valid_until_date` before or after the\n     * specified date. Can be `ValidUntilDate&gt;=` or `ValidUntilDate&lt;=`. Both\n     * can be used in conjunction as well. <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> is the acceptable\n     * date format..\n     *\n     * @param validUntilDateAfter Date to filter Bundles having their\n     *                            `valid_until_date` before or after the specified\n     *                            date. Can be `ValidUntilDate&gt;=` or\n     *                            `ValidUntilDate&lt;=`. Both can be used in\n     *                            conjunction as well.\n     * @return this\n     */\n    public BundleReader setValidUntilDateAfter(final ZonedDateTime validUntilDateAfter) {\n        this.validUntilDate = null;\n        this.validUntilDateAfter = validUntilDateAfter;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Bundle ResourceSet\n     */\n    @Override\n    public ResourceSet<Bundle> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Bundle ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Bundle> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/Bundles\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Bundle ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Bundle> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Bundle> nextPage(final Page<Bundle> page,\n                                 final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Bundle> previousPage(final Page<Bundle> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Bundle Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Bundle> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Bundle read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            Bundle.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (regulationSid != null) {\n            request.addQueryParam(\"RegulationSid\", regulationSid);\n        }\n\n        if (isoCountry != null) {\n            request.addQueryParam(\"IsoCountry\", isoCountry);\n        }\n\n        if (numberType != null) {\n            request.addQueryParam(\"NumberType\", numberType);\n        }\n\n        if (hasValidUntilDate != null) {\n            request.addQueryParam(\"HasValidUntilDate\", hasValidUntilDate.toString());\n        }\n\n        if (sortBy != null) {\n            request.addQueryParam(\"SortBy\", sortBy.toString());\n        }\n\n        if (sortDirection != null) {\n            request.addQueryParam(\"SortDirection\", sortDirection.toString());\n        }\n\n        if (validUntilDate != null) {\n            request.addQueryParam(\"ValidUntilDate\", validUntilDate.format(DateTimeFormatter.ofPattern(Request.QUERY_STRING_DATE_TIME_FORMAT)));\n        } else if (validUntilDateAfter != null || validUntilDateBefore != null) {\n            request.addQueryDateTimeRange(\"ValidUntilDate\", validUntilDateAfter, validUntilDateBefore);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":119}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EndUserCreator extends Creator<EndUser>{\n    private String friendlyName;\n    private EndUser.Type type;\n    private Map<String, Object> attributes;\n\n    public EndUserCreator(final String friendlyName, final EndUser.Type type) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n    }\n\n    public EndUserCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public EndUserCreator setType(final EndUser.Type type){\n        this.type = type;\n        return this;\n    }\n    public EndUserCreator setAttributes(final Map<String, Object> attributes){\n        this.attributes = attributes;\n        return this;\n    }\n\n    @Override\n    public EndUser create(final TwilioRestClient client){\n        String path = \"/v2/RegulatoryCompliance/EndUsers\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NUMBERS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUser creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return EndUser.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\",  Converter.mapToJson(attributes));\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\npublic class EndUserCreator extends Creator<EndUser> {\n    private final String friendlyName;\n    private final EndUser.Type type;\n    private Map<String, Object> attributes;\n\n    /**\n     * Construct a new EndUserCreator.\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @param type The type of end user of the Bundle resource\n     */\n    public EndUserCreator(final String friendlyName,\n                          final EndUser.Type type) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n    }\n\n    /**\n     * The set of parameters that are the attributes of the End User resource which\n     * are derived End User Types..\n     *\n     * @param attributes The set of parameters that compose the End User resource\n     * @return this\n     */\n    public EndUserCreator setAttributes(final Map<String, Object> attributes) {\n        this.attributes = attributes;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created EndUser\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public EndUser create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/EndUsers\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUser creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return EndUser.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\", Converter.mapToJson(attributes));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EndUserReader extends Reader<EndUser> {\n    private Integer pageSize;\n\n    public EndUserReader(){\n    }\n\n    public EndUserReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<EndUser> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<EndUser> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/RegulatoryCompliance/EndUsers\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<EndUser> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUser read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            EndUser.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<EndUser> previousPage(final Page<EndUser> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<EndUser> nextPage(final Page<EndUser> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<EndUser> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class EndUserReader extends Reader<EndUser> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUser ResourceSet\n     */\n    @Override\n    public ResourceSet<EndUser> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUser ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EndUser> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/EndUsers\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUser ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EndUser> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<EndUser> nextPage(final Page<EndUser> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<EndUser> previousPage(final Page<EndUser> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of EndUser Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<EndUser> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUser read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            EndUser.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EndUserTypeReader extends Reader<EndUserType> {\n    private Integer pageSize;\n\n    public EndUserTypeReader(){\n    }\n\n    public EndUserTypeReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<EndUserType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<EndUserType> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/RegulatoryCompliance/EndUserTypes\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<EndUserType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUserType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"end_user_types\",\n            response.getContent(),\n            EndUserType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<EndUserType> previousPage(final Page<EndUserType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<EndUserType> nextPage(final Page<EndUserType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<EndUserType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class EndUserTypeReader extends Reader<EndUserType> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUserType ResourceSet\n     */\n    @Override\n    public ResourceSet<EndUserType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUserType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EndUserType> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/EndUserTypes\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUserType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EndUserType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<EndUserType> nextPage(final Page<EndUserType> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<EndUserType> previousPage(final Page<EndUserType> page,\n                                          final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of EndUserType Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<EndUserType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUserType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"end_user_types\",\n            response.getContent(),\n            EndUserType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RegulationReader extends Reader<Regulation> {\n    private Regulation.EndUserType endUserType;\n    private String isoCountry;\n    private String numberType;\n    private Integer pageSize;\n\n    public RegulationReader(){\n    }\n\n    public RegulationReader setEndUserType(final Regulation.EndUserType endUserType){\n        this.endUserType = endUserType;\n        return this;\n    }\n    public RegulationReader setIsoCountry(final String isoCountry){\n        this.isoCountry = isoCountry;\n        return this;\n    }\n    public RegulationReader setNumberType(final String numberType){\n        this.numberType = numberType;\n        return this;\n    }\n    public RegulationReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Regulation> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Regulation> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/RegulatoryCompliance/Regulations\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Regulation> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Regulation read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            Regulation.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Regulation> previousPage(final Page<Regulation> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Regulation> nextPage(final Page<Regulation> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Regulation> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (endUserType != null) {\n    \n            request.addQueryParam(\"EndUserType\", endUserType.toString());\n        }\n        if (isoCountry != null) {\n    \n            request.addQueryParam(\"IsoCountry\", isoCountry);\n        }\n        if (numberType != null) {\n    \n            request.addQueryParam(\"NumberType\", numberType);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RegulationReader extends Reader<Regulation> {\n    private Regulation.EndUserType endUserType;\n    private String isoCountry;\n    private String numberType;\n\n    /**\n     * The type of End User the regulation requires - can be `individual` or\n     * `business`..\n     *\n     * @param endUserType The type of End User of the Regulation resource\n     * @return this\n     */\n    public RegulationReader setEndUserType(final Regulation.EndUserType endUserType) {\n        this.endUserType = endUserType;\n        return this;\n    }\n\n    /**\n     * The ISO country code of the phone number's country..\n     *\n     * @param isoCountry The ISO country code of the phone number's country\n     * @return this\n     */\n    public RegulationReader setIsoCountry(final String isoCountry) {\n        this.isoCountry = isoCountry;\n        return this;\n    }\n\n    /**\n     * The type of phone number that the regulatory requiremnt is restricting..\n     *\n     * @param numberType The type of phone number being regulated\n     * @return this\n     */\n    public RegulationReader setNumberType(final String numberType) {\n        this.numberType = numberType;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Regulation ResourceSet\n     */\n    @Override\n    public ResourceSet<Regulation> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Regulation ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Regulation> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/Regulations\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Regulation ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Regulation> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Regulation> nextPage(final Page<Regulation> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Regulation> previousPage(final Page<Regulation> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Regulation Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Regulation> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Regulation read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            Regulation.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (endUserType != null) {\n            request.addQueryParam(\"EndUserType\", endUserType.toString());\n        }\n\n        if (isoCountry != null) {\n            request.addQueryParam(\"IsoCountry\", isoCountry);\n        }\n\n        if (numberType != null) {\n            request.addQueryParam(\"NumberType\", numberType);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SupportingDocumentCreator extends Creator<SupportingDocument>{\n    private String friendlyName;\n    private String type;\n    private Map<String, Object> attributes;\n\n    public SupportingDocumentCreator(final String friendlyName, final String type) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n    }\n\n    public SupportingDocumentCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public SupportingDocumentCreator setType(final String type){\n        this.type = type;\n        return this;\n    }\n    public SupportingDocumentCreator setAttributes(final Map<String, Object> attributes){\n        this.attributes = attributes;\n        return this;\n    }\n\n    @Override\n    public SupportingDocument create(final TwilioRestClient client){\n        String path = \"/v2/RegulatoryCompliance/SupportingDocuments\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NUMBERS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocument creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SupportingDocument.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (type != null) {\n            request.addPostParam(\"Type\", type);\n    \n        }\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\",  Converter.mapToJson(attributes));\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\npublic class SupportingDocumentCreator extends Creator<SupportingDocument> {\n    private final String friendlyName;\n    private final String type;\n    private Map<String, Object> attributes;\n\n    /**\n     * Construct a new SupportingDocumentCreator.\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @param type The type of the Supporting Document\n     */\n    public SupportingDocumentCreator(final String friendlyName,\n                                     final String type) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n    }\n\n    /**\n     * The set of parameters that are the attributes of the Supporting Documents\n     * resource which are derived Supporting Document Types..\n     *\n     * @param attributes The set of parameters that compose the Supporting\n     *                   Documents resource\n     * @return this\n     */\n    public SupportingDocumentCreator setAttributes(final Map<String, Object> attributes) {\n        this.attributes = attributes;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created SupportingDocument\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public SupportingDocument create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/SupportingDocuments\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocument creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SupportingDocument.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (type != null) {\n            request.addPostParam(\"Type\", type);\n        }\n\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\", Converter.mapToJson(attributes));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SupportingDocumentReader extends Reader<SupportingDocument> {\n    private Integer pageSize;\n\n    public SupportingDocumentReader(){\n    }\n\n    public SupportingDocumentReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<SupportingDocument> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<SupportingDocument> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/RegulatoryCompliance/SupportingDocuments\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<SupportingDocument> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocument read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            SupportingDocument.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<SupportingDocument> previousPage(final Page<SupportingDocument> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<SupportingDocument> nextPage(final Page<SupportingDocument> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<SupportingDocument> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SupportingDocumentReader extends Reader<SupportingDocument> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocument ResourceSet\n     */\n    @Override\n    public ResourceSet<SupportingDocument> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocument ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SupportingDocument> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/SupportingDocuments\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocument ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SupportingDocument> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<SupportingDocument> nextPage(final Page<SupportingDocument> page,\n                                             final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<SupportingDocument> previousPage(final Page<SupportingDocument> page,\n                                                 final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of SupportingDocument Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<SupportingDocument> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocument read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            SupportingDocument.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Numbers\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Numbers\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SupportingDocumentTypeReader extends Reader<SupportingDocumentType> {\n    private Integer pageSize;\n\n    public SupportingDocumentTypeReader(){\n    }\n\n    public SupportingDocumentTypeReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<SupportingDocumentType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<SupportingDocumentType> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/RegulatoryCompliance/SupportingDocumentTypes\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<SupportingDocumentType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocumentType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"supporting_document_types\",\n            response.getContent(),\n            SupportingDocumentType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<SupportingDocumentType> previousPage(final Page<SupportingDocumentType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<SupportingDocumentType> nextPage(final Page<SupportingDocumentType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<SupportingDocumentType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.numbers.v2.regulatorycompliance;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SupportingDocumentTypeReader extends Reader<SupportingDocumentType> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocumentType ResourceSet\n     */\n    @Override\n    public ResourceSet<SupportingDocumentType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocumentType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SupportingDocumentType> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.NUMBERS.toString(),\n            \"/v2/RegulatoryCompliance/SupportingDocumentTypes\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocumentType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SupportingDocumentType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<SupportingDocumentType> nextPage(final Page<SupportingDocumentType> page,\n                                                 final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<SupportingDocumentType> previousPage(final Page<SupportingDocumentType> page,\n                                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.NUMBERS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of SupportingDocumentType Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<SupportingDocumentType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocumentType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"supporting_document_types\",\n            response.getContent(),\n            SupportingDocumentType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.deployedDevices;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FleetCreator extends Creator<Fleet>{\n    private String friendlyName;\n\n    public FleetCreator() {\n    }\n\n    public FleetCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public Fleet create(final TwilioRestClient client){\n        String path = \"/DeployedDevices/Fleets\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Fleet creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Fleet.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.deployedDevices;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class FleetCreator extends Creator<Fleet> {\n    private String friendlyName;\n\n    /**\n     * Provides a human readable descriptive text for this Fleet, up to 256\n     * characters long..\n     *\n     * @param friendlyName A human readable description for this Fleet.\n     * @return this\n     */\n    public FleetCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Fleet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Fleet create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            \"/DeployedDevices/Fleets\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Fleet creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Fleet.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":56}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.deployedDevices;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FleetReader extends Reader<Fleet> {\n    private Integer pageSize;\n\n    public FleetReader(){\n    }\n\n    public FleetReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Fleet> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Fleet> firstPage(final TwilioRestClient client) {\n        String path = \"/DeployedDevices/Fleets\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Fleet> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Fleet read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"fleets\",\n            response.getContent(),\n            Fleet.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Fleet> previousPage(final Page<Fleet> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Fleet> nextPage(final Page<Fleet> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Fleet> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.deployedDevices;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class FleetReader extends Reader<Fleet> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fleet ResourceSet\n     */\n    @Override\n    public ResourceSet<Fleet> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fleet ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Fleet> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/DeployedDevices/Fleets\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Fleet ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Fleet> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Fleet> nextPage(final Page<Fleet> page,\n                                final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Fleet> previousPage(final Page<Fleet> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Fleet Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Fleet> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Fleet read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"fleets\",\n            response.getContent(),\n            Fleet.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.hostedNumbers;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthorizationDocumentCreator extends Creator<AuthorizationDocument>{\n    private List<String> hostedNumberOrderSids;\n    private String addressSid;\n    private String email;\n    private String contactTitle;\n    private String contactPhoneNumber;\n    private List<String> ccEmails;\n\n    public AuthorizationDocumentCreator(final List<String> hostedNumberOrderSids, final String addressSid, final String email, final String contactTitle, final String contactPhoneNumber) {\n        this.hostedNumberOrderSids = hostedNumberOrderSids;\n        this.addressSid = addressSid;\n        this.email = email;\n        this.contactTitle = contactTitle;\n        this.contactPhoneNumber = contactPhoneNumber;\n    }\n\n    public AuthorizationDocumentCreator setHostedNumberOrderSids(final List<String> hostedNumberOrderSids){\n        this.hostedNumberOrderSids = hostedNumberOrderSids;\n        return this;\n    }\n    public AuthorizationDocumentCreator setAddressSid(final String addressSid){\n        this.addressSid = addressSid;\n        return this;\n    }\n    public AuthorizationDocumentCreator setEmail(final String email){\n        this.email = email;\n        return this;\n    }\n    public AuthorizationDocumentCreator setContactTitle(final String contactTitle){\n        this.contactTitle = contactTitle;\n        return this;\n    }\n    public AuthorizationDocumentCreator setContactPhoneNumber(final String contactPhoneNumber){\n        this.contactPhoneNumber = contactPhoneNumber;\n        return this;\n    }\n    public AuthorizationDocumentCreator setCcEmails(final List<String> ccEmails){\n        this.ccEmails = ccEmails;\n        return this;\n    }\n\n    @Override\n    public AuthorizationDocument create(final TwilioRestClient client){\n        String path = \"/HostedNumbers/AuthorizationDocuments\";\n\n        path = path.replace(\"{\"+\"HostedNumberOrderSids\"+\"}\", this.hostedNumberOrderSids.toString());\n        path = path.replace(\"{\"+\"AddressSid\"+\"}\", this.addressSid.toString());\n        path = path.replace(\"{\"+\"Email\"+\"}\", this.email.toString());\n        path = path.replace(\"{\"+\"ContactTitle\"+\"}\", this.contactTitle.toString());\n        path = path.replace(\"{\"+\"ContactPhoneNumber\"+\"}\", this.contactPhoneNumber.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthorizationDocument creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthorizationDocument.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (hostedNumberOrderSids != null) {\n            for (String prop : hostedNumberOrderSids) {\n                request.addPostParam(\"HostedNumberOrderSids\", prop);\n            }\n    \n        }\n        if (addressSid != null) {\n            request.addPostParam(\"AddressSid\", addressSid);\n    \n        }\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n    \n        }\n        if (contactTitle != null) {\n            request.addPostParam(\"ContactTitle\", contactTitle);\n    \n        }\n        if (contactPhoneNumber != null) {\n            request.addPostParam(\"ContactPhoneNumber\", contactPhoneNumber);\n    \n        }\n        if (ccEmails != null) {\n            for (String prop : ccEmails) {\n                request.addPostParam(\"CcEmails\", prop);\n            }\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.hostedNumbers;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class AuthorizationDocumentCreator extends Creator<AuthorizationDocument> {\n    private final List<String> hostedNumberOrderSids;\n    private final String addressSid;\n    private final String email;\n    private final String contactTitle;\n    private final String contactPhoneNumber;\n    private List<String> ccEmails;\n\n    /**\n     * Construct a new AuthorizationDocumentCreator.\n     *\n     * @param hostedNumberOrderSids A list of HostedNumberOrder sids.\n     * @param addressSid Address sid.\n     * @param email Email.\n     * @param contactTitle Title of signee of this Authorization Document.\n     * @param contactPhoneNumber Authorization Document's signee's phone number.\n     */\n    public AuthorizationDocumentCreator(final List<String> hostedNumberOrderSids,\n                                        final String addressSid,\n                                        final String email,\n                                        final String contactTitle,\n                                        final String contactPhoneNumber) {\n        this.hostedNumberOrderSids = hostedNumberOrderSids;\n        this.addressSid = addressSid;\n        this.email = email;\n        this.contactTitle = contactTitle;\n        this.contactPhoneNumber = contactPhoneNumber;\n    }\n\n    /**\n     * Email recipients who will be informed when an Authorization Document has been\n     * sent and signed..\n     *\n     * @param ccEmails A list of emails.\n     * @return this\n     */\n    public AuthorizationDocumentCreator setCcEmails(final List<String> ccEmails) {\n        this.ccEmails = ccEmails;\n        return this;\n    }\n\n    /**\n     * Email recipients who will be informed when an Authorization Document has been\n     * sent and signed..\n     *\n     * @param ccEmails A list of emails.\n     * @return this\n     */\n    public AuthorizationDocumentCreator setCcEmails(final String ccEmails) {\n        return setCcEmails(Promoter.listOfOne(ccEmails));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created AuthorizationDocument\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public AuthorizationDocument create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            \"/HostedNumbers/AuthorizationDocuments\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthorizationDocument creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return AuthorizationDocument.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (hostedNumberOrderSids != null) {\n            for (String prop : hostedNumberOrderSids) {\n                request.addPostParam(\"HostedNumberOrderSids\", prop);\n            }\n        }\n\n        if (addressSid != null) {\n            request.addPostParam(\"AddressSid\", addressSid);\n        }\n\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n        }\n\n        if (contactTitle != null) {\n            request.addPostParam(\"ContactTitle\", contactTitle);\n        }\n\n        if (contactPhoneNumber != null) {\n            request.addPostParam(\"ContactPhoneNumber\", contactPhoneNumber);\n        }\n\n        if (ccEmails != null) {\n            for (String prop : ccEmails) {\n                request.addPostParam(\"CcEmails\", prop);\n            }\n        }\n    }\n}\n","lineNo":88}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.hostedNumbers;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AuthorizationDocumentReader extends Reader<AuthorizationDocument> {\n    private String email;\n    private AuthorizationDocument.Status status;\n    private Integer pageSize;\n\n    public AuthorizationDocumentReader(){\n    }\n\n    public AuthorizationDocumentReader setEmail(final String email){\n        this.email = email;\n        return this;\n    }\n    public AuthorizationDocumentReader setStatus(final AuthorizationDocument.Status status){\n        this.status = status;\n        return this;\n    }\n    public AuthorizationDocumentReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<AuthorizationDocument> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<AuthorizationDocument> firstPage(final TwilioRestClient client) {\n        String path = \"/HostedNumbers/AuthorizationDocuments\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<AuthorizationDocument> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthorizationDocument read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"items\",\n            response.getContent(),\n            AuthorizationDocument.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<AuthorizationDocument> previousPage(final Page<AuthorizationDocument> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<AuthorizationDocument> nextPage(final Page<AuthorizationDocument> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<AuthorizationDocument> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (email != null) {\n    \n            request.addQueryParam(\"Email\", email);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.hostedNumbers;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class AuthorizationDocumentReader extends Reader<AuthorizationDocument> {\n    private String email;\n    private AuthorizationDocument.Status status;\n\n    /**\n     * Email that this AuthorizationDocument will be sent to for signing..\n     *\n     * @param email Email.\n     * @return this\n     */\n    public AuthorizationDocumentReader setEmail(final String email) {\n        this.email = email;\n        return this;\n    }\n\n    /**\n     * Status of an instance resource. It can hold one of the values: 1. opened 2.\n     * signing, 3. signed LOA, 4. canceled, 5. failed. See the section entitled <a\n     * href=\"https://www.twilio.com/docs/api/phone-numbers/hosted-number-authorization-documents#status-values\">Status\n     * Values<\/a> for more information on each of these statuses..\n     *\n     * @param status The Status of this AuthorizationDocument.\n     * @return this\n     */\n    public AuthorizationDocumentReader setStatus(final AuthorizationDocument.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return AuthorizationDocument ResourceSet\n     */\n    @Override\n    public ResourceSet<AuthorizationDocument> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return AuthorizationDocument ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<AuthorizationDocument> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/HostedNumbers/AuthorizationDocuments\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return AuthorizationDocument ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<AuthorizationDocument> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<AuthorizationDocument> nextPage(final Page<AuthorizationDocument> page,\n                                                final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<AuthorizationDocument> previousPage(final Page<AuthorizationDocument> page,\n                                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of AuthorizationDocument Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<AuthorizationDocument> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AuthorizationDocument read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"items\",\n            response.getContent(),\n            AuthorizationDocument.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (email != null) {\n            request.addQueryParam(\"Email\", email);\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.hostedNumbers;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\nimport java.net.URI;\n\nimport java.util.List;\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class HostedNumberOrderCreator extends Creator<HostedNumberOrder>{\n    private com.twilio.type.PhoneNumber phoneNumber;\n    private Boolean smsCapability;\n    private String accountSid;\n    private String friendlyName;\n    private String uniqueName;\n    private List<String> ccEmails;\n    private URI smsUrl;\n    private HttpMethod smsMethod;\n    private URI smsFallbackUrl;\n    private HttpMethod smsFallbackMethod;\n    private URI statusCallbackUrl;\n    private HttpMethod statusCallbackMethod;\n    private String smsApplicationSid;\n    private String addressSid;\n    private String email;\n    private HostedNumberOrder.VerificationType verificationType;\n    private String verificationDocumentSid;\n\n    public HostedNumberOrderCreator(final com.twilio.type.PhoneNumber phoneNumber, final Boolean smsCapability) {\n        this.phoneNumber = phoneNumber;\n        this.smsCapability = smsCapability;\n    }\n\n    public HostedNumberOrderCreator setPhoneNumber(final com.twilio.type.PhoneNumber phoneNumber){\n        this.phoneNumber = phoneNumber;\n        return this;\n    }\n\n    public HostedNumberOrderCreator setPhoneNumber(final String phoneNumber){\n    this.phoneNumber = Promoter.phoneNumberFromString(phoneNumber);\n    return this;\n    }\n    public HostedNumberOrderCreator setSmsCapability(final Boolean smsCapability){\n        this.smsCapability = smsCapability;\n        return this;\n    }\n    public HostedNumberOrderCreator setAccountSid(final String accountSid){\n        this.accountSid = accountSid;\n        return this;\n    }\n    public HostedNumberOrderCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public HostedNumberOrderCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public HostedNumberOrderCreator setCcEmails(final List<String> ccEmails){\n        this.ccEmails = ccEmails;\n        return this;\n    }\n    public HostedNumberOrderCreator setSmsUrl(final URI smsUrl){\n        this.smsUrl = smsUrl;\n        return this;\n    }\n\n    public HostedNumberOrderCreator setSmsUrl(final String smsUrl){\n    this.smsUrl = Promoter.uriFromString(smsUrl);\n    return this;\n    }\n    public HostedNumberOrderCreator setSmsMethod(final HttpMethod smsMethod){\n        this.smsMethod = smsMethod;\n        return this;\n    }\n    public HostedNumberOrderCreator setSmsFallbackUrl(final URI smsFallbackUrl){\n        this.smsFallbackUrl = smsFallbackUrl;\n        return this;\n    }\n\n    public HostedNumberOrderCreator setSmsFallbackUrl(final String smsFallbackUrl){\n    this.smsFallbackUrl = Promoter.uriFromString(smsFallbackUrl);\n    return this;\n    }\n    public HostedNumberOrderCreator setSmsFallbackMethod(final HttpMethod smsFallbackMethod){\n        this.smsFallbackMethod = smsFallbackMethod;\n        return this;\n    }\n    public HostedNumberOrderCreator setStatusCallbackUrl(final URI statusCallbackUrl){\n        this.statusCallbackUrl = statusCallbackUrl;\n        return this;\n    }\n\n    public HostedNumberOrderCreator setStatusCallbackUrl(final String statusCallbackUrl){\n    this.statusCallbackUrl = Promoter.uriFromString(statusCallbackUrl);\n    return this;\n    }\n    public HostedNumberOrderCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public HostedNumberOrderCreator setSmsApplicationSid(final String smsApplicationSid){\n        this.smsApplicationSid = smsApplicationSid;\n        return this;\n    }\n    public HostedNumberOrderCreator setAddressSid(final String addressSid){\n        this.addressSid = addressSid;\n        return this;\n    }\n    public HostedNumberOrderCreator setEmail(final String email){\n        this.email = email;\n        return this;\n    }\n    public HostedNumberOrderCreator setVerificationType(final HostedNumberOrder.VerificationType verificationType){\n        this.verificationType = verificationType;\n        return this;\n    }\n    public HostedNumberOrderCreator setVerificationDocumentSid(final String verificationDocumentSid){\n        this.verificationDocumentSid = verificationDocumentSid;\n        return this;\n    }\n\n    @Override\n    public HostedNumberOrder create(final TwilioRestClient client){\n        String path = \"/HostedNumbers/HostedNumberOrders\";\n\n        path = path.replace(\"{\"+\"PhoneNumber\"+\"}\", this.phoneNumber.encode(\"utf-8\"));\n        path = path.replace(\"{\"+\"SmsCapability\"+\"}\", this.smsCapability.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"HostedNumberOrder creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return HostedNumberOrder.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (phoneNumber != null) {\n            request.addPostParam(\"PhoneNumber\", phoneNumber.toString());\n    \n        }\n        if (smsCapability != null) {\n            request.addPostParam(\"SmsCapability\", smsCapability.toString());\n    \n        }\n        if (accountSid != null) {\n            request.addPostParam(\"AccountSid\", accountSid);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (ccEmails != null) {\n            for (String prop : ccEmails) {\n                request.addPostParam(\"CcEmails\", prop);\n            }\n    \n        }\n        if (smsUrl != null) {\n            request.addPostParam(\"SmsUrl\", smsUrl.toString());\n    \n        }\n        if (smsMethod != null) {\n            request.addPostParam(\"SmsMethod\", smsMethod.toString());\n    \n        }\n        if (smsFallbackUrl != null) {\n            request.addPostParam(\"SmsFallbackUrl\", smsFallbackUrl.toString());\n    \n        }\n        if (smsFallbackMethod != null) {\n            request.addPostParam(\"SmsFallbackMethod\", smsFallbackMethod.toString());\n    \n        }\n        if (statusCallbackUrl != null) {\n            request.addPostParam(\"StatusCallbackUrl\", statusCallbackUrl.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (smsApplicationSid != null) {\n            request.addPostParam(\"SmsApplicationSid\", smsApplicationSid);\n    \n        }\n        if (addressSid != null) {\n            request.addPostParam(\"AddressSid\", addressSid);\n    \n        }\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n    \n        }\n        if (verificationType != null) {\n            request.addPostParam(\"VerificationType\", verificationType.toString());\n    \n        }\n        if (verificationDocumentSid != null) {\n            request.addPostParam(\"VerificationDocumentSid\", verificationDocumentSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.hostedNumbers;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\nimport java.util.List;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class HostedNumberOrderCreator extends Creator<HostedNumberOrder> {\n    private final com.twilio.type.PhoneNumber phoneNumber;\n    private final Boolean smsCapability;\n    private String accountSid;\n    private String friendlyName;\n    private String uniqueName;\n    private List<String> ccEmails;\n    private URI smsUrl;\n    private HttpMethod smsMethod;\n    private URI smsFallbackUrl;\n    private HttpMethod smsFallbackMethod;\n    private URI statusCallbackUrl;\n    private HttpMethod statusCallbackMethod;\n    private String smsApplicationSid;\n    private String addressSid;\n    private String email;\n    private HostedNumberOrder.VerificationType verificationType;\n    private String verificationDocumentSid;\n\n    /**\n     * Construct a new HostedNumberOrderCreator.\n     *\n     * @param phoneNumber An E164 formatted phone number.\n     * @param smsCapability Specify SMS capability to host.\n     */\n    public HostedNumberOrderCreator(final com.twilio.type.PhoneNumber phoneNumber,\n                                    final Boolean smsCapability) {\n        this.phoneNumber = phoneNumber;\n        this.smsCapability = smsCapability;\n    }\n\n    /**\n     * This defaults to the AccountSid of the authorization the user is using. This\n     * can be provided to specify a subaccount to add the HostedNumberOrder to..\n     *\n     * @param accountSid Account Sid.\n     * @return this\n     */\n    public HostedNumberOrderCreator setAccountSid(final String accountSid) {\n        this.accountSid = accountSid;\n        return this;\n    }\n\n    /**\n     * A 64 character string that is a human readable text that describes this\n     * resource..\n     *\n     * @param friendlyName A human readable description of this resource.\n     * @return this\n     */\n    public HostedNumberOrderCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Optional. Provides a unique and addressable name to be assigned to this\n     * HostedNumberOrder, assigned by the developer, to be optionally used in\n     * addition to SID..\n     *\n     * @param uniqueName A unique, developer assigned name of this\n     *                   HostedNumberOrder.\n     * @return this\n     */\n    public HostedNumberOrderCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * Optional. A list of emails that the LOA document for this HostedNumberOrder\n     * will be carbon copied to..\n     *\n     * @param ccEmails A list of emails.\n     * @return this\n     */\n    public HostedNumberOrderCreator setCcEmails(final List<String> ccEmails) {\n        this.ccEmails = ccEmails;\n        return this;\n    }\n\n    /**\n     * Optional. A list of emails that the LOA document for this HostedNumberOrder\n     * will be carbon copied to..\n     *\n     * @param ccEmails A list of emails.\n     * @return this\n     */\n    public HostedNumberOrderCreator setCcEmails(final String ccEmails) {\n        return setCcEmails(Promoter.listOfOne(ccEmails));\n    }\n\n    /**\n     * The URL that Twilio should request when somebody sends an SMS to the phone\n     * number. This will be copied onto the IncomingPhoneNumber resource..\n     *\n     * @param smsUrl SMS URL.\n     * @return this\n     */\n    public HostedNumberOrderCreator setSmsUrl(final URI smsUrl) {\n        this.smsUrl = smsUrl;\n        return this;\n    }\n\n    /**\n     * The URL that Twilio should request when somebody sends an SMS to the phone\n     * number. This will be copied onto the IncomingPhoneNumber resource..\n     *\n     * @param smsUrl SMS URL.\n     * @return this\n     */\n    public HostedNumberOrderCreator setSmsUrl(final String smsUrl) {\n        return setSmsUrl(Promoter.uriFromString(smsUrl));\n    }\n\n    /**\n     * The HTTP method that should be used to request the SmsUrl. Must be either\n     * `GET` or `POST`.  This will be copied onto the IncomingPhoneNumber resource..\n     *\n     * @param smsMethod SMS Method.\n     * @return this\n     */\n    public HostedNumberOrderCreator setSmsMethod(final HttpMethod smsMethod) {\n        this.smsMethod = smsMethod;\n        return this;\n    }\n\n    /**\n     * A URL that Twilio will request if an error occurs requesting or executing the\n     * TwiML defined by SmsUrl. This will be copied onto the IncomingPhoneNumber\n     * resource..\n     *\n     * @param smsFallbackUrl SMS Fallback URL.\n     * @return this\n     */\n    public HostedNumberOrderCreator setSmsFallbackUrl(final URI smsFallbackUrl) {\n        this.smsFallbackUrl = smsFallbackUrl;\n        return this;\n    }\n\n    /**\n     * A URL that Twilio will request if an error occurs requesting or executing the\n     * TwiML defined by SmsUrl. This will be copied onto the IncomingPhoneNumber\n     * resource..\n     *\n     * @param smsFallbackUrl SMS Fallback URL.\n     * @return this\n     */\n    public HostedNumberOrderCreator setSmsFallbackUrl(final String smsFallbackUrl) {\n        return setSmsFallbackUrl(Promoter.uriFromString(smsFallbackUrl));\n    }\n\n    /**\n     * The HTTP method that should be used to request the SmsFallbackUrl. Must be\n     * either `GET` or `POST`. This will be copied onto the IncomingPhoneNumber\n     * resource..\n     *\n     * @param smsFallbackMethod SMS Fallback Method.\n     * @return this\n     */\n    public HostedNumberOrderCreator setSmsFallbackMethod(final HttpMethod smsFallbackMethod) {\n        this.smsFallbackMethod = smsFallbackMethod;\n        return this;\n    }\n\n    /**\n     * Optional. The Status Callback URL attached to the IncomingPhoneNumber\n     * resource..\n     *\n     * @param statusCallbackUrl Status Callback URL.\n     * @return this\n     */\n    public HostedNumberOrderCreator setStatusCallbackUrl(final URI statusCallbackUrl) {\n        this.statusCallbackUrl = statusCallbackUrl;\n        return this;\n    }\n\n    /**\n     * Optional. The Status Callback URL attached to the IncomingPhoneNumber\n     * resource..\n     *\n     * @param statusCallbackUrl Status Callback URL.\n     * @return this\n     */\n    public HostedNumberOrderCreator setStatusCallbackUrl(final String statusCallbackUrl) {\n        return setStatusCallbackUrl(Promoter.uriFromString(statusCallbackUrl));\n    }\n\n    /**\n     * Optional. The Status Callback Method attached to the IncomingPhoneNumber\n     * resource..\n     *\n     * @param statusCallbackMethod Status Callback Method.\n     * @return this\n     */\n    public HostedNumberOrderCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * Optional. The 34 character sid of the application Twilio should use to handle\n     * SMS messages sent to this number. If a `SmsApplicationSid` is present, Twilio\n     * will ignore all of the SMS urls above and use those set on the application..\n     *\n     * @param smsApplicationSid SMS Application Sid.\n     * @return this\n     */\n    public HostedNumberOrderCreator setSmsApplicationSid(final String smsApplicationSid) {\n        this.smsApplicationSid = smsApplicationSid;\n        return this;\n    }\n\n    /**\n     * Optional. A 34 character string that uniquely identifies the Address resource\n     * that represents the address of the owner of this phone number..\n     *\n     * @param addressSid Address sid.\n     * @return this\n     */\n    public HostedNumberOrderCreator setAddressSid(final String addressSid) {\n        this.addressSid = addressSid;\n        return this;\n    }\n\n    /**\n     * Optional. Email of the owner of this phone number that is being hosted..\n     *\n     * @param email Email.\n     * @return this\n     */\n    public HostedNumberOrderCreator setEmail(final String email) {\n        this.email = email;\n        return this;\n    }\n\n    /**\n     * Optional. The method used for verifying ownership of the number to be hosted.\n     * One of phone-call (default) or phone-bill..\n     *\n     * @param verificationType Verification Type.\n     * @return this\n     */\n    public HostedNumberOrderCreator setVerificationType(final HostedNumberOrder.VerificationType verificationType) {\n        this.verificationType = verificationType;\n        return this;\n    }\n\n    /**\n     * Optional. The unique sid identifier of the Identity Document that represents\n     * the document for verifying ownership of the number to be hosted. Required\n     * when VerificationType is phone-bill..\n     *\n     * @param verificationDocumentSid Verification Document Sid\n     * @return this\n     */\n    public HostedNumberOrderCreator setVerificationDocumentSid(final String verificationDocumentSid) {\n        this.verificationDocumentSid = verificationDocumentSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created HostedNumberOrder\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public HostedNumberOrder create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            \"/HostedNumbers/HostedNumberOrders\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"HostedNumberOrder creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return HostedNumberOrder.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (phoneNumber != null) {\n            request.addPostParam(\"PhoneNumber\", phoneNumber.toString());\n        }\n\n        if (smsCapability != null) {\n            request.addPostParam(\"SmsCapability\", smsCapability.toString());\n        }\n\n        if (accountSid != null) {\n            request.addPostParam(\"AccountSid\", accountSid);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (ccEmails != null) {\n            for (String prop : ccEmails) {\n                request.addPostParam(\"CcEmails\", prop);\n            }\n        }\n\n        if (smsUrl != null) {\n            request.addPostParam(\"SmsUrl\", smsUrl.toString());\n        }\n\n        if (smsMethod != null) {\n            request.addPostParam(\"SmsMethod\", smsMethod.toString());\n        }\n\n        if (smsFallbackUrl != null) {\n            request.addPostParam(\"SmsFallbackUrl\", smsFallbackUrl.toString());\n        }\n\n        if (smsFallbackMethod != null) {\n            request.addPostParam(\"SmsFallbackMethod\", smsFallbackMethod.toString());\n        }\n\n        if (statusCallbackUrl != null) {\n            request.addPostParam(\"StatusCallbackUrl\", statusCallbackUrl.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (smsApplicationSid != null) {\n            request.addPostParam(\"SmsApplicationSid\", smsApplicationSid);\n        }\n\n        if (addressSid != null) {\n            request.addPostParam(\"AddressSid\", addressSid);\n        }\n\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n        }\n\n        if (verificationType != null) {\n            request.addPostParam(\"VerificationType\", verificationType.toString());\n        }\n\n        if (verificationDocumentSid != null) {\n            request.addPostParam(\"VerificationDocumentSid\", verificationDocumentSid);\n        }\n    }\n}\n","lineNo":163}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.hostedNumbers;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class HostedNumberOrderReader extends Reader<HostedNumberOrder> {\n    private HostedNumberOrder.Status status;\n    private com.twilio.type.PhoneNumber phoneNumber;\n    private String incomingPhoneNumberSid;\n    private String friendlyName;\n    private String uniqueName;\n    private Integer pageSize;\n\n    public HostedNumberOrderReader(){\n    }\n\n    public HostedNumberOrderReader setStatus(final HostedNumberOrder.Status status){\n        this.status = status;\n        return this;\n    }\n    public HostedNumberOrderReader setPhoneNumber(final com.twilio.type.PhoneNumber phoneNumber){\n        this.phoneNumber = phoneNumber;\n        return this;\n    }\n\n    public HostedNumberOrderReader setPhoneNumber(final String phoneNumber){\n    this.phoneNumber = Promoter.phoneNumberFromString(phoneNumber);\n    return this;\n    }\n    public HostedNumberOrderReader setIncomingPhoneNumberSid(final String incomingPhoneNumberSid){\n        this.incomingPhoneNumberSid = incomingPhoneNumberSid;\n        return this;\n    }\n    public HostedNumberOrderReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public HostedNumberOrderReader setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public HostedNumberOrderReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<HostedNumberOrder> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<HostedNumberOrder> firstPage(final TwilioRestClient client) {\n        String path = \"/HostedNumbers/HostedNumberOrders\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<HostedNumberOrder> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"HostedNumberOrder read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"items\",\n            response.getContent(),\n            HostedNumberOrder.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<HostedNumberOrder> previousPage(final Page<HostedNumberOrder> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<HostedNumberOrder> nextPage(final Page<HostedNumberOrder> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<HostedNumberOrder> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (phoneNumber != null) {\n    \n            request.addQueryParam(\"PhoneNumber\", phoneNumber.toString());\n        }\n        if (incomingPhoneNumberSid != null) {\n    \n            request.addQueryParam(\"IncomingPhoneNumberSid\", incomingPhoneNumberSid);\n        }\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (uniqueName != null) {\n    \n            request.addQueryParam(\"UniqueName\", uniqueName);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.hostedNumbers;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class HostedNumberOrderReader extends Reader<HostedNumberOrder> {\n    private HostedNumberOrder.Status status;\n    private com.twilio.type.PhoneNumber phoneNumber;\n    private String incomingPhoneNumberSid;\n    private String friendlyName;\n    private String uniqueName;\n\n    /**\n     * The Status of this HostedNumberOrder. One of `received`,\n     * `pending-verification`, `verified`, `pending-loa`, `carrier-processing`,\n     * `testing`, `completed`, `failed`, or `action-required`..\n     *\n     * @param status The Status of this HostedNumberOrder.\n     * @return this\n     */\n    public HostedNumberOrderReader setStatus(final HostedNumberOrder.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * An E164 formatted phone number hosted by this HostedNumberOrder..\n     *\n     * @param phoneNumber An E164 formatted phone number.\n     * @return this\n     */\n    public HostedNumberOrderReader setPhoneNumber(final com.twilio.type.PhoneNumber phoneNumber) {\n        this.phoneNumber = phoneNumber;\n        return this;\n    }\n\n    /**\n     * An E164 formatted phone number hosted by this HostedNumberOrder..\n     *\n     * @param phoneNumber An E164 formatted phone number.\n     * @return this\n     */\n    public HostedNumberOrderReader setPhoneNumber(final String phoneNumber) {\n        return setPhoneNumber(Promoter.phoneNumberFromString(phoneNumber));\n    }\n\n    /**\n     * A 34 character string that uniquely identifies the IncomingPhoneNumber\n     * resource created by this HostedNumberOrder..\n     *\n     * @param incomingPhoneNumberSid IncomingPhoneNumber sid.\n     * @return this\n     */\n    public HostedNumberOrderReader setIncomingPhoneNumberSid(final String incomingPhoneNumberSid) {\n        this.incomingPhoneNumberSid = incomingPhoneNumberSid;\n        return this;\n    }\n\n    /**\n     * A human readable description of this resource, up to 64 characters..\n     *\n     * @param friendlyName A human readable description of this resource.\n     * @return this\n     */\n    public HostedNumberOrderReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Provides a unique and addressable name to be assigned to this\n     * HostedNumberOrder, assigned by the developer, to be optionally used in\n     * addition to SID..\n     *\n     * @param uniqueName A unique, developer assigned name of this\n     *                   HostedNumberOrder.\n     * @return this\n     */\n    public HostedNumberOrderReader setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return HostedNumberOrder ResourceSet\n     */\n    @Override\n    public ResourceSet<HostedNumberOrder> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return HostedNumberOrder ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<HostedNumberOrder> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/HostedNumbers/HostedNumberOrders\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return HostedNumberOrder ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<HostedNumberOrder> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<HostedNumberOrder> nextPage(final Page<HostedNumberOrder> page,\n                                            final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<HostedNumberOrder> previousPage(final Page<HostedNumberOrder> page,\n                                                final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of HostedNumberOrder Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<HostedNumberOrder> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"HostedNumberOrder read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"items\",\n            response.getContent(),\n            HostedNumberOrder.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (phoneNumber != null) {\n            request.addQueryParam(\"PhoneNumber\", phoneNumber.toString());\n        }\n\n        if (incomingPhoneNumberSid != null) {\n            request.addQueryParam(\"IncomingPhoneNumberSid\", incomingPhoneNumberSid);\n        }\n\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (uniqueName != null) {\n            request.addQueryParam(\"UniqueName\", uniqueName);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":93}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.marketplace;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AvailableAddOnReader extends Reader<AvailableAddOn> {\n    private Integer pageSize;\n\n    public AvailableAddOnReader(){\n    }\n\n    public AvailableAddOnReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<AvailableAddOn> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<AvailableAddOn> firstPage(final TwilioRestClient client) {\n        String path = \"/marketplace/AvailableAddOns\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<AvailableAddOn> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AvailableAddOn read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"available_add_ons\",\n            response.getContent(),\n            AvailableAddOn.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<AvailableAddOn> previousPage(final Page<AvailableAddOn> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<AvailableAddOn> nextPage(final Page<AvailableAddOn> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<AvailableAddOn> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.marketplace;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class AvailableAddOnReader extends Reader<AvailableAddOn> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return AvailableAddOn ResourceSet\n     */\n    @Override\n    public ResourceSet<AvailableAddOn> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return AvailableAddOn ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<AvailableAddOn> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/marketplace/AvailableAddOns\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return AvailableAddOn ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<AvailableAddOn> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<AvailableAddOn> nextPage(final Page<AvailableAddOn> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<AvailableAddOn> previousPage(final Page<AvailableAddOn> page,\n                                             final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of AvailableAddOn Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<AvailableAddOn> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"AvailableAddOn read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"available_add_ons\",\n            response.getContent(),\n            AvailableAddOn.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.marketplace;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class InstalledAddOnCreator extends Creator<InstalledAddOn>{\n    private String availableAddOnSid;\n    private Boolean acceptTermsOfService;\n    private Map<String, Object> configuration;\n    private String uniqueName;\n\n    public InstalledAddOnCreator(final String availableAddOnSid, final Boolean acceptTermsOfService) {\n        this.availableAddOnSid = availableAddOnSid;\n        this.acceptTermsOfService = acceptTermsOfService;\n    }\n\n    public InstalledAddOnCreator setAvailableAddOnSid(final String availableAddOnSid){\n        this.availableAddOnSid = availableAddOnSid;\n        return this;\n    }\n    public InstalledAddOnCreator setAcceptTermsOfService(final Boolean acceptTermsOfService){\n        this.acceptTermsOfService = acceptTermsOfService;\n        return this;\n    }\n    public InstalledAddOnCreator setConfiguration(final Map<String, Object> configuration){\n        this.configuration = configuration;\n        return this;\n    }\n    public InstalledAddOnCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    @Override\n    public InstalledAddOn create(final TwilioRestClient client){\n        String path = \"/marketplace/InstalledAddOns\";\n\n        path = path.replace(\"{\"+\"AvailableAddOnSid\"+\"}\", this.availableAddOnSid.toString());\n        path = path.replace(\"{\"+\"AcceptTermsOfService\"+\"}\", this.acceptTermsOfService.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"InstalledAddOn creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return InstalledAddOn.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (availableAddOnSid != null) {\n            request.addPostParam(\"AvailableAddOnSid\", availableAddOnSid);\n    \n        }\n        if (acceptTermsOfService != null) {\n            request.addPostParam(\"AcceptTermsOfService\", acceptTermsOfService.toString());\n    \n        }\n        if (configuration != null) {\n            request.addPostParam(\"Configuration\",  Converter.mapToJson(configuration));\n    \n        }\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.marketplace;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class InstalledAddOnCreator extends Creator<InstalledAddOn> {\n    private final String availableAddOnSid;\n    private final Boolean acceptTermsOfService;\n    private Map<String, Object> configuration;\n    private String uniqueName;\n\n    /**\n     * Construct a new InstalledAddOnCreator.\n     *\n     * @param availableAddOnSid The SID of the AvaliableAddOn to install\n     * @param acceptTermsOfService Whether the Terms of Service were accepted\n     */\n    public InstalledAddOnCreator(final String availableAddOnSid,\n                                 final Boolean acceptTermsOfService) {\n        this.availableAddOnSid = availableAddOnSid;\n        this.acceptTermsOfService = acceptTermsOfService;\n    }\n\n    /**\n     * The JSON object that represents the configuration of the new Add-on being\n     * installed..\n     *\n     * @param configuration The JSON object representing the configuration\n     * @return this\n     */\n    public InstalledAddOnCreator setConfiguration(final Map<String, Object> configuration) {\n        this.configuration = configuration;\n        return this;\n    }\n\n    /**\n     * An application-defined string that uniquely identifies the resource. This\n     * value must be unique within the Account..\n     *\n     * @param uniqueName An application-defined string that uniquely identifies the\n     *                   resource\n     * @return this\n     */\n    public InstalledAddOnCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created InstalledAddOn\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public InstalledAddOn create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            \"/marketplace/InstalledAddOns\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"InstalledAddOn creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return InstalledAddOn.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (availableAddOnSid != null) {\n            request.addPostParam(\"AvailableAddOnSid\", availableAddOnSid);\n        }\n\n        if (acceptTermsOfService != null) {\n            request.addPostParam(\"AcceptTermsOfService\", acceptTermsOfService.toString());\n        }\n\n        if (configuration != null) {\n            request.addPostParam(\"Configuration\", Converter.mapToJson(configuration));\n        }\n\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.marketplace;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class InstalledAddOnReader extends Reader<InstalledAddOn> {\n    private Integer pageSize;\n\n    public InstalledAddOnReader(){\n    }\n\n    public InstalledAddOnReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<InstalledAddOn> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<InstalledAddOn> firstPage(final TwilioRestClient client) {\n        String path = \"/marketplace/InstalledAddOns\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<InstalledAddOn> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"InstalledAddOn read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"installed_add_ons\",\n            response.getContent(),\n            InstalledAddOn.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<InstalledAddOn> previousPage(final Page<InstalledAddOn> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<InstalledAddOn> nextPage(final Page<InstalledAddOn> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<InstalledAddOn> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.marketplace;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class InstalledAddOnReader extends Reader<InstalledAddOn> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return InstalledAddOn ResourceSet\n     */\n    @Override\n    public ResourceSet<InstalledAddOn> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return InstalledAddOn ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<InstalledAddOn> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/marketplace/InstalledAddOns\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return InstalledAddOn ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<InstalledAddOn> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<InstalledAddOn> nextPage(final Page<InstalledAddOn> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<InstalledAddOn> previousPage(final Page<InstalledAddOn> page,\n                                             final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of InstalledAddOn Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<InstalledAddOn> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"InstalledAddOn read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"installed_add_ons\",\n            response.getContent(),\n            InstalledAddOn.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.sync;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n    private URI webhookUrl;\n    private Boolean reachabilityWebhooksEnabled;\n    private Boolean aclEnabled;\n\n    public ServiceCreator() {\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ServiceCreator setWebhookUrl(final URI webhookUrl){\n        this.webhookUrl = webhookUrl;\n        return this;\n    }\n\n    public ServiceCreator setWebhookUrl(final String webhookUrl){\n    this.webhookUrl = Promoter.uriFromString(webhookUrl);\n    return this;\n    }\n    public ServiceCreator setReachabilityWebhooksEnabled(final Boolean reachabilityWebhooksEnabled){\n        this.reachabilityWebhooksEnabled = reachabilityWebhooksEnabled;\n        return this;\n    }\n    public ServiceCreator setAclEnabled(final Boolean aclEnabled){\n        this.aclEnabled = aclEnabled;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/Sync/Services\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (webhookUrl != null) {\n            request.addPostParam(\"WebhookUrl\", webhookUrl.toString());\n    \n        }\n        if (reachabilityWebhooksEnabled != null) {\n            request.addPostParam(\"ReachabilityWebhooksEnabled\", reachabilityWebhooksEnabled.toString());\n    \n        }\n        if (aclEnabled != null) {\n            request.addPostParam(\"AclEnabled\", aclEnabled.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.sync;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class ServiceCreator extends Creator<Service> {\n    private String friendlyName;\n    private URI webhookUrl;\n    private Boolean reachabilityWebhooksEnabled;\n    private Boolean aclEnabled;\n\n    /**\n     * The friendly_name.\n     *\n     * @param friendlyName The friendly_name\n     * @return this\n     */\n    public ServiceCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The webhook_url.\n     *\n     * @param webhookUrl The webhook_url\n     * @return this\n     */\n    public ServiceCreator setWebhookUrl(final URI webhookUrl) {\n        this.webhookUrl = webhookUrl;\n        return this;\n    }\n\n    /**\n     * The webhook_url.\n     *\n     * @param webhookUrl The webhook_url\n     * @return this\n     */\n    public ServiceCreator setWebhookUrl(final String webhookUrl) {\n        return setWebhookUrl(Promoter.uriFromString(webhookUrl));\n    }\n\n    /**\n     * The reachability_webhooks_enabled.\n     *\n     * @param reachabilityWebhooksEnabled The reachability_webhooks_enabled\n     * @return this\n     */\n    public ServiceCreator setReachabilityWebhooksEnabled(final Boolean reachabilityWebhooksEnabled) {\n        this.reachabilityWebhooksEnabled = reachabilityWebhooksEnabled;\n        return this;\n    }\n\n    /**\n     * The acl_enabled.\n     *\n     * @param aclEnabled The acl_enabled\n     * @return this\n     */\n    public ServiceCreator setAclEnabled(final Boolean aclEnabled) {\n        this.aclEnabled = aclEnabled;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            \"/Sync/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (webhookUrl != null) {\n            request.addPostParam(\"WebhookUrl\", webhookUrl.toString());\n        }\n\n        if (reachabilityWebhooksEnabled != null) {\n            request.addPostParam(\"ReachabilityWebhooksEnabled\", reachabilityWebhooksEnabled.toString());\n        }\n\n        if (aclEnabled != null) {\n            request.addPostParam(\"AclEnabled\", aclEnabled.toString());\n        }\n    }\n}\n","lineNo":79}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.sync;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/Sync/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.sync;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/Sync/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.trustedComms;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class BrandsInformationFetcher extends Fetcher<BrandsInformation> {\n    private String ifNoneMatch;\n\n    public BrandsInformationFetcher(){\n    }\n\n    public BrandsInformationFetcher setIfNoneMatch(final String ifNoneMatch){\n    this.ifNoneMatch = ifNoneMatch;\n    return this;\n    }\n\n    @Override\n    public BrandsInformation fetch(final TwilioRestClient client) {\n        String path = \"/TrustedComms/BrandsInformation\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addHeaderParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"BrandsInformation fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return BrandsInformation.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addHeaderParams(final Request request) {\n        if (ifNoneMatch != null) {\n            request.addHeaderParam(\"If-None-Match\", ifNoneMatch);\n\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.trustedComms;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class BrandsInformationFetcher extends Fetcher<BrandsInformation> {\n    private String ifNoneMatch;\n\n    /**\n     * Standard `If-None-Match` HTTP header. For more information visit:\n     * https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match..\n     *\n     * @param ifNoneMatch Standard `If-None-Match` HTTP header\n     * @return this\n     */\n    public BrandsInformationFetcher setIfNoneMatch(final String ifNoneMatch) {\n        this.ifNoneMatch = ifNoneMatch;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched BrandsInformation\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public BrandsInformation fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/TrustedComms/BrandsInformation\"\n        );\n\n        addHeaderParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"BrandsInformation fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return BrandsInformation.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested header parameters to the Request.\n     *\n     * @param request Request to add header params to\n     */\n    private void addHeaderParams(final Request request) {\n        if (ifNoneMatch != null) {\n            request.addHeaderParam(\"If-None-Match\", ifNoneMatch);\n        }\n    }\n}\n","lineNo":56}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.trustedComms;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CpsFetcher extends Fetcher<Cps> {\n    private String xXcnamSensitivePhoneNumber;\n\n    public CpsFetcher(){\n    }\n\n    public CpsFetcher setXXcnamSensitivePhoneNumber(final String xXcnamSensitivePhoneNumber){\n    this.xXcnamSensitivePhoneNumber = xXcnamSensitivePhoneNumber;\n    return this;\n    }\n\n    @Override\n    public Cps fetch(final TwilioRestClient client) {\n        String path = \"/TrustedComms/CPS\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addHeaderParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Cps fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Cps.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addHeaderParams(final Request request) {\n        if (xXcnamSensitivePhoneNumber != null) {\n            request.addHeaderParam(\"X-Xcnam-Sensitive-Phone-Number\", xXcnamSensitivePhoneNumber);\n\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.trustedComms;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class CpsFetcher extends Fetcher<Cps> {\n    private String xXcnamSensitivePhoneNumber;\n\n    /**\n     * Phone number used to retrieve its corresponding CPS..\n     *\n     * @param xXcnamSensitivePhoneNumber Phone number to retrieve CPS.\n     * @return this\n     */\n    public CpsFetcher setXXcnamSensitivePhoneNumber(final String xXcnamSensitivePhoneNumber) {\n        this.xXcnamSensitivePhoneNumber = xXcnamSensitivePhoneNumber;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Cps\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Cps fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/TrustedComms/CPS\"\n        );\n\n        addHeaderParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Cps fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Cps.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested header parameters to the Request.\n     *\n     * @param request Request to add header params to\n     */\n    private void addHeaderParams(final Request request) {\n        if (xXcnamSensitivePhoneNumber != null) {\n            request.addHeaderParam(\"X-Xcnam-Sensitive-Phone-Number\", xXcnamSensitivePhoneNumber);\n        }\n    }\n}\n","lineNo":56}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.trustedComms;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CurrentCallFetcher extends Fetcher<CurrentCall> {\n    private String xXcnamSensitivePhoneNumberFrom;\n    private String xXcnamSensitivePhoneNumberTo;\n\n    public CurrentCallFetcher(){\n    }\n\n    public CurrentCallFetcher setXXcnamSensitivePhoneNumberFrom(final String xXcnamSensitivePhoneNumberFrom){\n    this.xXcnamSensitivePhoneNumberFrom = xXcnamSensitivePhoneNumberFrom;\n    return this;\n    }\n    public CurrentCallFetcher setXXcnamSensitivePhoneNumberTo(final String xXcnamSensitivePhoneNumberTo){\n    this.xXcnamSensitivePhoneNumberTo = xXcnamSensitivePhoneNumberTo;\n    return this;\n    }\n\n    @Override\n    public CurrentCall fetch(final TwilioRestClient client) {\n        String path = \"/TrustedComms/CurrentCall\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addHeaderParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"CurrentCall fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CurrentCall.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addHeaderParams(final Request request) {\n        if (xXcnamSensitivePhoneNumberFrom != null) {\n            request.addHeaderParam(\"X-Xcnam-Sensitive-Phone-Number-From\", xXcnamSensitivePhoneNumberFrom);\n\n        }\n        if (xXcnamSensitivePhoneNumberTo != null) {\n            request.addHeaderParam(\"X-Xcnam-Sensitive-Phone-Number-To\", xXcnamSensitivePhoneNumberTo);\n\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.trustedComms;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class CurrentCallFetcher extends Fetcher<CurrentCall> {\n    private String xXcnamSensitivePhoneNumberFrom;\n    private String xXcnamSensitivePhoneNumberTo;\n\n    /**\n     * The originating Phone Number, given in <a\n     * href=\"https://www.twilio.com/docs/glossary/what-e164\">E.164 format<\/a>. This\n     * phone number should be a Twilio number, otherwise it will return an error\n     * with HTTP Status Code 400..\n     *\n     * @param xXcnamSensitivePhoneNumberFrom The originating Phone Number\n     * @return this\n     */\n    public CurrentCallFetcher setXXcnamSensitivePhoneNumberFrom(final String xXcnamSensitivePhoneNumberFrom) {\n        this.xXcnamSensitivePhoneNumberFrom = xXcnamSensitivePhoneNumberFrom;\n        return this;\n    }\n\n    /**\n     * The terminating Phone Number, given in <a\n     * href=\"https://www.twilio.com/docs/glossary/what-e164\">E.164 format<\/a>..\n     *\n     * @param xXcnamSensitivePhoneNumberTo The terminating Phone Number\n     * @return this\n     */\n    public CurrentCallFetcher setXXcnamSensitivePhoneNumberTo(final String xXcnamSensitivePhoneNumberTo) {\n        this.xXcnamSensitivePhoneNumberTo = xXcnamSensitivePhoneNumberTo;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched CurrentCall\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public CurrentCall fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/TrustedComms/CurrentCall\"\n        );\n\n        addHeaderParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CurrentCall fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CurrentCall.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested header parameters to the Request.\n     *\n     * @param request Request to add header params to\n     */\n    private void addHeaderParams(final Request request) {\n        if (xXcnamSensitivePhoneNumberFrom != null) {\n            request.addHeaderParam(\"X-Xcnam-Sensitive-Phone-Number-From\", xXcnamSensitivePhoneNumberFrom);\n        }\n\n        if (xXcnamSensitivePhoneNumberTo != null) {\n            request.addHeaderParam(\"X-Xcnam-Sensitive-Phone-Number-To\", xXcnamSensitivePhoneNumberTo);\n        }\n    }\n}\n","lineNo":61}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.understand;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\nimport java.net.URI;\n\nimport java.util.Map;\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AssistantCreator extends Creator<Assistant>{\n    private String friendlyName;\n    private Boolean logQueries;\n    private String uniqueName;\n    private URI callbackUrl;\n    private String callbackEvents;\n    private Map<String, Object> fallbackActions;\n    private Map<String, Object> initiationActions;\n    private Map<String, Object> styleSheet;\n\n    public AssistantCreator() {\n    }\n\n    public AssistantCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public AssistantCreator setLogQueries(final Boolean logQueries){\n        this.logQueries = logQueries;\n        return this;\n    }\n    public AssistantCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public AssistantCreator setCallbackUrl(final URI callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    public AssistantCreator setCallbackUrl(final String callbackUrl){\n    this.callbackUrl = Promoter.uriFromString(callbackUrl);\n    return this;\n    }\n    public AssistantCreator setCallbackEvents(final String callbackEvents){\n        this.callbackEvents = callbackEvents;\n        return this;\n    }\n    public AssistantCreator setFallbackActions(final Map<String, Object> fallbackActions){\n        this.fallbackActions = fallbackActions;\n        return this;\n    }\n    public AssistantCreator setInitiationActions(final Map<String, Object> initiationActions){\n        this.initiationActions = initiationActions;\n        return this;\n    }\n    public AssistantCreator setStyleSheet(final Map<String, Object> styleSheet){\n        this.styleSheet = styleSheet;\n        return this;\n    }\n\n    @Override\n    public Assistant create(final TwilioRestClient client){\n        String path = \"/understand/Assistants\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Assistant creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Assistant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (logQueries != null) {\n            request.addPostParam(\"LogQueries\", logQueries.toString());\n    \n        }\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n    \n        }\n        if (callbackEvents != null) {\n            request.addPostParam(\"CallbackEvents\", callbackEvents);\n    \n        }\n        if (fallbackActions != null) {\n            request.addPostParam(\"FallbackActions\",  Converter.mapToJson(fallbackActions));\n    \n        }\n        if (initiationActions != null) {\n            request.addPostParam(\"InitiationActions\",  Converter.mapToJson(initiationActions));\n    \n        }\n        if (styleSheet != null) {\n            request.addPostParam(\"StyleSheet\",  Converter.mapToJson(styleSheet));\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.understand;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\nimport java.util.Map;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class AssistantCreator extends Creator<Assistant> {\n    private String friendlyName;\n    private Boolean logQueries;\n    private String uniqueName;\n    private URI callbackUrl;\n    private String callbackEvents;\n    private Map<String, Object> fallbackActions;\n    private Map<String, Object> initiationActions;\n    private Map<String, Object> styleSheet;\n\n    /**\n     * A text description for the Assistant. It is non-unique and can up to 255\n     * characters long..\n     *\n     * @param friendlyName A text description for the Assistant. It is non-unique\n     *                     and can up to 255 characters long.\n     * @return this\n     */\n    public AssistantCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * A boolean that specifies whether queries should be logged for 30 days further\n     * training. If false, no queries will be stored, if true, queries will be\n     * stored for 30 days and deleted thereafter. Defaults to true if no value is\n     * provided..\n     *\n     * @param logQueries A boolean that specifies whether queries should be logged\n     *                   for 30 days further training. If false, no queries will be\n     *                   stored, if true, queries will be stored for 30 days and\n     *                   deleted thereafter. Defaults to true if no value is\n     *                   provided.\n     * @return this\n     */\n    public AssistantCreator setLogQueries(final Boolean logQueries) {\n        this.logQueries = logQueries;\n        return this;\n    }\n\n    /**\n     * A user-provided string that uniquely identifies this resource as an\n     * alternative to the sid. Unique up to 64 characters long..\n     *\n     * @param uniqueName A user-provided string that uniquely identifies this\n     *                   resource as an alternative to the sid. Unique up to 64\n     *                   characters long.\n     * @return this\n     */\n    public AssistantCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * A user-provided URL to send event callbacks to..\n     *\n     * @param callbackUrl A user-provided URL to send event callbacks to.\n     * @return this\n     */\n    public AssistantCreator setCallbackUrl(final URI callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * A user-provided URL to send event callbacks to..\n     *\n     * @param callbackUrl A user-provided URL to send event callbacks to.\n     * @return this\n     */\n    public AssistantCreator setCallbackUrl(final String callbackUrl) {\n        return setCallbackUrl(Promoter.uriFromString(callbackUrl));\n    }\n\n    /**\n     * Space-separated list of callback events that will trigger callbacks..\n     *\n     * @param callbackEvents Space-separated list of callback events that will\n     *                       trigger callbacks.\n     * @return this\n     */\n    public AssistantCreator setCallbackEvents(final String callbackEvents) {\n        this.callbackEvents = callbackEvents;\n        return this;\n    }\n\n    /**\n     * The JSON actions to be executed when the user's input is not recognized as\n     * matching any Task..\n     *\n     * @param fallbackActions The JSON actions to be executed when the user's input\n     *                        is not recognized as matching any Task.\n     * @return this\n     */\n    public AssistantCreator setFallbackActions(final Map<String, Object> fallbackActions) {\n        this.fallbackActions = fallbackActions;\n        return this;\n    }\n\n    /**\n     * The JSON actions to be executed on inbound phone calls when the Assistant has\n     * to say something first..\n     *\n     * @param initiationActions The JSON actions to be executed on inbound phone\n     *                          calls when the Assistant has to say something first.\n     * @return this\n     */\n    public AssistantCreator setInitiationActions(final Map<String, Object> initiationActions) {\n        this.initiationActions = initiationActions;\n        return this;\n    }\n\n    /**\n     * The JSON object that holds the style sheet for the assistant.\n     *\n     * @param styleSheet The JSON object that holds the style sheet for the\n     *                   assistant\n     * @return this\n     */\n    public AssistantCreator setStyleSheet(final Map<String, Object> styleSheet) {\n        this.styleSheet = styleSheet;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Assistant\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Assistant create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            \"/understand/Assistants\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Assistant creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Assistant.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (logQueries != null) {\n            request.addPostParam(\"LogQueries\", logQueries.toString());\n        }\n\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n        }\n\n        if (callbackEvents != null) {\n            request.addPostParam(\"CallbackEvents\", callbackEvents);\n        }\n\n        if (fallbackActions != null) {\n            request.addPostParam(\"FallbackActions\", Converter.mapToJson(fallbackActions));\n        }\n\n        if (initiationActions != null) {\n            request.addPostParam(\"InitiationActions\", Converter.mapToJson(initiationActions));\n        }\n\n        if (styleSheet != null) {\n            request.addPostParam(\"StyleSheet\", Converter.mapToJson(styleSheet));\n        }\n    }\n}\n","lineNo":103}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.understand;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class AssistantReader extends Reader<Assistant> {\n    private Integer pageSize;\n\n    public AssistantReader(){\n    }\n\n    public AssistantReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Assistant> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Assistant> firstPage(final TwilioRestClient client) {\n        String path = \"/understand/Assistants\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Assistant> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Assistant read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"assistants\",\n            response.getContent(),\n            Assistant.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Assistant> previousPage(final Page<Assistant> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Assistant> nextPage(final Page<Assistant> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Assistant> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.understand;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class AssistantReader extends Reader<Assistant> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Assistant ResourceSet\n     */\n    @Override\n    public ResourceSet<Assistant> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Assistant ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Assistant> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/understand/Assistants\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Assistant ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Assistant> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Assistant> nextPage(final Page<Assistant> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Assistant> previousPage(final Page<Assistant> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Assistant Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Assistant> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Assistant read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"assistants\",\n            response.getContent(),\n            Assistant.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CommandCreator extends Creator<Command>{\n    private String command;\n    private String device;\n    private String sim;\n    private String callbackMethod;\n    private URI callbackUrl;\n    private String commandMode;\n    private String includeSid;\n\n    public CommandCreator(final String command) {\n        this.command = command;\n    }\n\n    public CommandCreator setCommand(final String command){\n        this.command = command;\n        return this;\n    }\n    public CommandCreator setDevice(final String device){\n        this.device = device;\n        return this;\n    }\n    public CommandCreator setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public CommandCreator setCallbackMethod(final String callbackMethod){\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n    public CommandCreator setCallbackUrl(final URI callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    public CommandCreator setCallbackUrl(final String callbackUrl){\n    this.callbackUrl = Promoter.uriFromString(callbackUrl);\n    return this;\n    }\n    public CommandCreator setCommandMode(final String commandMode){\n        this.commandMode = commandMode;\n        return this;\n    }\n    public CommandCreator setIncludeSid(final String includeSid){\n        this.includeSid = includeSid;\n        return this;\n    }\n\n    @Override\n    public Command create(final TwilioRestClient client){\n        String path = \"/wireless/Commands\";\n\n        path = path.replace(\"{\"+\"Command\"+\"}\", this.command.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Command creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Command.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (command != null) {\n            request.addPostParam(\"Command\", command);\n    \n        }\n        if (device != null) {\n            request.addPostParam(\"Device\", device);\n    \n        }\n        if (sim != null) {\n            request.addPostParam(\"Sim\", sim);\n    \n        }\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod);\n    \n        }\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n    \n        }\n        if (commandMode != null) {\n            request.addPostParam(\"CommandMode\", commandMode);\n    \n        }\n        if (includeSid != null) {\n            request.addPostParam(\"IncludeSid\", includeSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class CommandCreator extends Creator<Command> {\n    private final String command;\n    private String device;\n    private String sim;\n    private String callbackMethod;\n    private URI callbackUrl;\n    private String commandMode;\n    private String includeSid;\n\n    /**\n     * Construct a new CommandCreator.\n     *\n     * @param command The command\n     */\n    public CommandCreator(final String command) {\n        this.command = command;\n    }\n\n    /**\n     * The device.\n     *\n     * @param device The device\n     * @return this\n     */\n    public CommandCreator setDevice(final String device) {\n        this.device = device;\n        return this;\n    }\n\n    /**\n     * The sim.\n     *\n     * @param sim The sim\n     * @return this\n     */\n    public CommandCreator setSim(final String sim) {\n        this.sim = sim;\n        return this;\n    }\n\n    /**\n     * The callback_method.\n     *\n     * @param callbackMethod The callback_method\n     * @return this\n     */\n    public CommandCreator setCallbackMethod(final String callbackMethod) {\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n\n    /**\n     * The callback_url.\n     *\n     * @param callbackUrl The callback_url\n     * @return this\n     */\n    public CommandCreator setCallbackUrl(final URI callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * The callback_url.\n     *\n     * @param callbackUrl The callback_url\n     * @return this\n     */\n    public CommandCreator setCallbackUrl(final String callbackUrl) {\n        return setCallbackUrl(Promoter.uriFromString(callbackUrl));\n    }\n\n    /**\n     * The command_mode.\n     *\n     * @param commandMode The command_mode\n     * @return this\n     */\n    public CommandCreator setCommandMode(final String commandMode) {\n        this.commandMode = commandMode;\n        return this;\n    }\n\n    /**\n     * The include_sid.\n     *\n     * @param includeSid The include_sid\n     * @return this\n     */\n    public CommandCreator setIncludeSid(final String includeSid) {\n        this.includeSid = includeSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Command\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Command create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            \"/wireless/Commands\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Command creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Command.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (command != null) {\n            request.addPostParam(\"Command\", command);\n        }\n\n        if (device != null) {\n            request.addPostParam(\"Device\", device);\n        }\n\n        if (sim != null) {\n            request.addPostParam(\"Sim\", sim);\n        }\n\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod);\n        }\n\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n        }\n\n        if (commandMode != null) {\n            request.addPostParam(\"CommandMode\", commandMode);\n        }\n\n        if (includeSid != null) {\n            request.addPostParam(\"IncludeSid\", includeSid);\n        }\n    }\n}\n","lineNo":95}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CommandReader extends Reader<Command> {\n    private String device;\n    private String sim;\n    private String status;\n    private String direction;\n    private Integer pageSize;\n\n    public CommandReader(){\n    }\n\n    public CommandReader setDevice(final String device){\n        this.device = device;\n        return this;\n    }\n    public CommandReader setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public CommandReader setStatus(final String status){\n        this.status = status;\n        return this;\n    }\n    public CommandReader setDirection(final String direction){\n        this.direction = direction;\n        return this;\n    }\n    public CommandReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Command> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Command> firstPage(final TwilioRestClient client) {\n        String path = \"/wireless/Commands\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Command> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Command read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"commands\",\n            response.getContent(),\n            Command.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Command> previousPage(final Page<Command> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Command> nextPage(final Page<Command> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Command> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (device != null) {\n    \n            request.addQueryParam(\"Device\", device);\n        }\n        if (sim != null) {\n    \n            request.addQueryParam(\"Sim\", sim);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status);\n        }\n        if (direction != null) {\n    \n            request.addQueryParam(\"Direction\", direction);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class CommandReader extends Reader<Command> {\n    private String device;\n    private String sim;\n    private String status;\n    private String direction;\n\n    /**\n     * The device.\n     *\n     * @param device The device\n     * @return this\n     */\n    public CommandReader setDevice(final String device) {\n        this.device = device;\n        return this;\n    }\n\n    /**\n     * The sim.\n     *\n     * @param sim The sim\n     * @return this\n     */\n    public CommandReader setSim(final String sim) {\n        this.sim = sim;\n        return this;\n    }\n\n    /**\n     * The status.\n     *\n     * @param status The status\n     * @return this\n     */\n    public CommandReader setStatus(final String status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The direction.\n     *\n     * @param direction The direction\n     * @return this\n     */\n    public CommandReader setDirection(final String direction) {\n        this.direction = direction;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Command ResourceSet\n     */\n    @Override\n    public ResourceSet<Command> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Command ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Command> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/wireless/Commands\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Command ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Command> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Command> nextPage(final Page<Command> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Command> previousPage(final Page<Command> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Command Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Command> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Command read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"commands\",\n            response.getContent(),\n            Command.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (device != null) {\n            request.addQueryParam(\"Device\", device);\n        }\n\n        if (sim != null) {\n            request.addQueryParam(\"Sim\", sim);\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status);\n        }\n\n        if (direction != null) {\n            request.addQueryParam(\"Direction\", direction);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":82}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RatePlanCreator extends Creator<RatePlan>{\n    private String uniqueName;\n    private String friendlyName;\n    private Boolean dataEnabled;\n    private Integer dataLimit;\n    private String dataMetering;\n    private Boolean messagingEnabled;\n    private Boolean voiceEnabled;\n    private Boolean commandsEnabled;\n    private Boolean nationalRoamingEnabled;\n    private List<String> internationalRoaming;\n\n    public RatePlanCreator() {\n    }\n\n    public RatePlanCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public RatePlanCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public RatePlanCreator setDataEnabled(final Boolean dataEnabled){\n        this.dataEnabled = dataEnabled;\n        return this;\n    }\n    public RatePlanCreator setDataLimit(final Integer dataLimit){\n        this.dataLimit = dataLimit;\n        return this;\n    }\n    public RatePlanCreator setDataMetering(final String dataMetering){\n        this.dataMetering = dataMetering;\n        return this;\n    }\n    public RatePlanCreator setMessagingEnabled(final Boolean messagingEnabled){\n        this.messagingEnabled = messagingEnabled;\n        return this;\n    }\n    public RatePlanCreator setVoiceEnabled(final Boolean voiceEnabled){\n        this.voiceEnabled = voiceEnabled;\n        return this;\n    }\n    public RatePlanCreator setCommandsEnabled(final Boolean commandsEnabled){\n        this.commandsEnabled = commandsEnabled;\n        return this;\n    }\n    public RatePlanCreator setNationalRoamingEnabled(final Boolean nationalRoamingEnabled){\n        this.nationalRoamingEnabled = nationalRoamingEnabled;\n        return this;\n    }\n    public RatePlanCreator setInternationalRoaming(final List<String> internationalRoaming){\n        this.internationalRoaming = internationalRoaming;\n        return this;\n    }\n\n    @Override\n    public RatePlan create(final TwilioRestClient client){\n        String path = \"/wireless/RatePlans\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"RatePlan creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RatePlan.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (dataEnabled != null) {\n            request.addPostParam(\"DataEnabled\", dataEnabled.toString());\n    \n        }\n        if (dataLimit != null) {\n            request.addPostParam(\"DataLimit\", dataLimit.toString());\n    \n        }\n        if (dataMetering != null) {\n            request.addPostParam(\"DataMetering\", dataMetering);\n    \n        }\n        if (messagingEnabled != null) {\n            request.addPostParam(\"MessagingEnabled\", messagingEnabled.toString());\n    \n        }\n        if (voiceEnabled != null) {\n            request.addPostParam(\"VoiceEnabled\", voiceEnabled.toString());\n    \n        }\n        if (commandsEnabled != null) {\n            request.addPostParam(\"CommandsEnabled\", commandsEnabled.toString());\n    \n        }\n        if (nationalRoamingEnabled != null) {\n            request.addPostParam(\"NationalRoamingEnabled\", nationalRoamingEnabled.toString());\n    \n        }\n        if (internationalRoaming != null) {\n            for (String prop : internationalRoaming) {\n                request.addPostParam(\"InternationalRoaming\", prop);\n            }\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class RatePlanCreator extends Creator<RatePlan> {\n    private String uniqueName;\n    private String friendlyName;\n    private Boolean dataEnabled;\n    private Integer dataLimit;\n    private String dataMetering;\n    private Boolean messagingEnabled;\n    private Boolean voiceEnabled;\n    private Boolean commandsEnabled;\n    private Boolean nationalRoamingEnabled;\n    private List<String> internationalRoaming;\n\n    /**\n     * The unique_name.\n     *\n     * @param uniqueName The unique_name\n     * @return this\n     */\n    public RatePlanCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * The friendly_name.\n     *\n     * @param friendlyName The friendly_name\n     * @return this\n     */\n    public RatePlanCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The data_enabled.\n     *\n     * @param dataEnabled The data_enabled\n     * @return this\n     */\n    public RatePlanCreator setDataEnabled(final Boolean dataEnabled) {\n        this.dataEnabled = dataEnabled;\n        return this;\n    }\n\n    /**\n     * The data_limit.\n     *\n     * @param dataLimit The data_limit\n     * @return this\n     */\n    public RatePlanCreator setDataLimit(final Integer dataLimit) {\n        this.dataLimit = dataLimit;\n        return this;\n    }\n\n    /**\n     * The data_metering.\n     *\n     * @param dataMetering The data_metering\n     * @return this\n     */\n    public RatePlanCreator setDataMetering(final String dataMetering) {\n        this.dataMetering = dataMetering;\n        return this;\n    }\n\n    /**\n     * The messaging_enabled.\n     *\n     * @param messagingEnabled The messaging_enabled\n     * @return this\n     */\n    public RatePlanCreator setMessagingEnabled(final Boolean messagingEnabled) {\n        this.messagingEnabled = messagingEnabled;\n        return this;\n    }\n\n    /**\n     * The voice_enabled.\n     *\n     * @param voiceEnabled The voice_enabled\n     * @return this\n     */\n    public RatePlanCreator setVoiceEnabled(final Boolean voiceEnabled) {\n        this.voiceEnabled = voiceEnabled;\n        return this;\n    }\n\n    /**\n     * The commands_enabled.\n     *\n     * @param commandsEnabled The commands_enabled\n     * @return this\n     */\n    public RatePlanCreator setCommandsEnabled(final Boolean commandsEnabled) {\n        this.commandsEnabled = commandsEnabled;\n        return this;\n    }\n\n    /**\n     * The national_roaming_enabled.\n     *\n     * @param nationalRoamingEnabled The national_roaming_enabled\n     * @return this\n     */\n    public RatePlanCreator setNationalRoamingEnabled(final Boolean nationalRoamingEnabled) {\n        this.nationalRoamingEnabled = nationalRoamingEnabled;\n        return this;\n    }\n\n    /**\n     * The international_roaming.\n     *\n     * @param internationalRoaming The international_roaming\n     * @return this\n     */\n    public RatePlanCreator setInternationalRoaming(final List<String> internationalRoaming) {\n        this.internationalRoaming = internationalRoaming;\n        return this;\n    }\n\n    /**\n     * The international_roaming.\n     *\n     * @param internationalRoaming The international_roaming\n     * @return this\n     */\n    public RatePlanCreator setInternationalRoaming(final String internationalRoaming) {\n        return setInternationalRoaming(Promoter.listOfOne(internationalRoaming));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created RatePlan\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public RatePlan create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PREVIEW.toString(),\n            \"/wireless/RatePlans\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RatePlan creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RatePlan.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (dataEnabled != null) {\n            request.addPostParam(\"DataEnabled\", dataEnabled.toString());\n        }\n\n        if (dataLimit != null) {\n            request.addPostParam(\"DataLimit\", dataLimit.toString());\n        }\n\n        if (dataMetering != null) {\n            request.addPostParam(\"DataMetering\", dataMetering);\n        }\n\n        if (messagingEnabled != null) {\n            request.addPostParam(\"MessagingEnabled\", messagingEnabled.toString());\n        }\n\n        if (voiceEnabled != null) {\n            request.addPostParam(\"VoiceEnabled\", voiceEnabled.toString());\n        }\n\n        if (commandsEnabled != null) {\n            request.addPostParam(\"CommandsEnabled\", commandsEnabled.toString());\n        }\n\n        if (nationalRoamingEnabled != null) {\n            request.addPostParam(\"NationalRoamingEnabled\", nationalRoamingEnabled.toString());\n        }\n\n        if (internationalRoaming != null) {\n            for (String prop : internationalRoaming) {\n                request.addPostParam(\"InternationalRoaming\", prop);\n            }\n        }\n    }\n}\n","lineNo":103}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RatePlanReader extends Reader<RatePlan> {\n    private Integer pageSize;\n\n    public RatePlanReader(){\n    }\n\n    public RatePlanReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<RatePlan> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<RatePlan> firstPage(final TwilioRestClient client) {\n        String path = \"/wireless/RatePlans\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<RatePlan> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RatePlan read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"rate_plans\",\n            response.getContent(),\n            RatePlan.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<RatePlan> previousPage(final Page<RatePlan> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<RatePlan> nextPage(final Page<RatePlan> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<RatePlan> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class RatePlanReader extends Reader<RatePlan> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return RatePlan ResourceSet\n     */\n    @Override\n    public ResourceSet<RatePlan> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return RatePlan ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<RatePlan> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/wireless/RatePlans\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return RatePlan ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<RatePlan> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<RatePlan> nextPage(final Page<RatePlan> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<RatePlan> previousPage(final Page<RatePlan> page,\n                                       final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of RatePlan Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<RatePlan> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RatePlan read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"rate_plans\",\n            response.getContent(),\n            RatePlan.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Preview\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Preview\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SimReader extends Reader<Sim> {\n    private String status;\n    private String iccid;\n    private String ratePlan;\n    private String eid;\n    private String simRegistrationCode;\n    private Integer pageSize;\n\n    public SimReader(){\n    }\n\n    public SimReader setStatus(final String status){\n        this.status = status;\n        return this;\n    }\n    public SimReader setIccid(final String iccid){\n        this.iccid = iccid;\n        return this;\n    }\n    public SimReader setRatePlan(final String ratePlan){\n        this.ratePlan = ratePlan;\n        return this;\n    }\n    public SimReader setEid(final String eid){\n        this.eid = eid;\n        return this;\n    }\n    public SimReader setSimRegistrationCode(final String simRegistrationCode){\n        this.simRegistrationCode = simRegistrationCode;\n        return this;\n    }\n    public SimReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Sim> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Sim> firstPage(final TwilioRestClient client) {\n        String path = \"/wireless/Sims\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Sim> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sim read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sims\",\n            response.getContent(),\n            Sim.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Sim> previousPage(final Page<Sim> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Sim> nextPage(final Page<Sim> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Sim> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status);\n        }\n        if (iccid != null) {\n    \n            request.addQueryParam(\"Iccid\", iccid);\n        }\n        if (ratePlan != null) {\n    \n            request.addQueryParam(\"RatePlan\", ratePlan);\n        }\n        if (eid != null) {\n    \n            request.addQueryParam(\"EId\", eid);\n        }\n        if (simRegistrationCode != null) {\n    \n            request.addQueryParam(\"SimRegistrationCode\", simRegistrationCode);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.preview.wireless;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class SimReader extends Reader<Sim> {\n    private String status;\n    private String iccid;\n    private String ratePlan;\n    private String eId;\n    private String simRegistrationCode;\n\n    /**\n     * The status.\n     *\n     * @param status The status\n     * @return this\n     */\n    public SimReader setStatus(final String status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The iccid.\n     *\n     * @param iccid The iccid\n     * @return this\n     */\n    public SimReader setIccid(final String iccid) {\n        this.iccid = iccid;\n        return this;\n    }\n\n    /**\n     * The rate_plan.\n     *\n     * @param ratePlan The rate_plan\n     * @return this\n     */\n    public SimReader setRatePlan(final String ratePlan) {\n        this.ratePlan = ratePlan;\n        return this;\n    }\n\n    /**\n     * The e_id.\n     *\n     * @param eId The e_id\n     * @return this\n     */\n    public SimReader setEId(final String eId) {\n        this.eId = eId;\n        return this;\n    }\n\n    /**\n     * The sim_registration_code.\n     *\n     * @param simRegistrationCode The sim_registration_code\n     * @return this\n     */\n    public SimReader setSimRegistrationCode(final String simRegistrationCode) {\n        this.simRegistrationCode = simRegistrationCode;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    public ResourceSet<Sim> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Sim> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PREVIEW.toString(),\n            \"/wireless/Sims\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Sim> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Sim> nextPage(final Page<Sim> page,\n                              final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Sim> previousPage(final Page<Sim> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PREVIEW.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Sim Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Sim> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sim read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sims\",\n            response.getContent(),\n            Sim.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status);\n        }\n\n        if (iccid != null) {\n            request.addQueryParam(\"Iccid\", iccid);\n        }\n\n        if (ratePlan != null) {\n            request.addQueryParam(\"RatePlan\", ratePlan);\n        }\n\n        if (eId != null) {\n            request.addQueryParam(\"EId\", eId);\n        }\n\n        if (simRegistrationCode != null) {\n            request.addQueryParam(\"SimRegistrationCode\", simRegistrationCode);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":87}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Pricing\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.pricing.v1.messaging;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Pricing\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CountryReader extends Reader<Country> {\n    private Integer pageSize;\n\n    public CountryReader(){\n    }\n\n    public CountryReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Messaging/Countries\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Country> previousPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Country> nextPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.pricing.v1.messaging;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CountryReader extends Reader<Country> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            \"/v1/Messaging/Countries\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Country> nextPage(final Page<Country> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Country> previousPage(final Page<Country> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Country Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Pricing\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.pricing.v1.phonenumber;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Pricing\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CountryReader extends Reader<Country> {\n    private Integer pageSize;\n\n    public CountryReader(){\n    }\n\n    public CountryReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/PhoneNumbers/Countries\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Country> previousPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Country> nextPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.pricing.v1.phonenumber;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CountryReader extends Reader<Country> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            \"/v1/PhoneNumbers/Countries\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Country> nextPage(final Page<Country> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Country> previousPage(final Page<Country> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Country Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Pricing\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.pricing.v1.voice;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Pricing\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CountryReader extends Reader<Country> {\n    private Integer pageSize;\n\n    public CountryReader(){\n    }\n\n    public CountryReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Voice/Countries\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Country> previousPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Country> nextPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.pricing.v1.voice;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CountryReader extends Reader<Country> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            \"/v1/Voice/Countries\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Country> nextPage(final Page<Country> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Country> previousPage(final Page<Country> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Country Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Pricing\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.pricing.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Pricing\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CountryReader extends Reader<Country> {\n    private Integer pageSize;\n\n    public CountryReader(){\n    }\n\n    public CountryReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Trunking/Countries\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Country> previousPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Country> nextPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.pricing.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CountryReader extends Reader<Country> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            \"/v2/Trunking/Countries\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Country> nextPage(final Page<Country> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Country> previousPage(final Page<Country> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Country Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Pricing\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.pricing.v2.voice;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Pricing\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CountryReader extends Reader<Country> {\n    private Integer pageSize;\n\n    public CountryReader(){\n    }\n\n    public CountryReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Voice/Countries\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Country> previousPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Country> nextPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.pricing.v2.voice;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CountryReader extends Reader<Country> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PRICING.toString(),\n            \"/v2/Voice/Countries\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Country> nextPage(final Page<Country> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Country> previousPage(final Page<Country> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PRICING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Country Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"countries\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Proxy\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.proxy.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Proxy\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String uniqueName;\n    private Integer defaultTtl;\n    private URI callbackUrl;\n    private Service.GeoMatchLevel geoMatchLevel;\n    private Service.NumberSelectionBehavior numberSelectionBehavior;\n    private URI interceptCallbackUrl;\n    private URI outOfSessionCallbackUrl;\n    private String chatInstanceSid;\n\n    public ServiceCreator(final String uniqueName) {\n        this.uniqueName = uniqueName;\n    }\n\n    public ServiceCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public ServiceCreator setDefaultTtl(final Integer defaultTtl){\n        this.defaultTtl = defaultTtl;\n        return this;\n    }\n    public ServiceCreator setCallbackUrl(final URI callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    public ServiceCreator setCallbackUrl(final String callbackUrl){\n    this.callbackUrl = Promoter.uriFromString(callbackUrl);\n    return this;\n    }\n    public ServiceCreator setGeoMatchLevel(final Service.GeoMatchLevel geoMatchLevel){\n        this.geoMatchLevel = geoMatchLevel;\n        return this;\n    }\n    public ServiceCreator setNumberSelectionBehavior(final Service.NumberSelectionBehavior numberSelectionBehavior){\n        this.numberSelectionBehavior = numberSelectionBehavior;\n        return this;\n    }\n    public ServiceCreator setInterceptCallbackUrl(final URI interceptCallbackUrl){\n        this.interceptCallbackUrl = interceptCallbackUrl;\n        return this;\n    }\n\n    public ServiceCreator setInterceptCallbackUrl(final String interceptCallbackUrl){\n    this.interceptCallbackUrl = Promoter.uriFromString(interceptCallbackUrl);\n    return this;\n    }\n    public ServiceCreator setOutOfSessionCallbackUrl(final URI outOfSessionCallbackUrl){\n        this.outOfSessionCallbackUrl = outOfSessionCallbackUrl;\n        return this;\n    }\n\n    public ServiceCreator setOutOfSessionCallbackUrl(final String outOfSessionCallbackUrl){\n    this.outOfSessionCallbackUrl = Promoter.uriFromString(outOfSessionCallbackUrl);\n    return this;\n    }\n    public ServiceCreator setChatInstanceSid(final String chatInstanceSid){\n        this.chatInstanceSid = chatInstanceSid;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v1/Services\";\n\n        path = path.replace(\"{\"+\"UniqueName\"+\"}\", this.uniqueName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PROXY.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (defaultTtl != null) {\n            request.addPostParam(\"DefaultTtl\", defaultTtl.toString());\n    \n        }\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n    \n        }\n        if (geoMatchLevel != null) {\n            request.addPostParam(\"GeoMatchLevel\", geoMatchLevel.toString());\n    \n        }\n        if (numberSelectionBehavior != null) {\n            request.addPostParam(\"NumberSelectionBehavior\", numberSelectionBehavior.toString());\n    \n        }\n        if (interceptCallbackUrl != null) {\n            request.addPostParam(\"InterceptCallbackUrl\", interceptCallbackUrl.toString());\n    \n        }\n        if (outOfSessionCallbackUrl != null) {\n            request.addPostParam(\"OutOfSessionCallbackUrl\", outOfSessionCallbackUrl.toString());\n    \n        }\n        if (chatInstanceSid != null) {\n            request.addPostParam(\"ChatInstanceSid\", chatInstanceSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.proxy.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ServiceCreator extends Creator<Service> {\n    private final String uniqueName;\n    private Integer defaultTtl;\n    private URI callbackUrl;\n    private Service.GeoMatchLevel geoMatchLevel;\n    private Service.NumberSelectionBehavior numberSelectionBehavior;\n    private URI interceptCallbackUrl;\n    private URI outOfSessionCallbackUrl;\n    private String chatInstanceSid;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param uniqueName An application-defined string that uniquely identifies the\n     *                   resource\n     */\n    public ServiceCreator(final String uniqueName) {\n        this.uniqueName = uniqueName;\n    }\n\n    /**\n     * The default `ttl` value to set for Sessions created in the Service. The TTL\n     * (time to live) is measured in seconds after the Session's last create or last\n     * Interaction. The default value of `0` indicates an unlimited Session length.\n     * You can override a Session's default TTL value by setting its `ttl` value..\n     *\n     * @param defaultTtl Default TTL for a Session, in seconds\n     * @return this\n     */\n    public ServiceCreator setDefaultTtl(final Integer defaultTtl) {\n        this.defaultTtl = defaultTtl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the interaction status changes..\n     *\n     * @param callbackUrl The URL we should call when the interaction status changes\n     * @return this\n     */\n    public ServiceCreator setCallbackUrl(final URI callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the interaction status changes..\n     *\n     * @param callbackUrl The URL we should call when the interaction status changes\n     * @return this\n     */\n    public ServiceCreator setCallbackUrl(final String callbackUrl) {\n        return setCallbackUrl(Promoter.uriFromString(callbackUrl));\n    }\n\n    /**\n     * Where a proxy number must be located relative to the participant identifier.\n     * Can be: `country`, `area-code`, or `extended-area-code`. The default value is\n     * `country` and more specific areas than `country` are only available in North\n     * America..\n     *\n     * @param geoMatchLevel Where a proxy number must be located relative to the\n     *                      participant identifier\n     * @return this\n     */\n    public ServiceCreator setGeoMatchLevel(final Service.GeoMatchLevel geoMatchLevel) {\n        this.geoMatchLevel = geoMatchLevel;\n        return this;\n    }\n\n    /**\n     * The preference for Proxy Number selection in the Service instance. Can be:\n     * `prefer-sticky` or `avoid-sticky` and the default is `prefer-sticky`.\n     * `prefer-sticky` means that we will try and select the same Proxy Number for a\n     * given participant if they have previous <a\n     * href=\"https://www.twilio.com/docs/proxy/api/session\">Sessions<\/a>, but we\n     * will not fail if that Proxy Number cannot be used.  `avoid-sticky` means that\n     * we will try to use different Proxy Numbers as long as that is possible within\n     * a given pool rather than try and use a previously assigned number..\n     *\n     * @param numberSelectionBehavior The preference for Proxy Number selection for\n     *                                the Service instance\n     * @return this\n     */\n    public ServiceCreator setNumberSelectionBehavior(final Service.NumberSelectionBehavior numberSelectionBehavior) {\n        this.numberSelectionBehavior = numberSelectionBehavior;\n        return this;\n    }\n\n    /**\n     * The URL we call on each interaction. If we receive a 403 status, we block the\n     * interaction; otherwise the interaction continues..\n     *\n     * @param interceptCallbackUrl The URL we call on each interaction\n     * @return this\n     */\n    public ServiceCreator setInterceptCallbackUrl(final URI interceptCallbackUrl) {\n        this.interceptCallbackUrl = interceptCallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL we call on each interaction. If we receive a 403 status, we block the\n     * interaction; otherwise the interaction continues..\n     *\n     * @param interceptCallbackUrl The URL we call on each interaction\n     * @return this\n     */\n    public ServiceCreator setInterceptCallbackUrl(final String interceptCallbackUrl) {\n        return setInterceptCallbackUrl(Promoter.uriFromString(interceptCallbackUrl));\n    }\n\n    /**\n     * The URL we should call when an inbound call or SMS action occurs on a closed\n     * or non-existent Session. If your server (or a Twilio <a\n     * href=\"https://www.twilio.com/functions\">function<\/a>) responds with valid <a\n     * href=\"https://www.twilio.com/docs/voice/twiml\">TwiML<\/a>, we will process it.\n     * This means it is possible, for example, to play a message for a call, send an\n     * automated text message response, or redirect a call to another Phone Number.\n     * See <a\n     * href=\"https://www.twilio.com/docs/proxy/out-session-callback-response-guide\">Out-of-Session\n     * Callback Response Guide<\/a> for more information..\n     *\n     * @param outOfSessionCallbackUrl The URL we call when an inbound call or SMS\n     *                                action occurs on a closed or non-existent\n     *                                Session\n     * @return this\n     */\n    public ServiceCreator setOutOfSessionCallbackUrl(final URI outOfSessionCallbackUrl) {\n        this.outOfSessionCallbackUrl = outOfSessionCallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when an inbound call or SMS action occurs on a closed\n     * or non-existent Session. If your server (or a Twilio <a\n     * href=\"https://www.twilio.com/functions\">function<\/a>) responds with valid <a\n     * href=\"https://www.twilio.com/docs/voice/twiml\">TwiML<\/a>, we will process it.\n     * This means it is possible, for example, to play a message for a call, send an\n     * automated text message response, or redirect a call to another Phone Number.\n     * See <a\n     * href=\"https://www.twilio.com/docs/proxy/out-session-callback-response-guide\">Out-of-Session\n     * Callback Response Guide<\/a> for more information..\n     *\n     * @param outOfSessionCallbackUrl The URL we call when an inbound call or SMS\n     *                                action occurs on a closed or non-existent\n     *                                Session\n     * @return this\n     */\n    public ServiceCreator setOutOfSessionCallbackUrl(final String outOfSessionCallbackUrl) {\n        return setOutOfSessionCallbackUrl(Promoter.uriFromString(outOfSessionCallbackUrl));\n    }\n\n    /**\n     * The SID of the Chat Service Instance managed by Proxy Service. The Chat\n     * Service enables Proxy to forward SMS and channel messages to this chat\n     * instance. This is a one-to-one relationship..\n     *\n     * @param chatInstanceSid The SID of the Chat Service Instance\n     * @return this\n     */\n    public ServiceCreator setChatInstanceSid(final String chatInstanceSid) {\n        this.chatInstanceSid = chatInstanceSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.PROXY.toString(),\n            \"/v1/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (defaultTtl != null) {\n            request.addPostParam(\"DefaultTtl\", defaultTtl.toString());\n        }\n\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n        }\n\n        if (geoMatchLevel != null) {\n            request.addPostParam(\"GeoMatchLevel\", geoMatchLevel.toString());\n        }\n\n        if (numberSelectionBehavior != null) {\n            request.addPostParam(\"NumberSelectionBehavior\", numberSelectionBehavior.toString());\n        }\n\n        if (interceptCallbackUrl != null) {\n            request.addPostParam(\"InterceptCallbackUrl\", interceptCallbackUrl.toString());\n        }\n\n        if (outOfSessionCallbackUrl != null) {\n            request.addPostParam(\"OutOfSessionCallbackUrl\", outOfSessionCallbackUrl.toString());\n        }\n\n        if (chatInstanceSid != null) {\n            request.addPostParam(\"ChatInstanceSid\", chatInstanceSid);\n        }\n    }\n}\n","lineNo":110}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Proxy\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.proxy.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Proxy\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PROXY.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PROXY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PROXY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.proxy.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.PROXY.toString(),\n            \"/v1/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.PROXY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.PROXY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Serverless\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.serverless.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Serverless\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String uniqueName;\n    private String friendlyName;\n    private Boolean includeCredentials;\n    private Boolean uiEditable;\n\n    public ServiceCreator(final String uniqueName, final String friendlyName) {\n        this.uniqueName = uniqueName;\n        this.friendlyName = friendlyName;\n    }\n\n    public ServiceCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ServiceCreator setIncludeCredentials(final Boolean includeCredentials){\n        this.includeCredentials = includeCredentials;\n        return this;\n    }\n    public ServiceCreator setUiEditable(final Boolean uiEditable){\n        this.uiEditable = uiEditable;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v1/Services\";\n\n        path = path.replace(\"{\"+\"UniqueName\"+\"}\", this.uniqueName.toString());\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SERVERLESS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (includeCredentials != null) {\n            request.addPostParam(\"IncludeCredentials\", includeCredentials.toString());\n    \n        }\n        if (uiEditable != null) {\n            request.addPostParam(\"UiEditable\", uiEditable.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.serverless.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ServiceCreator extends Creator<Service> {\n    private final String uniqueName;\n    private final String friendlyName;\n    private Boolean includeCredentials;\n    private Boolean uiEditable;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param uniqueName A user-defined string that uniquely identifies the Service\n     *                   resource\n     * @param friendlyName A string to describe the Service resource\n     */\n    public ServiceCreator(final String uniqueName,\n                          final String friendlyName) {\n        this.uniqueName = uniqueName;\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Whether to inject Account credentials into a function invocation context. The\n     * default value is `true`..\n     *\n     * @param includeCredentials Whether to inject Account credentials into a\n     *                           function invocation context\n     * @return this\n     */\n    public ServiceCreator setIncludeCredentials(final Boolean includeCredentials) {\n        this.includeCredentials = includeCredentials;\n        return this;\n    }\n\n    /**\n     * Whether the Service's properties and subresources can be edited via the UI.\n     * The default value is `false`..\n     *\n     * @param uiEditable Whether the Service's properties and subresources can be\n     *                   edited via the UI\n     * @return this\n     */\n    public ServiceCreator setUiEditable(final Boolean uiEditable) {\n        this.uiEditable = uiEditable;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SERVERLESS.toString(),\n            \"/v1/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (includeCredentials != null) {\n            request.addPostParam(\"IncludeCredentials\", includeCredentials.toString());\n        }\n\n        if (uiEditable != null) {\n            request.addPostParam(\"UiEditable\", uiEditable.toString());\n        }\n    }\n}\n","lineNo":73}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Serverless\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.serverless.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Serverless\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SERVERLESS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SERVERLESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SERVERLESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.serverless.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SERVERLESS.toString(),\n            \"/v1/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SERVERLESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SERVERLESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Studio\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.studio.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Studio\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FlowReader extends Reader<Flow> {\n    private Integer pageSize;\n\n    public FlowReader(){\n    }\n\n    public FlowReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Flow> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Flow> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Flows\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.STUDIO.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Flow> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Flow read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flows\",\n            response.getContent(),\n            Flow.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Flow> previousPage(final Page<Flow> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.STUDIO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Flow> nextPage(final Page<Flow> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.STUDIO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Flow> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.studio.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class FlowReader extends Reader<Flow> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Flow ResourceSet\n     */\n    @Override\n    public ResourceSet<Flow> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Flow ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Flow> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.STUDIO.toString(),\n            \"/v1/Flows\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Flow ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Flow> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Flow> nextPage(final Page<Flow> page,\n                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.STUDIO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Flow> previousPage(final Page<Flow> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.STUDIO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Flow Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Flow> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Flow read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flows\",\n            response.getContent(),\n            Flow.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Studio\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.studio.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Studio\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FlowCreator extends Creator<Flow>{\n    private String friendlyName;\n    private Flow.Status status;\n    private Map<String, Object> definition;\n    private String commitMessage;\n\n    public FlowCreator(final String friendlyName, final Flow.Status status, final Map<String, Object> definition) {\n        this.friendlyName = friendlyName;\n        this.status = status;\n        this.definition = definition;\n    }\n\n    public FlowCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public FlowCreator setStatus(final Flow.Status status){\n        this.status = status;\n        return this;\n    }\n    public FlowCreator setDefinition(final Map<String, Object> definition){\n        this.definition = definition;\n        return this;\n    }\n    public FlowCreator setCommitMessage(final String commitMessage){\n        this.commitMessage = commitMessage;\n        return this;\n    }\n\n    @Override\n    public Flow create(final TwilioRestClient client){\n        String path = \"/v2/Flows\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Status\"+\"}\", this.status.toString());\n        path = path.replace(\"{\"+\"Definition\"+\"}\", this.definition.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.STUDIO.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Flow creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Flow.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n        if (definition != null) {\n            request.addPostParam(\"Definition\",  Converter.mapToJson(definition));\n    \n        }\n        if (commitMessage != null) {\n            request.addPostParam(\"CommitMessage\", commitMessage);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.studio.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\npublic class FlowCreator extends Creator<Flow> {\n    private final String friendlyName;\n    private final Flow.Status status;\n    private final Map<String, Object> definition;\n    private String commitMessage;\n\n    /**\n     * Construct a new FlowCreator.\n     *\n     * @param friendlyName The string that you assigned to describe the Flow\n     * @param status The status of the Flow\n     * @param definition JSON representation of flow definition\n     */\n    public FlowCreator(final String friendlyName,\n                       final Flow.Status status,\n                       final Map<String, Object> definition) {\n        this.friendlyName = friendlyName;\n        this.status = status;\n        this.definition = definition;\n    }\n\n    /**\n     * Description of change made in the revision..\n     *\n     * @param commitMessage Description of change made in the revision\n     * @return this\n     */\n    public FlowCreator setCommitMessage(final String commitMessage) {\n        this.commitMessage = commitMessage;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Flow\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Flow create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.STUDIO.toString(),\n            \"/v2/Flows\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Flow creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Flow.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n\n        if (definition != null) {\n            request.addPostParam(\"Definition\", Converter.mapToJson(definition));\n        }\n\n        if (commitMessage != null) {\n            request.addPostParam(\"CommitMessage\", commitMessage);\n        }\n    }\n}\n","lineNo":78}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Studio\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.studio.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Studio\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FlowReader extends Reader<Flow> {\n    private Integer pageSize;\n\n    public FlowReader(){\n    }\n\n    public FlowReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Flow> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Flow> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Flows\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.STUDIO.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Flow> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Flow read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flows\",\n            response.getContent(),\n            Flow.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Flow> previousPage(final Page<Flow> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.STUDIO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Flow> nextPage(final Page<Flow> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.STUDIO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Flow> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.studio.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class FlowReader extends Reader<Flow> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Flow ResourceSet\n     */\n    @Override\n    public ResourceSet<Flow> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Flow ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Flow> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.STUDIO.toString(),\n            \"/v2/Flows\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Flow ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Flow> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Flow> nextPage(final Page<Flow> page,\n                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.STUDIO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Flow> previousPage(final Page<Flow> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.STUDIO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Flow Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Flow> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Flow read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"flows\",\n            response.getContent(),\n            Flow.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Studio\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.studio.v2;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\nimport java.util.Map;\n\n\n\n/*\n    * Twilio - Studio\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FlowValidateUpdater extends Updater<FlowValidate>{\n    private String friendlyName;\n    private FlowValidate.Status status;\n    private Map<String, Object> definition;\n    private String commitMessage;\n\n    public FlowValidateUpdater(final String friendlyName, final FlowValidate.Status status, final Map<String, Object> definition){\n        this.friendlyName = friendlyName;\n        this.status = status;\n        this.definition = definition;\n    }\n\n    public FlowValidateUpdater setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public FlowValidateUpdater setStatus(final FlowValidate.Status status){\n        this.status = status;\n        return this;\n    }\n    public FlowValidateUpdater setDefinition(final Map<String, Object> definition){\n        this.definition = definition;\n        return this;\n    }\n    public FlowValidateUpdater setCommitMessage(final String commitMessage){\n        this.commitMessage = commitMessage;\n        return this;\n    }\n\n    @Override\n    public FlowValidate update(final TwilioRestClient client){\n        String path = \"/v2/Flows/Validate\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Status\"+\"}\", this.status.toString());\n        path = path.replace(\"{\"+\"Definition\"+\"}\", this.definition.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.STUDIO.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"FlowValidate update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return FlowValidate.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n    \n        }\n        if (definition != null) {\n            request.addPostParam(\"Definition\",  Converter.mapToJson(definition));\n    \n        }\n        if (commitMessage != null) {\n            request.addPostParam(\"CommitMessage\", commitMessage);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.studio.v2;\n\nimport com.twilio.base.Updater;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\npublic class FlowValidateUpdater extends Updater<FlowValidate> {\n    private final String friendlyName;\n    private final FlowValidate.Status status;\n    private final Map<String, Object> definition;\n    private String commitMessage;\n\n    /**\n     * Construct a new FlowValidateUpdater.\n     *\n     * @param friendlyName The string that you assigned to describe the Flow\n     * @param status The status of the Flow\n     * @param definition JSON representation of flow definition\n     */\n    public FlowValidateUpdater(final String friendlyName,\n                               final FlowValidate.Status status,\n                               final Map<String, Object> definition) {\n        this.friendlyName = friendlyName;\n        this.status = status;\n        this.definition = definition;\n    }\n\n    /**\n     * Description of change made in the revision..\n     *\n     * @param commitMessage Description of change made in the revision\n     * @return this\n     */\n    public FlowValidateUpdater setCommitMessage(final String commitMessage) {\n        this.commitMessage = commitMessage;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated FlowValidate\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public FlowValidate update(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.STUDIO.toString(),\n            \"/v2/Flows/Validate\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"FlowValidate update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return FlowValidate.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (status != null) {\n            request.addPostParam(\"Status\", status.toString());\n        }\n\n        if (definition != null) {\n            request.addPostParam(\"Definition\", Converter.mapToJson(definition));\n        }\n\n        if (commitMessage != null) {\n            request.addPostParam(\"CommitMessage\", commitMessage);\n        }\n    }\n}\n","lineNo":76}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EsimProfileCreator extends Creator<EsimProfile>{\n    private String callbackUrl;\n    private HttpMethod callbackMethod;\n    private String eid;\n\n    public EsimProfileCreator() {\n    }\n\n    public EsimProfileCreator setCallbackUrl(final String callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n    public EsimProfileCreator setCallbackMethod(final HttpMethod callbackMethod){\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n    public EsimProfileCreator setEid(final String eid){\n        this.eid = eid;\n        return this;\n    }\n\n    @Override\n    public EsimProfile create(final TwilioRestClient client){\n        String path = \"/v1/ESimProfiles\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"EsimProfile creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return EsimProfile.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl);\n    \n        }\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n    \n        }\n        if (eid != null) {\n            request.addPostParam(\"Eid\", eid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class EsimProfileCreator extends Creator<EsimProfile> {\n    private String callbackUrl;\n    private HttpMethod callbackMethod;\n    private String eid;\n\n    /**\n     * The URL we should call using the `callback_method` when the status of the\n     * eSIM Profile changes. At this stage of the eSIM Profile pilot, the a request\n     * to the URL will only be called when the ESimProfile resource changes from\n     * `reserving` to `available`..\n     *\n     * @param callbackUrl The URL we should call after we have sent when the status\n     *                    of the eSIM Profile changes\n     * @return this\n     */\n    public EsimProfileCreator setCallbackUrl(final String callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * The HTTP method we should use to call `callback_url`. Can be: `GET` or `POST`\n     * and the default is POST..\n     *\n     * @param callbackMethod The HTTP method we should use to call callback_url\n     * @return this\n     */\n    public EsimProfileCreator setCallbackMethod(final HttpMethod callbackMethod) {\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n\n    /**\n     * Identifier of the eUICC that will claim the eSIM Profile..\n     *\n     * @param eid Identifier of the eUICC that will claim the eSIM Profile\n     * @return this\n     */\n    public EsimProfileCreator setEid(final String eid) {\n        this.eid = eid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created EsimProfile\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public EsimProfile create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            \"/v1/ESimProfiles\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EsimProfile creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return EsimProfile.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl);\n        }\n\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n        }\n\n        if (eid != null) {\n            request.addPostParam(\"Eid\", eid);\n        }\n    }\n}\n","lineNo":66}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EsimProfileReader extends Reader<EsimProfile> {\n    private String eid;\n    private String simSid;\n    private EsimProfile.Status status;\n    private Integer pageSize;\n\n    public EsimProfileReader(){\n    }\n\n    public EsimProfileReader setEid(final String eid){\n        this.eid = eid;\n        return this;\n    }\n    public EsimProfileReader setSimSid(final String simSid){\n        this.simSid = simSid;\n        return this;\n    }\n    public EsimProfileReader setStatus(final EsimProfile.Status status){\n        this.status = status;\n        return this;\n    }\n    public EsimProfileReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<EsimProfile> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<EsimProfile> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/ESimProfiles\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<EsimProfile> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EsimProfile read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"esim_profiles\",\n            response.getContent(),\n            EsimProfile.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<EsimProfile> previousPage(final Page<EsimProfile> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<EsimProfile> nextPage(final Page<EsimProfile> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<EsimProfile> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (eid != null) {\n    \n            request.addQueryParam(\"Eid\", eid);\n        }\n        if (simSid != null) {\n    \n            request.addQueryParam(\"SimSid\", simSid);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class EsimProfileReader extends Reader<EsimProfile> {\n    private String eid;\n    private String simSid;\n    private EsimProfile.Status status;\n\n    /**\n     * List the eSIM Profiles that have been associated with an EId..\n     *\n     * @param eid List the eSIM Profiles that have been associated with an EId\n     * @return this\n     */\n    public EsimProfileReader setEid(final String eid) {\n        this.eid = eid;\n        return this;\n    }\n\n    /**\n     * Find the eSIM Profile resource related to a <a\n     * href=\"https://www.twilio.com/docs/wireless/api/sim-resource\">Sim<\/a> resource\n     * by providing the SIM SID. Will always return an array with either 1 or 0\n     * records..\n     *\n     * @param simSid Find the eSIM Profile resource related to a Sim resource by\n     *               providing the SIM SID\n     * @return this\n     */\n    public EsimProfileReader setSimSid(final String simSid) {\n        this.simSid = simSid;\n        return this;\n    }\n\n    /**\n     * List the eSIM Profiles that are in a given status..\n     *\n     * @param status List the eSIM Profiles that are in a given status\n     * @return this\n     */\n    public EsimProfileReader setStatus(final EsimProfile.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EsimProfile ResourceSet\n     */\n    @Override\n    public ResourceSet<EsimProfile> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EsimProfile ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EsimProfile> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            \"/v1/ESimProfiles\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return EsimProfile ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EsimProfile> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<EsimProfile> nextPage(final Page<EsimProfile> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<EsimProfile> previousPage(final Page<EsimProfile> page,\n                                          final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of EsimProfile Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<EsimProfile> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EsimProfile read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"esim_profiles\",\n            response.getContent(),\n            EsimProfile.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (eid != null) {\n            request.addQueryParam(\"Eid\", eid);\n        }\n\n        if (simSid != null) {\n            request.addQueryParam(\"SimSid\", simSid.toString());\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FleetCreator extends Creator<Fleet>{\n    private String networkAccessProfile;\n    private String uniqueName;\n    private Boolean dataEnabled;\n    private Integer dataLimit;\n    private URI ipCommandsUrl;\n    private HttpMethod ipCommandsMethod;\n    private Boolean smsCommandsEnabled;\n    private URI smsCommandsUrl;\n    private HttpMethod smsCommandsMethod;\n\n    public FleetCreator(final String networkAccessProfile) {\n        this.networkAccessProfile = networkAccessProfile;\n    }\n\n    public FleetCreator setNetworkAccessProfile(final String networkAccessProfile){\n        this.networkAccessProfile = networkAccessProfile;\n        return this;\n    }\n    public FleetCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public FleetCreator setDataEnabled(final Boolean dataEnabled){\n        this.dataEnabled = dataEnabled;\n        return this;\n    }\n    public FleetCreator setDataLimit(final Integer dataLimit){\n        this.dataLimit = dataLimit;\n        return this;\n    }\n    public FleetCreator setIpCommandsUrl(final URI ipCommandsUrl){\n        this.ipCommandsUrl = ipCommandsUrl;\n        return this;\n    }\n\n    public FleetCreator setIpCommandsUrl(final String ipCommandsUrl){\n    this.ipCommandsUrl = Promoter.uriFromString(ipCommandsUrl);\n    return this;\n    }\n    public FleetCreator setIpCommandsMethod(final HttpMethod ipCommandsMethod){\n        this.ipCommandsMethod = ipCommandsMethod;\n        return this;\n    }\n    public FleetCreator setSmsCommandsEnabled(final Boolean smsCommandsEnabled){\n        this.smsCommandsEnabled = smsCommandsEnabled;\n        return this;\n    }\n    public FleetCreator setSmsCommandsUrl(final URI smsCommandsUrl){\n        this.smsCommandsUrl = smsCommandsUrl;\n        return this;\n    }\n\n    public FleetCreator setSmsCommandsUrl(final String smsCommandsUrl){\n    this.smsCommandsUrl = Promoter.uriFromString(smsCommandsUrl);\n    return this;\n    }\n    public FleetCreator setSmsCommandsMethod(final HttpMethod smsCommandsMethod){\n        this.smsCommandsMethod = smsCommandsMethod;\n        return this;\n    }\n\n    @Override\n    public Fleet create(final TwilioRestClient client){\n        String path = \"/v1/Fleets\";\n\n        path = path.replace(\"{\"+\"NetworkAccessProfile\"+\"}\", this.networkAccessProfile.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Fleet creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Fleet.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (networkAccessProfile != null) {\n            request.addPostParam(\"NetworkAccessProfile\", networkAccessProfile);\n    \n        }\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (dataEnabled != null) {\n            request.addPostParam(\"DataEnabled\", dataEnabled.toString());\n    \n        }\n        if (dataLimit != null) {\n            request.addPostParam(\"DataLimit\", dataLimit.toString());\n    \n        }\n        if (ipCommandsUrl != null) {\n            request.addPostParam(\"IpCommandsUrl\", ipCommandsUrl.toString());\n    \n        }\n        if (ipCommandsMethod != null) {\n            request.addPostParam(\"IpCommandsMethod\", ipCommandsMethod.toString());\n    \n        }\n        if (smsCommandsEnabled != null) {\n            request.addPostParam(\"SmsCommandsEnabled\", smsCommandsEnabled.toString());\n    \n        }\n        if (smsCommandsUrl != null) {\n            request.addPostParam(\"SmsCommandsUrl\", smsCommandsUrl.toString());\n    \n        }\n        if (smsCommandsMethod != null) {\n            request.addPostParam(\"SmsCommandsMethod\", smsCommandsMethod.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class FleetCreator extends Creator<Fleet> {\n    private final String networkAccessProfile;\n    private String uniqueName;\n    private Boolean dataEnabled;\n    private Integer dataLimit;\n    private URI ipCommandsUrl;\n    private HttpMethod ipCommandsMethod;\n    private Boolean smsCommandsEnabled;\n    private URI smsCommandsUrl;\n    private HttpMethod smsCommandsMethod;\n\n    /**\n     * Construct a new FleetCreator.\n     *\n     * @param networkAccessProfile The SID or unique name of the Network Access\n     *                             Profile of the Fleet\n     */\n    public FleetCreator(final String networkAccessProfile) {\n        this.networkAccessProfile = networkAccessProfile;\n    }\n\n    /**\n     * An application-defined string that uniquely identifies the resource. It can\n     * be used in place of the resource's `sid` in the URL to address the resource..\n     *\n     * @param uniqueName An application-defined string that uniquely identifies the\n     *                   resource\n     * @return this\n     */\n    public FleetCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * Defines whether SIMs in the Fleet are capable of using 2G/3G/4G/LTE/CAT-M\n     * data connectivity. Defaults to `true`..\n     *\n     * @param dataEnabled Defines whether SIMs in the Fleet are capable of using\n     *                    data connectivity\n     * @return this\n     */\n    public FleetCreator setDataEnabled(final Boolean dataEnabled) {\n        this.dataEnabled = dataEnabled;\n        return this;\n    }\n\n    /**\n     * The total data usage (download and upload combined) in Megabytes that each\n     * Super SIM assigned to the Fleet can consume during a billing period (normally\n     * one month). Value must be between 1MB (1) and 2TB (2,000,000). Defaults to\n     * 1GB (1,000)..\n     *\n     * @param dataLimit The total data usage (download and upload combined) in\n     *                  Megabytes that each Super SIM resource assigned to the Fleet\n     *                  can consume\n     * @return this\n     */\n    public FleetCreator setDataLimit(final Integer dataLimit) {\n        this.dataLimit = dataLimit;\n        return this;\n    }\n\n    /**\n     * The URL that will receive a webhook when a Super SIM in the Fleet is used to\n     * send an IP Command from your device to a special IP address. Your server\n     * should respond with an HTTP status code in the 200 range; any response body\n     * will be ignored..\n     *\n     * @param ipCommandsUrl The URL that will receive a webhook when a Super SIM in\n     *                      the Fleet is used to send an IP Command from your device\n     * @return this\n     */\n    public FleetCreator setIpCommandsUrl(final URI ipCommandsUrl) {\n        this.ipCommandsUrl = ipCommandsUrl;\n        return this;\n    }\n\n    /**\n     * The URL that will receive a webhook when a Super SIM in the Fleet is used to\n     * send an IP Command from your device to a special IP address. Your server\n     * should respond with an HTTP status code in the 200 range; any response body\n     * will be ignored..\n     *\n     * @param ipCommandsUrl The URL that will receive a webhook when a Super SIM in\n     *                      the Fleet is used to send an IP Command from your device\n     * @return this\n     */\n    public FleetCreator setIpCommandsUrl(final String ipCommandsUrl) {\n        return setIpCommandsUrl(Promoter.uriFromString(ipCommandsUrl));\n    }\n\n    /**\n     * A string representing the HTTP method to use when making a request to\n     * `ip_commands_url`. Can be one of `POST` or `GET`. Defaults to `POST`..\n     *\n     * @param ipCommandsMethod A string representing the HTTP method to use when\n     *                         making a request to `ip_commands_url`\n     * @return this\n     */\n    public FleetCreator setIpCommandsMethod(final HttpMethod ipCommandsMethod) {\n        this.ipCommandsMethod = ipCommandsMethod;\n        return this;\n    }\n\n    /**\n     * Defines whether SIMs in the Fleet are capable of sending and receiving\n     * machine-to-machine SMS via Commands. Defaults to `true`..\n     *\n     * @param smsCommandsEnabled Defines whether SIMs in the Fleet are capable of\n     *                           sending and receiving machine-to-machine SMS via\n     *                           Commands\n     * @return this\n     */\n    public FleetCreator setSmsCommandsEnabled(final Boolean smsCommandsEnabled) {\n        this.smsCommandsEnabled = smsCommandsEnabled;\n        return this;\n    }\n\n    /**\n     * The URL that will receive a webhook when a Super SIM in the Fleet is used to\n     * send an SMS from your device to the SMS Commands number. Your server should\n     * respond with an HTTP status code in the 200 range; any response body will be\n     * ignored..\n     *\n     * @param smsCommandsUrl The URL that will receive a webhook when a Super SIM\n     *                       in the Fleet is used to send an SMS from your device to\n     *                       the SMS Commands number\n     * @return this\n     */\n    public FleetCreator setSmsCommandsUrl(final URI smsCommandsUrl) {\n        this.smsCommandsUrl = smsCommandsUrl;\n        return this;\n    }\n\n    /**\n     * The URL that will receive a webhook when a Super SIM in the Fleet is used to\n     * send an SMS from your device to the SMS Commands number. Your server should\n     * respond with an HTTP status code in the 200 range; any response body will be\n     * ignored..\n     *\n     * @param smsCommandsUrl The URL that will receive a webhook when a Super SIM\n     *                       in the Fleet is used to send an SMS from your device to\n     *                       the SMS Commands number\n     * @return this\n     */\n    public FleetCreator setSmsCommandsUrl(final String smsCommandsUrl) {\n        return setSmsCommandsUrl(Promoter.uriFromString(smsCommandsUrl));\n    }\n\n    /**\n     * A string representing the HTTP method to use when making a request to\n     * `sms_commands_url`. Can be one of `POST` or `GET`. Defaults to `POST`..\n     *\n     * @param smsCommandsMethod A string representing the HTTP method to use when\n     *                          making a request to `sms_commands_url`\n     * @return this\n     */\n    public FleetCreator setSmsCommandsMethod(final HttpMethod smsCommandsMethod) {\n        this.smsCommandsMethod = smsCommandsMethod;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Fleet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Fleet create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            \"/v1/Fleets\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Fleet creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Fleet.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (networkAccessProfile != null) {\n            request.addPostParam(\"NetworkAccessProfile\", networkAccessProfile.toString());\n        }\n\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (dataEnabled != null) {\n            request.addPostParam(\"DataEnabled\", dataEnabled.toString());\n        }\n\n        if (dataLimit != null) {\n            request.addPostParam(\"DataLimit\", dataLimit.toString());\n        }\n\n        if (ipCommandsUrl != null) {\n            request.addPostParam(\"IpCommandsUrl\", ipCommandsUrl.toString());\n        }\n\n        if (ipCommandsMethod != null) {\n            request.addPostParam(\"IpCommandsMethod\", ipCommandsMethod.toString());\n        }\n\n        if (smsCommandsEnabled != null) {\n            request.addPostParam(\"SmsCommandsEnabled\", smsCommandsEnabled.toString());\n        }\n\n        if (smsCommandsUrl != null) {\n            request.addPostParam(\"SmsCommandsUrl\", smsCommandsUrl.toString());\n        }\n\n        if (smsCommandsMethod != null) {\n            request.addPostParam(\"SmsCommandsMethod\", smsCommandsMethod.toString());\n        }\n    }\n}\n","lineNo":110}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class FleetReader extends Reader<Fleet> {\n    private String networkAccessProfile;\n    private Integer pageSize;\n\n    public FleetReader(){\n    }\n\n    public FleetReader setNetworkAccessProfile(final String networkAccessProfile){\n        this.networkAccessProfile = networkAccessProfile;\n        return this;\n    }\n    public FleetReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Fleet> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Fleet> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Fleets\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Fleet> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Fleet read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"fleets\",\n            response.getContent(),\n            Fleet.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Fleet> previousPage(final Page<Fleet> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Fleet> nextPage(final Page<Fleet> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Fleet> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (networkAccessProfile != null) {\n    \n            request.addQueryParam(\"NetworkAccessProfile\", networkAccessProfile);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class FleetReader extends Reader<Fleet> {\n    private String networkAccessProfile;\n\n    /**\n     * The SID or unique name of the Network Access Profile that controls which\n     * cellular networks the Fleet's SIMs can connect to..\n     *\n     * @param networkAccessProfile The SID or unique name of the Network Access\n     *                             Profile of the Fleet\n     * @return this\n     */\n    public FleetReader setNetworkAccessProfile(final String networkAccessProfile) {\n        this.networkAccessProfile = networkAccessProfile;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fleet ResourceSet\n     */\n    @Override\n    public ResourceSet<Fleet> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fleet ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Fleet> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            \"/v1/Fleets\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Fleet ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Fleet> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Fleet> nextPage(final Page<Fleet> page,\n                                final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Fleet> previousPage(final Page<Fleet> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Fleet Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Fleet> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Fleet read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"fleets\",\n            response.getContent(),\n            Fleet.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (networkAccessProfile != null) {\n            request.addQueryParam(\"NetworkAccessProfile\", networkAccessProfile.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpCommandCreator extends Creator<IpCommand>{\n    private String sim;\n    private String payload;\n    private Integer devicePort;\n    private IpCommand.PayloadType payloadType;\n    private URI callbackUrl;\n    private HttpMethod callbackMethod;\n\n    public IpCommandCreator(final String sim, final String payload, final Integer devicePort) {\n        this.sim = sim;\n        this.payload = payload;\n        this.devicePort = devicePort;\n    }\n\n    public IpCommandCreator setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public IpCommandCreator setPayload(final String payload){\n        this.payload = payload;\n        return this;\n    }\n    public IpCommandCreator setDevicePort(final Integer devicePort){\n        this.devicePort = devicePort;\n        return this;\n    }\n    public IpCommandCreator setPayloadType(final IpCommand.PayloadType payloadType){\n        this.payloadType = payloadType;\n        return this;\n    }\n    public IpCommandCreator setCallbackUrl(final URI callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    public IpCommandCreator setCallbackUrl(final String callbackUrl){\n    this.callbackUrl = Promoter.uriFromString(callbackUrl);\n    return this;\n    }\n    public IpCommandCreator setCallbackMethod(final HttpMethod callbackMethod){\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n\n    @Override\n    public IpCommand create(final TwilioRestClient client){\n        String path = \"/v1/IpCommands\";\n\n        path = path.replace(\"{\"+\"Sim\"+\"}\", this.sim.toString());\n        path = path.replace(\"{\"+\"Payload\"+\"}\", this.payload.toString());\n        path = path.replace(\"{\"+\"DevicePort\"+\"}\", this.devicePort.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"IpCommand creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpCommand.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (sim != null) {\n            request.addPostParam(\"Sim\", sim);\n    \n        }\n        if (payload != null) {\n            request.addPostParam(\"Payload\", payload);\n    \n        }\n        if (devicePort != null) {\n            request.addPostParam(\"DevicePort\", devicePort.toString());\n    \n        }\n        if (payloadType != null) {\n            request.addPostParam(\"PayloadType\", payloadType.toString());\n    \n        }\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n    \n        }\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class IpCommandCreator extends Creator<IpCommand> {\n    private final String sim;\n    private final String payload;\n    private final Integer devicePort;\n    private IpCommand.PayloadType payloadType;\n    private URI callbackUrl;\n    private HttpMethod callbackMethod;\n\n    /**\n     * Construct a new IpCommandCreator.\n     *\n     * @param sim The sid or unique_name of the Super SIM to send the IP Command to\n     * @param payload The payload to be delivered to the device\n     * @param devicePort The device port to which the IP Command will be sent\n     */\n    public IpCommandCreator(final String sim,\n                            final String payload,\n                            final Integer devicePort) {\n        this.sim = sim;\n        this.payload = payload;\n        this.devicePort = devicePort;\n    }\n\n    /**\n     * Indicates how the payload is encoded. Either `text` or `binary`. Defaults to\n     * `text`..\n     *\n     * @param payloadType Indicates how the payload is encoded\n     * @return this\n     */\n    public IpCommandCreator setPayloadType(final IpCommand.PayloadType payloadType) {\n        this.payloadType = payloadType;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `callback_method` after we have sent the IP\n     * Command..\n     *\n     * @param callbackUrl The URL we should call after we have sent the IP Command\n     * @return this\n     */\n    public IpCommandCreator setCallbackUrl(final URI callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `callback_method` after we have sent the IP\n     * Command..\n     *\n     * @param callbackUrl The URL we should call after we have sent the IP Command\n     * @return this\n     */\n    public IpCommandCreator setCallbackUrl(final String callbackUrl) {\n        return setCallbackUrl(Promoter.uriFromString(callbackUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `callback_url`. Can be `GET` or `POST`,\n     * and the default is `POST`..\n     *\n     * @param callbackMethod The HTTP method we should use to call callback_url\n     * @return this\n     */\n    public IpCommandCreator setCallbackMethod(final HttpMethod callbackMethod) {\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created IpCommand\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IpCommand create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            \"/v1/IpCommands\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpCommand creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpCommand.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (sim != null) {\n            request.addPostParam(\"Sim\", sim);\n        }\n\n        if (payload != null) {\n            request.addPostParam(\"Payload\", payload);\n        }\n\n        if (devicePort != null) {\n            request.addPostParam(\"DevicePort\", devicePort.toString());\n        }\n\n        if (payloadType != null) {\n            request.addPostParam(\"PayloadType\", payloadType.toString());\n        }\n\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n        }\n\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n        }\n    }\n}\n","lineNo":92}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpCommandReader extends Reader<IpCommand> {\n    private String sim;\n    private String simIccid;\n    private IpCommand.Status status;\n    private IpCommand.Direction direction;\n    private Integer pageSize;\n\n    public IpCommandReader(){\n    }\n\n    public IpCommandReader setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public IpCommandReader setSimIccid(final String simIccid){\n        this.simIccid = simIccid;\n        return this;\n    }\n    public IpCommandReader setStatus(final IpCommand.Status status){\n        this.status = status;\n        return this;\n    }\n    public IpCommandReader setDirection(final IpCommand.Direction direction){\n        this.direction = direction;\n        return this;\n    }\n    public IpCommandReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<IpCommand> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<IpCommand> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/IpCommands\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<IpCommand> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpCommand read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"ip_commands\",\n            response.getContent(),\n            IpCommand.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<IpCommand> previousPage(final Page<IpCommand> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<IpCommand> nextPage(final Page<IpCommand> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<IpCommand> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (sim != null) {\n    \n            request.addQueryParam(\"Sim\", sim);\n        }\n        if (simIccid != null) {\n    \n            request.addQueryParam(\"SimIccid\", simIccid);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (direction != null) {\n    \n            request.addQueryParam(\"Direction\", direction.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class IpCommandReader extends Reader<IpCommand> {\n    private String sim;\n    private String simIccid;\n    private IpCommand.Status status;\n    private IpCommand.Direction direction;\n\n    /**\n     * The SID or unique name of the Sim resource that IP Command was sent to or\n     * from..\n     *\n     * @param sim The SID or unique name of the Sim resource that IP Command was\n     *            sent to or from.\n     * @return this\n     */\n    public IpCommandReader setSim(final String sim) {\n        this.sim = sim;\n        return this;\n    }\n\n    /**\n     * The ICCID of the Sim resource that IP Command was sent to or from..\n     *\n     * @param simIccid The ICCID of the Sim resource that IP Command was sent to or\n     *                 from.\n     * @return this\n     */\n    public IpCommandReader setSimIccid(final String simIccid) {\n        this.simIccid = simIccid;\n        return this;\n    }\n\n    /**\n     * The status of the IP Command. Can be: `queued`, `sent`, `received` or\n     * `failed`. See the <a\n     * href=\"https://www.twilio.com/docs/wireless/api/ipcommand-resource#status-values\">IP\n     * Command Status Values<\/a> for a description of each..\n     *\n     * @param status The status of the IP Command\n     * @return this\n     */\n    public IpCommandReader setStatus(final IpCommand.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The direction of the IP Command. Can be `to_sim` or `from_sim`. The value of\n     * `to_sim` is synonymous with the term `mobile terminated`, and `from_sim` is\n     * synonymous with the term `mobile originated`..\n     *\n     * @param direction The direction of the IP Command\n     * @return this\n     */\n    public IpCommandReader setDirection(final IpCommand.Direction direction) {\n        this.direction = direction;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return IpCommand ResourceSet\n     */\n    @Override\n    public ResourceSet<IpCommand> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return IpCommand ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<IpCommand> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            \"/v1/IpCommands\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return IpCommand ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<IpCommand> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<IpCommand> nextPage(final Page<IpCommand> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<IpCommand> previousPage(final Page<IpCommand> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of IpCommand Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<IpCommand> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpCommand read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"ip_commands\",\n            response.getContent(),\n            IpCommand.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (sim != null) {\n            request.addQueryParam(\"Sim\", sim.toString());\n        }\n\n        if (simIccid != null) {\n            request.addQueryParam(\"SimIccid\", simIccid);\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (direction != null) {\n            request.addQueryParam(\"Direction\", direction.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":82}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class NetworkAccessProfileCreator extends Creator<NetworkAccessProfile>{\n    private String uniqueName;\n    private List<String> networks;\n\n    public NetworkAccessProfileCreator() {\n    }\n\n    public NetworkAccessProfileCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public NetworkAccessProfileCreator setNetworks(final List<String> networks){\n        this.networks = networks;\n        return this;\n    }\n\n    @Override\n    public NetworkAccessProfile create(final TwilioRestClient client){\n        String path = \"/v1/NetworkAccessProfiles\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"NetworkAccessProfile creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return NetworkAccessProfile.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (networks != null) {\n            for (String prop : networks) {\n                request.addPostParam(\"Networks\", prop);\n            }\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class NetworkAccessProfileCreator extends Creator<NetworkAccessProfile> {\n    private String uniqueName;\n    private List<String> networks;\n\n    /**\n     * An application-defined string that uniquely identifies the resource. It can\n     * be used in place of the resource's `sid` in the URL to address the resource..\n     *\n     * @param uniqueName An application-defined string that uniquely identifies the\n     *                   resource\n     * @return this\n     */\n    public NetworkAccessProfileCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * List of Network SIDs that this Network Access Profile will allow connections\n     * to..\n     *\n     * @param networks List of Network SIDs that this Network Access Profile will\n     *                 allow connections to\n     * @return this\n     */\n    public NetworkAccessProfileCreator setNetworks(final List<String> networks) {\n        this.networks = networks;\n        return this;\n    }\n\n    /**\n     * List of Network SIDs that this Network Access Profile will allow connections\n     * to..\n     *\n     * @param networks List of Network SIDs that this Network Access Profile will\n     *                 allow connections to\n     * @return this\n     */\n    public NetworkAccessProfileCreator setNetworks(final String networks) {\n        return setNetworks(Promoter.listOfOne(networks));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created NetworkAccessProfile\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public NetworkAccessProfile create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            \"/v1/NetworkAccessProfiles\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"NetworkAccessProfile creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return NetworkAccessProfile.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (networks != null) {\n            for (String prop : networks) {\n                request.addPostParam(\"Networks\", prop.toString());\n            }\n        }\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class NetworkAccessProfileReader extends Reader<NetworkAccessProfile> {\n    private Integer pageSize;\n\n    public NetworkAccessProfileReader(){\n    }\n\n    public NetworkAccessProfileReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<NetworkAccessProfile> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<NetworkAccessProfile> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/NetworkAccessProfiles\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<NetworkAccessProfile> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"NetworkAccessProfile read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"network_access_profiles\",\n            response.getContent(),\n            NetworkAccessProfile.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<NetworkAccessProfile> previousPage(final Page<NetworkAccessProfile> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<NetworkAccessProfile> nextPage(final Page<NetworkAccessProfile> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<NetworkAccessProfile> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class NetworkAccessProfileReader extends Reader<NetworkAccessProfile> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return NetworkAccessProfile ResourceSet\n     */\n    @Override\n    public ResourceSet<NetworkAccessProfile> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return NetworkAccessProfile ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<NetworkAccessProfile> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            \"/v1/NetworkAccessProfiles\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return NetworkAccessProfile ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<NetworkAccessProfile> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<NetworkAccessProfile> nextPage(final Page<NetworkAccessProfile> page,\n                                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<NetworkAccessProfile> previousPage(final Page<NetworkAccessProfile> page,\n                                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of NetworkAccessProfile Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<NetworkAccessProfile> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"NetworkAccessProfile read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"network_access_profiles\",\n            response.getContent(),\n            NetworkAccessProfile.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class NetworkReader extends Reader<Network> {\n    private String isoCountry;\n    private String mcc;\n    private String mnc;\n    private Integer pageSize;\n\n    public NetworkReader(){\n    }\n\n    public NetworkReader setIsoCountry(final String isoCountry){\n        this.isoCountry = isoCountry;\n        return this;\n    }\n    public NetworkReader setMcc(final String mcc){\n        this.mcc = mcc;\n        return this;\n    }\n    public NetworkReader setMnc(final String mnc){\n        this.mnc = mnc;\n        return this;\n    }\n    public NetworkReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Network> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Network> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Networks\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Network> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Network read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"networks\",\n            response.getContent(),\n            Network.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Network> previousPage(final Page<Network> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Network> nextPage(final Page<Network> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Network> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (isoCountry != null) {\n    \n            request.addQueryParam(\"IsoCountry\", isoCountry);\n        }\n        if (mcc != null) {\n    \n            request.addQueryParam(\"Mcc\", mcc);\n        }\n        if (mnc != null) {\n    \n            request.addQueryParam(\"Mnc\", mnc);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class NetworkReader extends Reader<Network> {\n    private String isoCountry;\n    private String mcc;\n    private String mnc;\n\n    /**\n     * The <a href=\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\">ISO country\n     * code<\/a> of the Network resources to read..\n     *\n     * @param isoCountry The ISO country code of the Network resources to read\n     * @return this\n     */\n    public NetworkReader setIsoCountry(final String isoCountry) {\n        this.isoCountry = isoCountry;\n        return this;\n    }\n\n    /**\n     * The 'mobile country code' of a country. Network resources with this `mcc` in\n     * their `identifiers` will be read..\n     *\n     * @param mcc The MCC of Network resource identifiers to be read\n     * @return this\n     */\n    public NetworkReader setMcc(final String mcc) {\n        this.mcc = mcc;\n        return this;\n    }\n\n    /**\n     * The 'mobile network code' of a mobile operator network. Network resources\n     * with this `mnc` in their `identifiers` will be read..\n     *\n     * @param mnc The MNC of Network resource identifiers to be read\n     * @return this\n     */\n    public NetworkReader setMnc(final String mnc) {\n        this.mnc = mnc;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Network ResourceSet\n     */\n    @Override\n    public ResourceSet<Network> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Network ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Network> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            \"/v1/Networks\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Network ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Network> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Network> nextPage(final Page<Network> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Network> previousPage(final Page<Network> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Network Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Network> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Network read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"networks\",\n            response.getContent(),\n            Network.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (isoCountry != null) {\n            request.addQueryParam(\"IsoCountry\", isoCountry);\n        }\n\n        if (mcc != null) {\n            request.addQueryParam(\"Mcc\", mcc);\n        }\n\n        if (mnc != null) {\n            request.addQueryParam(\"Mnc\", mnc);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SimCreator extends Creator<Sim>{\n    private String iccid;\n    private String registrationCode;\n\n    public SimCreator(final String iccid, final String registrationCode) {\n        this.iccid = iccid;\n        this.registrationCode = registrationCode;\n    }\n\n    public SimCreator setIccid(final String iccid){\n        this.iccid = iccid;\n        return this;\n    }\n    public SimCreator setRegistrationCode(final String registrationCode){\n        this.registrationCode = registrationCode;\n        return this;\n    }\n\n    @Override\n    public Sim create(final TwilioRestClient client){\n        String path = \"/v1/Sims\";\n\n        path = path.replace(\"{\"+\"Iccid\"+\"}\", this.iccid.toString());\n        path = path.replace(\"{\"+\"RegistrationCode\"+\"}\", this.registrationCode.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Sim creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Sim.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (iccid != null) {\n            request.addPostParam(\"Iccid\", iccid);\n    \n        }\n        if (registrationCode != null) {\n            request.addPostParam(\"RegistrationCode\", registrationCode);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SimCreator extends Creator<Sim> {\n    private final String iccid;\n    private final String registrationCode;\n\n    /**\n     * Construct a new SimCreator.\n     *\n     * @param iccid The\n     *              <a href=\"https://en.wikipedia.org/wiki/Subscriber_identity_module#ICCID\">ICCID<\/a>\n     *              of the Super SIM to be added to your Account\n     * @param registrationCode The 10-digit code required to claim the Super SIM\n     *                         for your Account\n     */\n    public SimCreator(final String iccid,\n                      final String registrationCode) {\n        this.iccid = iccid;\n        this.registrationCode = registrationCode;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Sim\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Sim create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            \"/v1/Sims\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sim creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Sim.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (iccid != null) {\n            request.addPostParam(\"Iccid\", iccid);\n        }\n\n        if (registrationCode != null) {\n            request.addPostParam(\"RegistrationCode\", registrationCode);\n        }\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SimReader extends Reader<Sim> {\n    private Sim.Status status;\n    private String fleet;\n    private String iccid;\n    private Integer pageSize;\n\n    public SimReader(){\n    }\n\n    public SimReader setStatus(final Sim.Status status){\n        this.status = status;\n        return this;\n    }\n    public SimReader setFleet(final String fleet){\n        this.fleet = fleet;\n        return this;\n    }\n    public SimReader setIccid(final String iccid){\n        this.iccid = iccid;\n        return this;\n    }\n    public SimReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Sim> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Sim> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Sims\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Sim> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sim read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sims\",\n            response.getContent(),\n            Sim.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Sim> previousPage(final Page<Sim> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Sim> nextPage(final Page<Sim> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Sim> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (fleet != null) {\n    \n            request.addQueryParam(\"Fleet\", fleet);\n        }\n        if (iccid != null) {\n    \n            request.addQueryParam(\"Iccid\", iccid);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SimReader extends Reader<Sim> {\n    private Sim.Status status;\n    private String fleet;\n    private String iccid;\n\n    /**\n     * The status of the Sim resources to read. Can be `new`, `ready`, `active`,\n     * `inactive`, or `scheduled`..\n     *\n     * @param status The status of the Sim resources to read\n     * @return this\n     */\n    public SimReader setStatus(final Sim.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The SID or unique name of the Fleet to which a list of Sims are assigned..\n     *\n     * @param fleet The SID or unique name of the Fleet to which a list of Sims are\n     *              assigned\n     * @return this\n     */\n    public SimReader setFleet(final String fleet) {\n        this.fleet = fleet;\n        return this;\n    }\n\n    /**\n     * The <a\n     * href=\"https://en.wikipedia.org/wiki/Subscriber_identity_module#ICCID\">ICCID<\/a>\n     * associated with a Super SIM to filter the list by. Passing this parameter\n     * will always return a list containing zero or one SIMs..\n     *\n     * @param iccid The ICCID associated with a Super SIM to filter the list by\n     * @return this\n     */\n    public SimReader setIccid(final String iccid) {\n        this.iccid = iccid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    public ResourceSet<Sim> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Sim> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            \"/v1/Sims\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Sim> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Sim> nextPage(final Page<Sim> page,\n                              final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Sim> previousPage(final Page<Sim> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Sim Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Sim> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sim read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sims\",\n            response.getContent(),\n            Sim.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (fleet != null) {\n            request.addQueryParam(\"Fleet\", fleet.toString());\n        }\n\n        if (iccid != null) {\n            request.addQueryParam(\"Iccid\", iccid);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SmsCommandCreator extends Creator<SmsCommand>{\n    private String sim;\n    private String payload;\n    private HttpMethod callbackMethod;\n    private URI callbackUrl;\n\n    public SmsCommandCreator(final String sim, final String payload) {\n        this.sim = sim;\n        this.payload = payload;\n    }\n\n    public SmsCommandCreator setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public SmsCommandCreator setPayload(final String payload){\n        this.payload = payload;\n        return this;\n    }\n    public SmsCommandCreator setCallbackMethod(final HttpMethod callbackMethod){\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n    public SmsCommandCreator setCallbackUrl(final URI callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    public SmsCommandCreator setCallbackUrl(final String callbackUrl){\n    this.callbackUrl = Promoter.uriFromString(callbackUrl);\n    return this;\n    }\n\n    @Override\n    public SmsCommand create(final TwilioRestClient client){\n        String path = \"/v1/SmsCommands\";\n\n        path = path.replace(\"{\"+\"Sim\"+\"}\", this.sim.toString());\n        path = path.replace(\"{\"+\"Payload\"+\"}\", this.payload.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"SmsCommand creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SmsCommand.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (sim != null) {\n            request.addPostParam(\"Sim\", sim);\n    \n        }\n        if (payload != null) {\n            request.addPostParam(\"Payload\", payload);\n    \n        }\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n    \n        }\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SmsCommandCreator extends Creator<SmsCommand> {\n    private final String sim;\n    private final String payload;\n    private HttpMethod callbackMethod;\n    private URI callbackUrl;\n\n    /**\n     * Construct a new SmsCommandCreator.\n     *\n     * @param sim The sid or unique_name of the SIM to send the SMS Command to\n     * @param payload The message body of the SMS Command\n     */\n    public SmsCommandCreator(final String sim,\n                             final String payload) {\n        this.sim = sim;\n        this.payload = payload;\n    }\n\n    /**\n     * The HTTP method we should use to call `callback_url`. Can be: `GET` or `POST`\n     * and the default is POST..\n     *\n     * @param callbackMethod The HTTP method we should use to call callback_url\n     * @return this\n     */\n    public SmsCommandCreator setCallbackMethod(final HttpMethod callbackMethod) {\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `callback_method` after we have sent the\n     * command..\n     *\n     * @param callbackUrl The URL we should call after we have sent the command\n     * @return this\n     */\n    public SmsCommandCreator setCallbackUrl(final URI callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `callback_method` after we have sent the\n     * command..\n     *\n     * @param callbackUrl The URL we should call after we have sent the command\n     * @return this\n     */\n    public SmsCommandCreator setCallbackUrl(final String callbackUrl) {\n        return setCallbackUrl(Promoter.uriFromString(callbackUrl));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created SmsCommand\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public SmsCommand create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SUPERSIM.toString(),\n            \"/v1/SmsCommands\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SmsCommand creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SmsCommand.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (sim != null) {\n            request.addPostParam(\"Sim\", sim);\n        }\n\n        if (payload != null) {\n            request.addPostParam(\"Payload\", payload);\n        }\n\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n        }\n\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n        }\n    }\n}\n","lineNo":81}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SmsCommandReader extends Reader<SmsCommand> {\n    private String sim;\n    private SmsCommand.Status status;\n    private SmsCommand.Direction direction;\n    private Integer pageSize;\n\n    public SmsCommandReader(){\n    }\n\n    public SmsCommandReader setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public SmsCommandReader setStatus(final SmsCommand.Status status){\n        this.status = status;\n        return this;\n    }\n    public SmsCommandReader setDirection(final SmsCommand.Direction direction){\n        this.direction = direction;\n        return this;\n    }\n    public SmsCommandReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<SmsCommand> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<SmsCommand> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/SmsCommands\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<SmsCommand> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SmsCommand read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sms_commands\",\n            response.getContent(),\n            SmsCommand.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<SmsCommand> previousPage(final Page<SmsCommand> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<SmsCommand> nextPage(final Page<SmsCommand> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<SmsCommand> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (sim != null) {\n    \n            request.addQueryParam(\"Sim\", sim);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (direction != null) {\n    \n            request.addQueryParam(\"Direction\", direction.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SmsCommandReader extends Reader<SmsCommand> {\n    private String sim;\n    private SmsCommand.Status status;\n    private SmsCommand.Direction direction;\n\n    /**\n     * The SID or unique name of the Sim resource that SMS Command was sent to or\n     * from..\n     *\n     * @param sim The SID or unique name of the Sim resource that SMS Command was\n     *            sent to or from.\n     * @return this\n     */\n    public SmsCommandReader setSim(final String sim) {\n        this.sim = sim;\n        return this;\n    }\n\n    /**\n     * The status of the SMS Command. Can be: `queued`, `sent`, `delivered`,\n     * `received` or `failed`. See the <a\n     * href=\"https://www.twilio.com/docs/wireless/api/smscommand-resource#status-values\">SMS\n     * Command Status Values<\/a> for a description of each..\n     *\n     * @param status The status of the SMS Command\n     * @return this\n     */\n    public SmsCommandReader setStatus(final SmsCommand.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The direction of the SMS Command. Can be `to_sim` or `from_sim`. The value of\n     * `to_sim` is synonymous with the term `mobile terminated`, and `from_sim` is\n     * synonymous with the term `mobile originated`..\n     *\n     * @param direction The direction of the SMS Command\n     * @return this\n     */\n    public SmsCommandReader setDirection(final SmsCommand.Direction direction) {\n        this.direction = direction;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SmsCommand ResourceSet\n     */\n    @Override\n    public ResourceSet<SmsCommand> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SmsCommand ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SmsCommand> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            \"/v1/SmsCommands\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return SmsCommand ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SmsCommand> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<SmsCommand> nextPage(final Page<SmsCommand> page,\n                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<SmsCommand> previousPage(final Page<SmsCommand> page,\n                                         final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of SmsCommand Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<SmsCommand> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SmsCommand read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sms_commands\",\n            response.getContent(),\n            SmsCommand.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (sim != null) {\n            request.addQueryParam(\"Sim\", sim.toString());\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (direction != null) {\n            request.addQueryParam(\"Direction\", direction.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Supersim\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Supersim\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class UsageRecordReader extends Reader<UsageRecord> {\n    private String sim;\n    private String fleet;\n    private String network;\n    private String isoCountry;\n    private UsageRecord.Group group;\n    private UsageRecord.Granularity granularity;\n    private ZonedDateTime startTime;\n    private ZonedDateTime endTime;\n    private Integer pageSize;\n\n    public UsageRecordReader(){\n    }\n\n    public UsageRecordReader setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public UsageRecordReader setFleet(final String fleet){\n        this.fleet = fleet;\n        return this;\n    }\n    public UsageRecordReader setNetwork(final String network){\n        this.network = network;\n        return this;\n    }\n    public UsageRecordReader setIsoCountry(final String isoCountry){\n        this.isoCountry = isoCountry;\n        return this;\n    }\n    public UsageRecordReader setGroup(final UsageRecord.Group group){\n        this.group = group;\n        return this;\n    }\n    public UsageRecordReader setGranularity(final UsageRecord.Granularity granularity){\n        this.granularity = granularity;\n        return this;\n    }\n    public UsageRecordReader setStartTime(final ZonedDateTime startTime){\n        this.startTime = startTime;\n        return this;\n    }\n    public UsageRecordReader setEndTime(final ZonedDateTime endTime){\n        this.endTime = endTime;\n        return this;\n    }\n    public UsageRecordReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<UsageRecord> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<UsageRecord> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/UsageRecords\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<UsageRecord> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"UsageRecord read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"usage_records\",\n            response.getContent(),\n            UsageRecord.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<UsageRecord> previousPage(final Page<UsageRecord> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<UsageRecord> nextPage(final Page<UsageRecord> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<UsageRecord> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (sim != null) {\n    \n            request.addQueryParam(\"Sim\", sim);\n        }\n        if (fleet != null) {\n    \n            request.addQueryParam(\"Fleet\", fleet);\n        }\n        if (network != null) {\n    \n            request.addQueryParam(\"Network\", network);\n        }\n        if (isoCountry != null) {\n    \n            request.addQueryParam(\"IsoCountry\", isoCountry);\n        }\n        if (group != null) {\n    \n            request.addQueryParam(\"Group\", group.toString());\n        }\n        if (granularity != null) {\n    \n            request.addQueryParam(\"Granularity\", granularity.toString());\n        }\n        if (startTime != null) {\n            request.addQueryParam(\"StartTime\", startTime.toInstant().toString());\n        }\n\n        if (endTime != null) {\n            request.addQueryParam(\"EndTime\", endTime.toInstant().toString());\n        }\n\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.supersim.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class UsageRecordReader extends Reader<UsageRecord> {\n    private String sim;\n    private String fleet;\n    private String network;\n    private String isoCountry;\n    private UsageRecord.Group group;\n    private UsageRecord.Granularity granularity;\n    private ZonedDateTime startTime;\n    private ZonedDateTime endTime;\n\n    /**\n     * SID or unique name of a Sim resource. Only show UsageRecords representing\n     * usage incurred by this Super SIM..\n     *\n     * @param sim SID or unique name of a Sim resource. Only show UsageRecords\n     *            representing usage incurred by this Super SIM.\n     * @return this\n     */\n    public UsageRecordReader setSim(final String sim) {\n        this.sim = sim;\n        return this;\n    }\n\n    /**\n     * SID or unique name of a Fleet resource. Only show UsageRecords representing\n     * usage for Super SIMs belonging to this Fleet resource at the time the usage\n     * occurred..\n     *\n     * @param fleet SID or unique name of a Fleet resource. Only show UsageRecords\n     *              representing usage for Super SIMs belonging to this Fleet\n     *              resource at the time the usage occurred.\n     * @return this\n     */\n    public UsageRecordReader setFleet(final String fleet) {\n        this.fleet = fleet;\n        return this;\n    }\n\n    /**\n     * SID of a Network resource. Only show UsageRecords representing usage on this\n     * network..\n     *\n     * @param network SID of a Network resource. Only show UsageRecords\n     *                representing usage on this network.\n     * @return this\n     */\n    public UsageRecordReader setNetwork(final String network) {\n        this.network = network;\n        return this;\n    }\n\n    /**\n     * Alpha-2 ISO Country Code. Only show UsageRecords representing usage in this\n     * country..\n     *\n     * @param isoCountry Alpha-2 ISO Country Code. Only show UsageRecords\n     *                   representing usage in this country.\n     * @return this\n     */\n    public UsageRecordReader setIsoCountry(final String isoCountry) {\n        this.isoCountry = isoCountry;\n        return this;\n    }\n\n    /**\n     * Dimension over which to aggregate usage records. Can be: `sim`, `fleet`,\n     * `network`, `isoCountry`. Default is to not aggregate across any of these\n     * dimensions, UsageRecords will be aggregated into the time buckets described\n     * by the `Granularity` parameter..\n     *\n     * @param group Dimension over which to aggregate usage records.\n     * @return this\n     */\n    public UsageRecordReader setGroup(final UsageRecord.Group group) {\n        this.group = group;\n        return this;\n    }\n\n    /**\n     * Time-based grouping that UsageRecords should be aggregated by. Can be:\n     * `hour`, `day`, or `all`. Default is `all`. `all` returns one UsageRecord that\n     * describes the usage for the entire period..\n     *\n     * @param granularity Time-based grouping that UsageRecords should be\n     *                    aggregated by. Can be: `hour`, `day`, or `all`. Default is\n     *                    `all`.\n     * @return this\n     */\n    public UsageRecordReader setGranularity(final UsageRecord.Granularity granularity) {\n        this.granularity = granularity;\n        return this;\n    }\n\n    /**\n     * Only include usage that occurred at or after this time, specified in <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> format. Default is\n     * one month before the `end_time`..\n     *\n     * @param startTime Only include usage that occurred at or after this time.\n     * @return this\n     */\n    public UsageRecordReader setStartTime(final ZonedDateTime startTime) {\n        this.startTime = startTime;\n        return this;\n    }\n\n    /**\n     * Only include usage that occurred before this time (exclusive), specified in\n     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> format. Default\n     * is the current time..\n     *\n     * @param endTime Only include usage that occurred before this time (exclusive).\n     * @return this\n     */\n    public UsageRecordReader setEndTime(final ZonedDateTime endTime) {\n        this.endTime = endTime;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return UsageRecord ResourceSet\n     */\n    @Override\n    public ResourceSet<UsageRecord> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return UsageRecord ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<UsageRecord> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SUPERSIM.toString(),\n            \"/v1/UsageRecords\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return UsageRecord ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<UsageRecord> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<UsageRecord> nextPage(final Page<UsageRecord> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<UsageRecord> previousPage(final Page<UsageRecord> page,\n                                          final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SUPERSIM.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of UsageRecord Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<UsageRecord> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"UsageRecord read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"usage_records\",\n            response.getContent(),\n            UsageRecord.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (sim != null) {\n            request.addQueryParam(\"Sim\", sim.toString());\n        }\n\n        if (fleet != null) {\n            request.addQueryParam(\"Fleet\", fleet.toString());\n        }\n\n        if (network != null) {\n            request.addQueryParam(\"Network\", network);\n        }\n\n        if (isoCountry != null) {\n            request.addQueryParam(\"IsoCountry\", isoCountry);\n        }\n\n        if (group != null) {\n            request.addQueryParam(\"Group\", group.toString());\n        }\n\n        if (granularity != null) {\n            request.addQueryParam(\"Granularity\", granularity.toString());\n        }\n\n        if (startTime != null) {\n            request.addQueryParam(\"StartTime\", startTime.toInstant().toString());\n        }\n\n        if (endTime != null) {\n            request.addQueryParam(\"EndTime\", endTime.toInstant().toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":103}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Sync\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.sync.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Sync\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n    private URI webhookUrl;\n    private Boolean reachabilityWebhooksEnabled;\n    private Boolean aclEnabled;\n    private Boolean reachabilityDebouncingEnabled;\n    private Integer reachabilityDebouncingWindow;\n    private Boolean webhooksFromRestEnabled;\n\n    public ServiceCreator() {\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ServiceCreator setWebhookUrl(final URI webhookUrl){\n        this.webhookUrl = webhookUrl;\n        return this;\n    }\n\n    public ServiceCreator setWebhookUrl(final String webhookUrl){\n    this.webhookUrl = Promoter.uriFromString(webhookUrl);\n    return this;\n    }\n    public ServiceCreator setReachabilityWebhooksEnabled(final Boolean reachabilityWebhooksEnabled){\n        this.reachabilityWebhooksEnabled = reachabilityWebhooksEnabled;\n        return this;\n    }\n    public ServiceCreator setAclEnabled(final Boolean aclEnabled){\n        this.aclEnabled = aclEnabled;\n        return this;\n    }\n    public ServiceCreator setReachabilityDebouncingEnabled(final Boolean reachabilityDebouncingEnabled){\n        this.reachabilityDebouncingEnabled = reachabilityDebouncingEnabled;\n        return this;\n    }\n    public ServiceCreator setReachabilityDebouncingWindow(final Integer reachabilityDebouncingWindow){\n        this.reachabilityDebouncingWindow = reachabilityDebouncingWindow;\n        return this;\n    }\n    public ServiceCreator setWebhooksFromRestEnabled(final Boolean webhooksFromRestEnabled){\n        this.webhooksFromRestEnabled = webhooksFromRestEnabled;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v1/Services\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SYNC.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (webhookUrl != null) {\n            request.addPostParam(\"WebhookUrl\", webhookUrl.toString());\n    \n        }\n        if (reachabilityWebhooksEnabled != null) {\n            request.addPostParam(\"ReachabilityWebhooksEnabled\", reachabilityWebhooksEnabled.toString());\n    \n        }\n        if (aclEnabled != null) {\n            request.addPostParam(\"AclEnabled\", aclEnabled.toString());\n    \n        }\n        if (reachabilityDebouncingEnabled != null) {\n            request.addPostParam(\"ReachabilityDebouncingEnabled\", reachabilityDebouncingEnabled.toString());\n    \n        }\n        if (reachabilityDebouncingWindow != null) {\n            request.addPostParam(\"ReachabilityDebouncingWindow\", reachabilityDebouncingWindow.toString());\n    \n        }\n        if (webhooksFromRestEnabled != null) {\n            request.addPostParam(\"WebhooksFromRestEnabled\", webhooksFromRestEnabled.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.sync.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class ServiceCreator extends Creator<Service> {\n    private String friendlyName;\n    private URI webhookUrl;\n    private Boolean reachabilityWebhooksEnabled;\n    private Boolean aclEnabled;\n    private Boolean reachabilityDebouncingEnabled;\n    private Integer reachabilityDebouncingWindow;\n    private Boolean webhooksFromRestEnabled;\n\n    /**\n     * A string that you assign to describe the resource..\n     *\n     * @param friendlyName A string that you assign to describe the resource\n     * @return this\n     */\n    public ServiceCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The URL we should call when Sync objects are manipulated..\n     *\n     * @param webhookUrl The URL we should call when Sync objects are manipulated\n     * @return this\n     */\n    public ServiceCreator setWebhookUrl(final URI webhookUrl) {\n        this.webhookUrl = webhookUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when Sync objects are manipulated..\n     *\n     * @param webhookUrl The URL we should call when Sync objects are manipulated\n     * @return this\n     */\n    public ServiceCreator setWebhookUrl(final String webhookUrl) {\n        return setWebhookUrl(Promoter.uriFromString(webhookUrl));\n    }\n\n    /**\n     * Whether the service instance should call `webhook_url` when client endpoints\n     * connect to Sync. The default is `false`..\n     *\n     * @param reachabilityWebhooksEnabled Whether the service instance should call\n     *                                    webhook_url when client endpoints connect\n     *                                    to Sync\n     * @return this\n     */\n    public ServiceCreator setReachabilityWebhooksEnabled(final Boolean reachabilityWebhooksEnabled) {\n        this.reachabilityWebhooksEnabled = reachabilityWebhooksEnabled;\n        return this;\n    }\n\n    /**\n     * Whether token identities in the Service must be granted access to Sync\n     * objects by using the <a\n     * href=\"https://www.twilio.com/docs/sync/api/sync-permissions\">Permissions<\/a>\n     * resource..\n     *\n     * @param aclEnabled Whether token identities in the Service must be granted\n     *                   access to Sync objects by using the Permissions resource\n     * @return this\n     */\n    public ServiceCreator setAclEnabled(final Boolean aclEnabled) {\n        this.aclEnabled = aclEnabled;\n        return this;\n    }\n\n    /**\n     * Whether every `endpoint_disconnected` event should occur after a configurable\n     * delay. The default is `false`, where the `endpoint_disconnected` event occurs\n     * immediately after disconnection. When `true`, intervening reconnections can\n     * prevent the `endpoint_disconnected` event..\n     *\n     * @param reachabilityDebouncingEnabled Whether every endpoint_disconnected\n     *                                      event occurs after a configurable delay\n     * @return this\n     */\n    public ServiceCreator setReachabilityDebouncingEnabled(final Boolean reachabilityDebouncingEnabled) {\n        this.reachabilityDebouncingEnabled = reachabilityDebouncingEnabled;\n        return this;\n    }\n\n    /**\n     * The reachability event delay in milliseconds if\n     * `reachability_debouncing_enabled` = `true`.  Must be between 1,000 and 30,000\n     * and defaults to 5,000. This is the number of milliseconds after the last\n     * running client disconnects, and a Sync identity is declared offline, before\n     * the `webhook_url` is called if all endpoints remain offline. A reconnection\n     * from the same identity by any endpoint during this interval prevents the call\n     * to `webhook_url`..\n     *\n     * @param reachabilityDebouncingWindow The reachability event delay in\n     *                                     milliseconds\n     * @return this\n     */\n    public ServiceCreator setReachabilityDebouncingWindow(final Integer reachabilityDebouncingWindow) {\n        this.reachabilityDebouncingWindow = reachabilityDebouncingWindow;\n        return this;\n    }\n\n    /**\n     * Whether the Service instance should call `webhook_url` when the REST API is\n     * used to update Sync objects. The default is `false`..\n     *\n     * @param webhooksFromRestEnabled Whether the Service instance should call\n     *                                webhook_url when the REST API is used to\n     *                                update Sync objects\n     * @return this\n     */\n    public ServiceCreator setWebhooksFromRestEnabled(final Boolean webhooksFromRestEnabled) {\n        this.webhooksFromRestEnabled = webhooksFromRestEnabled;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.SYNC.toString(),\n            \"/v1/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (webhookUrl != null) {\n            request.addPostParam(\"WebhookUrl\", webhookUrl.toString());\n        }\n\n        if (reachabilityWebhooksEnabled != null) {\n            request.addPostParam(\"ReachabilityWebhooksEnabled\", reachabilityWebhooksEnabled.toString());\n        }\n\n        if (aclEnabled != null) {\n            request.addPostParam(\"AclEnabled\", aclEnabled.toString());\n        }\n\n        if (reachabilityDebouncingEnabled != null) {\n            request.addPostParam(\"ReachabilityDebouncingEnabled\", reachabilityDebouncingEnabled.toString());\n        }\n\n        if (reachabilityDebouncingWindow != null) {\n            request.addPostParam(\"ReachabilityDebouncingWindow\", reachabilityDebouncingWindow.toString());\n        }\n\n        if (webhooksFromRestEnabled != null) {\n            request.addPostParam(\"WebhooksFromRestEnabled\", webhooksFromRestEnabled.toString());\n        }\n    }\n}\n","lineNo":94}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Sync\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.sync.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Sync\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SYNC.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SYNC.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SYNC.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.sync.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.SYNC.toString(),\n            \"/v1/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.SYNC.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.SYNC.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Taskrouter\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.taskrouter.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Taskrouter\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class WorkspaceCreator extends Creator<Workspace>{\n    private String friendlyName;\n    private URI eventCallbackUrl;\n    private String eventsFilter;\n    private Boolean multiTaskEnabled;\n    private String template;\n    private Workspace.QueueOrder prioritizeQueueOrder;\n\n    public WorkspaceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public WorkspaceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public WorkspaceCreator setEventCallbackUrl(final URI eventCallbackUrl){\n        this.eventCallbackUrl = eventCallbackUrl;\n        return this;\n    }\n\n    public WorkspaceCreator setEventCallbackUrl(final String eventCallbackUrl){\n    this.eventCallbackUrl = Promoter.uriFromString(eventCallbackUrl);\n    return this;\n    }\n    public WorkspaceCreator setEventsFilter(final String eventsFilter){\n        this.eventsFilter = eventsFilter;\n        return this;\n    }\n    public WorkspaceCreator setMultiTaskEnabled(final Boolean multiTaskEnabled){\n        this.multiTaskEnabled = multiTaskEnabled;\n        return this;\n    }\n    public WorkspaceCreator setTemplate(final String template){\n        this.template = template;\n        return this;\n    }\n    public WorkspaceCreator setPrioritizeQueueOrder(final Workspace.QueueOrder prioritizeQueueOrder){\n        this.prioritizeQueueOrder = prioritizeQueueOrder;\n        return this;\n    }\n\n    @Override\n    public Workspace create(final TwilioRestClient client){\n        String path = \"/v1/Workspaces\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TASKROUTER.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Workspace creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Workspace.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (eventCallbackUrl != null) {\n            request.addPostParam(\"EventCallbackUrl\", eventCallbackUrl.toString());\n    \n        }\n        if (eventsFilter != null) {\n            request.addPostParam(\"EventsFilter\", eventsFilter);\n    \n        }\n        if (multiTaskEnabled != null) {\n            request.addPostParam(\"MultiTaskEnabled\", multiTaskEnabled.toString());\n    \n        }\n        if (template != null) {\n            request.addPostParam(\"Template\", template);\n    \n        }\n        if (prioritizeQueueOrder != null) {\n            request.addPostParam(\"PrioritizeQueueOrder\", prioritizeQueueOrder.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.taskrouter.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class WorkspaceCreator extends Creator<Workspace> {\n    private final String friendlyName;\n    private URI eventCallbackUrl;\n    private String eventsFilter;\n    private Boolean multiTaskEnabled;\n    private String template;\n    private Workspace.QueueOrder prioritizeQueueOrder;\n\n    /**\n     * Construct a new WorkspaceCreator.\n     *\n     * @param friendlyName A string to describe the Workspace resource\n     */\n    public WorkspaceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * The URL we should call when an event occurs. If provided, the Workspace will\n     * publish events to this URL, for example, to collect data for reporting. See\n     * <a href=\"https://www.twilio.com/docs/taskrouter/api/event\">Workspace\n     * Events<\/a> for more information. This parameter supports Twilio's <a\n     * href=\"https://www.twilio.com/docs/usage/webhooks/webhooks-connection-overrides\">Webhooks\n     * (HTTP callbacks) Connection Overrides<\/a>..\n     *\n     * @param eventCallbackUrl The URL we should call when an event occurs\n     * @return this\n     */\n    public WorkspaceCreator setEventCallbackUrl(final URI eventCallbackUrl) {\n        this.eventCallbackUrl = eventCallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when an event occurs. If provided, the Workspace will\n     * publish events to this URL, for example, to collect data for reporting. See\n     * <a href=\"https://www.twilio.com/docs/taskrouter/api/event\">Workspace\n     * Events<\/a> for more information. This parameter supports Twilio's <a\n     * href=\"https://www.twilio.com/docs/usage/webhooks/webhooks-connection-overrides\">Webhooks\n     * (HTTP callbacks) Connection Overrides<\/a>..\n     *\n     * @param eventCallbackUrl The URL we should call when an event occurs\n     * @return this\n     */\n    public WorkspaceCreator setEventCallbackUrl(final String eventCallbackUrl) {\n        return setEventCallbackUrl(Promoter.uriFromString(eventCallbackUrl));\n    }\n\n    /**\n     * The list of Workspace events for which to call event_callback_url. For\n     * example, if `EventsFilter=task.created, task.canceled,\n     * worker.activity.update`, then TaskRouter will call event_callback_url only\n     * when a task is created, canceled, or a Worker activity is updated..\n     *\n     * @param eventsFilter The list of Workspace events for which to call\n     *                     event_callback_url\n     * @return this\n     */\n    public WorkspaceCreator setEventsFilter(final String eventsFilter) {\n        this.eventsFilter = eventsFilter;\n        return this;\n    }\n\n    /**\n     * Whether to enable multi-tasking. Can be: `true` to enable multi-tasking, or\n     * `false` to disable it. However, all workspaces should be created as\n     * multi-tasking. The default is `true`. Multi-tasking allows Workers to handle\n     * multiple Tasks simultaneously. When enabled (`true`), each Worker can receive\n     * parallel reservations up to the per-channel maximums defined in the Workers\n     * section. In single-tasking mode (legacy mode), each Worker will only receive\n     * a new reservation when the previous task is completed. Learn more at <a\n     * href=\"https://www.twilio.com/docs/taskrouter/multitasking\">Multitasking<\/a>..\n     *\n     * @param multiTaskEnabled Whether multi-tasking is enabled\n     * @return this\n     */\n    public WorkspaceCreator setMultiTaskEnabled(final Boolean multiTaskEnabled) {\n        this.multiTaskEnabled = multiTaskEnabled;\n        return this;\n    }\n\n    /**\n     * An available template name. Can be: `NONE` or `FIFO` and the default is\n     * `NONE`. Pre-configures the Workspace with the Workflow and Activities\n     * specified in the template. `NONE` will create a Workspace with only a set of\n     * default activities. `FIFO` will configure TaskRouter with a set of default\n     * activities and a single TaskQueue for first-in, first-out distribution, which\n     * can be useful when you are getting started with TaskRouter..\n     *\n     * @param template An available template name\n     * @return this\n     */\n    public WorkspaceCreator setTemplate(final String template) {\n        this.template = template;\n        return this;\n    }\n\n    /**\n     * The type of TaskQueue to prioritize when Workers are receiving Tasks from\n     * both types of TaskQueues. Can be: `LIFO` or `FIFO` and the default is `FIFO`.\n     * For more information, see <a\n     * href=\"https://www.twilio.com/docs/taskrouter/queue-ordering-last-first-out-lifo\">Queue\n     * Ordering<\/a>..\n     *\n     * @param prioritizeQueueOrder The type of TaskQueue to prioritize when Workers\n     *                             are receiving Tasks from both types of TaskQueues\n     * @return this\n     */\n    public WorkspaceCreator setPrioritizeQueueOrder(final Workspace.QueueOrder prioritizeQueueOrder) {\n        this.prioritizeQueueOrder = prioritizeQueueOrder;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Workspace\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Workspace create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TASKROUTER.toString(),\n            \"/v1/Workspaces\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Workspace creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Workspace.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (eventCallbackUrl != null) {\n            request.addPostParam(\"EventCallbackUrl\", eventCallbackUrl.toString());\n        }\n\n        if (eventsFilter != null) {\n            request.addPostParam(\"EventsFilter\", eventsFilter);\n        }\n\n        if (multiTaskEnabled != null) {\n            request.addPostParam(\"MultiTaskEnabled\", multiTaskEnabled.toString());\n        }\n\n        if (template != null) {\n            request.addPostParam(\"Template\", template);\n        }\n\n        if (prioritizeQueueOrder != null) {\n            request.addPostParam(\"PrioritizeQueueOrder\", prioritizeQueueOrder.toString());\n        }\n    }\n}\n","lineNo":90}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Taskrouter\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.taskrouter.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Taskrouter\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class WorkspaceReader extends Reader<Workspace> {\n    private String friendlyName;\n    private Integer pageSize;\n\n    public WorkspaceReader(){\n    }\n\n    public WorkspaceReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public WorkspaceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Workspace> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Workspace> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Workspaces\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TASKROUTER.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Workspace> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Workspace read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"workspaces\",\n            response.getContent(),\n            Workspace.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Workspace> previousPage(final Page<Workspace> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TASKROUTER.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Workspace> nextPage(final Page<Workspace> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TASKROUTER.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Workspace> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.taskrouter.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class WorkspaceReader extends Reader<Workspace> {\n    private String friendlyName;\n\n    /**\n     * The `friendly_name` of the Workspace resources to read. For example `Customer\n     * Support` or `2014 Election Campaign`..\n     *\n     * @param friendlyName The friendly_name of the Workspace resources to read\n     * @return this\n     */\n    public WorkspaceReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Workspace ResourceSet\n     */\n    @Override\n    public ResourceSet<Workspace> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Workspace ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Workspace> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TASKROUTER.toString(),\n            \"/v1/Workspaces\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Workspace ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Workspace> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Workspace> nextPage(final Page<Workspace> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TASKROUTER.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Workspace> previousPage(final Page<Workspace> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TASKROUTER.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Workspace Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Workspace> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Workspace read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"workspaces\",\n            response.getContent(),\n            Workspace.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trunking\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trunking.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Trunking\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TrunkCreator extends Creator<Trunk>{\n    private String friendlyName;\n    private String domainName;\n    private URI disasterRecoveryUrl;\n    private HttpMethod disasterRecoveryMethod;\n    private Trunk.TransferSetting transferMode;\n    private Boolean secure;\n    private Boolean cnamLookupEnabled;\n    private Trunk.TransferCallerId transferCallerId;\n\n    public TrunkCreator() {\n    }\n\n    public TrunkCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public TrunkCreator setDomainName(final String domainName){\n        this.domainName = domainName;\n        return this;\n    }\n    public TrunkCreator setDisasterRecoveryUrl(final URI disasterRecoveryUrl){\n        this.disasterRecoveryUrl = disasterRecoveryUrl;\n        return this;\n    }\n\n    public TrunkCreator setDisasterRecoveryUrl(final String disasterRecoveryUrl){\n    this.disasterRecoveryUrl = Promoter.uriFromString(disasterRecoveryUrl);\n    return this;\n    }\n    public TrunkCreator setDisasterRecoveryMethod(final HttpMethod disasterRecoveryMethod){\n        this.disasterRecoveryMethod = disasterRecoveryMethod;\n        return this;\n    }\n    public TrunkCreator setTransferMode(final Trunk.TransferSetting transferMode){\n        this.transferMode = transferMode;\n        return this;\n    }\n    public TrunkCreator setSecure(final Boolean secure){\n        this.secure = secure;\n        return this;\n    }\n    public TrunkCreator setCnamLookupEnabled(final Boolean cnamLookupEnabled){\n        this.cnamLookupEnabled = cnamLookupEnabled;\n        return this;\n    }\n    public TrunkCreator setTransferCallerId(final Trunk.TransferCallerId transferCallerId){\n        this.transferCallerId = transferCallerId;\n        return this;\n    }\n\n    @Override\n    public Trunk create(final TwilioRestClient client){\n        String path = \"/v1/Trunks\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUNKING.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Trunk creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Trunk.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (domainName != null) {\n            request.addPostParam(\"DomainName\", domainName);\n    \n        }\n        if (disasterRecoveryUrl != null) {\n            request.addPostParam(\"DisasterRecoveryUrl\", disasterRecoveryUrl.toString());\n    \n        }\n        if (disasterRecoveryMethod != null) {\n            request.addPostParam(\"DisasterRecoveryMethod\", disasterRecoveryMethod.toString());\n    \n        }\n        if (transferMode != null) {\n            request.addPostParam(\"TransferMode\", transferMode.toString());\n    \n        }\n        if (secure != null) {\n            request.addPostParam(\"Secure\", secure.toString());\n    \n        }\n        if (cnamLookupEnabled != null) {\n            request.addPostParam(\"CnamLookupEnabled\", cnamLookupEnabled.toString());\n    \n        }\n        if (transferCallerId != null) {\n            request.addPostParam(\"TransferCallerId\", transferCallerId.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trunking.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class TrunkCreator extends Creator<Trunk> {\n    private String friendlyName;\n    private String domainName;\n    private URI disasterRecoveryUrl;\n    private HttpMethod disasterRecoveryMethod;\n    private Trunk.TransferSetting transferMode;\n    private Boolean secure;\n    private Boolean cnamLookupEnabled;\n    private Trunk.TransferCallerId transferCallerId;\n\n    /**\n     * A descriptive string that you create to describe the resource. It can be up\n     * to 64 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public TrunkCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The unique address you reserve on Twilio to which you route your SIP traffic.\n     * Domain names can contain letters, digits, and `-` and must end with\n     * `pstn.twilio.com`. See <a\n     * href=\"https://www.twilio.com/docs/sip-trunking#termination\">Termination\n     * Settings<\/a> for more information..\n     *\n     * @param domainName The unique address you reserve on Twilio to which you\n     *                   route your SIP traffic\n     * @return this\n     */\n    public TrunkCreator setDomainName(final String domainName) {\n        this.domainName = domainName;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `disaster_recovery_method` if an error\n     * occurs while sending SIP traffic towards the configured Origination URL. We\n     * retrieve TwiML from the URL and execute the instructions like any other\n     * normal TwiML call. See <a\n     * href=\"https://www.twilio.com/docs/sip-trunking#disaster-recovery\">Disaster\n     * Recovery<\/a> for more information..\n     *\n     * @param disasterRecoveryUrl The HTTP URL that we should call if an error\n     *                            occurs while sending SIP traffic towards your\n     *                            configured Origination URL\n     * @return this\n     */\n    public TrunkCreator setDisasterRecoveryUrl(final URI disasterRecoveryUrl) {\n        this.disasterRecoveryUrl = disasterRecoveryUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `disaster_recovery_method` if an error\n     * occurs while sending SIP traffic towards the configured Origination URL. We\n     * retrieve TwiML from the URL and execute the instructions like any other\n     * normal TwiML call. See <a\n     * href=\"https://www.twilio.com/docs/sip-trunking#disaster-recovery\">Disaster\n     * Recovery<\/a> for more information..\n     *\n     * @param disasterRecoveryUrl The HTTP URL that we should call if an error\n     *                            occurs while sending SIP traffic towards your\n     *                            configured Origination URL\n     * @return this\n     */\n    public TrunkCreator setDisasterRecoveryUrl(final String disasterRecoveryUrl) {\n        return setDisasterRecoveryUrl(Promoter.uriFromString(disasterRecoveryUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call the `disaster_recovery_url`. Can be:\n     * `GET` or `POST`..\n     *\n     * @param disasterRecoveryMethod The HTTP method we should use to call the\n     *                               disaster_recovery_url\n     * @return this\n     */\n    public TrunkCreator setDisasterRecoveryMethod(final HttpMethod disasterRecoveryMethod) {\n        this.disasterRecoveryMethod = disasterRecoveryMethod;\n        return this;\n    }\n\n    /**\n     * The call transfer settings for the trunk. Can be: `enable-all`, `sip-only`\n     * and `disable-all`. See <a\n     * href=\"https://www.twilio.com/docs/sip-trunking/call-transfer\">Transfer<\/a>\n     * for more information..\n     *\n     * @param transferMode The call transfer settings for the trunk\n     * @return this\n     */\n    public TrunkCreator setTransferMode(final Trunk.TransferSetting transferMode) {\n        this.transferMode = transferMode;\n        return this;\n    }\n\n    /**\n     * Whether Secure Trunking is enabled for the trunk. If enabled, all calls going\n     * through the trunk will be secure using SRTP for media and TLS for signaling.\n     * If disabled, then RTP will be used for media. See <a\n     * href=\"https://www.twilio.com/docs/sip-trunking#securetrunking\">Secure\n     * Trunking<\/a> for more information..\n     *\n     * @param secure Whether Secure Trunking is enabled for the trunk\n     * @return this\n     */\n    public TrunkCreator setSecure(final Boolean secure) {\n        this.secure = secure;\n        return this;\n    }\n\n    /**\n     * Whether Caller ID Name (CNAM) lookup should be enabled for the trunk. If\n     * enabled, all inbound calls to the SIP Trunk from the United States and Canada\n     * automatically perform a CNAM Lookup and display Caller ID data on your phone.\n     * See <a href=\"https://www.twilio.com/docs/sip-trunking#CNAM\">CNAM Lookups<\/a>\n     * for more information..\n     *\n     * @param cnamLookupEnabled Whether Caller ID Name (CNAM) lookup should be\n     *                          enabled for the trunk\n     * @return this\n     */\n    public TrunkCreator setCnamLookupEnabled(final Boolean cnamLookupEnabled) {\n        this.cnamLookupEnabled = cnamLookupEnabled;\n        return this;\n    }\n\n    /**\n     * Caller Id for transfer target. Can be: `from-transferee` (default) or\n     * `from-transferor`..\n     *\n     * @param transferCallerId Caller Id for transfer target\n     * @return this\n     */\n    public TrunkCreator setTransferCallerId(final Trunk.TransferCallerId transferCallerId) {\n        this.transferCallerId = transferCallerId;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Trunk\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Trunk create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUNKING.toString(),\n            \"/v1/Trunks\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Trunk creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Trunk.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (domainName != null) {\n            request.addPostParam(\"DomainName\", domainName);\n        }\n\n        if (disasterRecoveryUrl != null) {\n            request.addPostParam(\"DisasterRecoveryUrl\", disasterRecoveryUrl.toString());\n        }\n\n        if (disasterRecoveryMethod != null) {\n            request.addPostParam(\"DisasterRecoveryMethod\", disasterRecoveryMethod.toString());\n        }\n\n        if (transferMode != null) {\n            request.addPostParam(\"TransferMode\", transferMode.toString());\n        }\n\n        if (secure != null) {\n            request.addPostParam(\"Secure\", secure.toString());\n        }\n\n        if (cnamLookupEnabled != null) {\n            request.addPostParam(\"CnamLookupEnabled\", cnamLookupEnabled.toString());\n        }\n\n        if (transferCallerId != null) {\n            request.addPostParam(\"TransferCallerId\", transferCallerId.toString());\n        }\n    }\n}\n","lineNo":99}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trunking\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trunking.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Trunking\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TrunkReader extends Reader<Trunk> {\n    private Integer pageSize;\n\n    public TrunkReader(){\n    }\n\n    public TrunkReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Trunk> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Trunk> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Trunks\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUNKING.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Trunk> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Trunk read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"trunks\",\n            response.getContent(),\n            Trunk.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Trunk> previousPage(final Page<Trunk> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUNKING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Trunk> nextPage(final Page<Trunk> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUNKING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Trunk> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trunking.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TrunkReader extends Reader<Trunk> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Trunk ResourceSet\n     */\n    @Override\n    public ResourceSet<Trunk> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Trunk ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Trunk> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUNKING.toString(),\n            \"/v1/Trunks\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Trunk ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Trunk> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Trunk> nextPage(final Page<Trunk> page,\n                                final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUNKING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Trunk> previousPage(final Page<Trunk> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUNKING.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Trunk Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Trunk> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Trunk read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"trunks\",\n            response.getContent(),\n            Trunk.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CustomerProfilesCreator extends Creator<CustomerProfiles>{\n    private String friendlyName;\n    private String email;\n    private String policySid;\n    private URI statusCallback;\n\n    public CustomerProfilesCreator(final String friendlyName, final String email, final String policySid) {\n        this.friendlyName = friendlyName;\n        this.email = email;\n        this.policySid = policySid;\n    }\n\n    public CustomerProfilesCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CustomerProfilesCreator setEmail(final String email){\n        this.email = email;\n        return this;\n    }\n    public CustomerProfilesCreator setPolicySid(final String policySid){\n        this.policySid = policySid;\n        return this;\n    }\n    public CustomerProfilesCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public CustomerProfilesCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n\n    @Override\n    public CustomerProfiles create(final TwilioRestClient client){\n        String path = \"/v1/CustomerProfiles\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Email\"+\"}\", this.email.toString());\n        path = path.replace(\"{\"+\"PolicySid\"+\"}\", this.policySid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"CustomerProfiles creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CustomerProfiles.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n    \n        }\n        if (policySid != null) {\n            request.addPostParam(\"PolicySid\", policySid);\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class CustomerProfilesCreator extends Creator<CustomerProfiles> {\n    private final String friendlyName;\n    private final String email;\n    private final String policySid;\n    private URI statusCallback;\n\n    /**\n     * Construct a new CustomerProfilesCreator.\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @param email The email address\n     * @param policySid The unique string of a policy.\n     */\n    public CustomerProfilesCreator(final String friendlyName,\n                                   final String email,\n                                   final String policySid) {\n        this.friendlyName = friendlyName;\n        this.email = email;\n        this.policySid = policySid;\n    }\n\n    /**\n     * The URL we call to inform your application of status changes..\n     *\n     * @param statusCallback The URL we call to inform your application of status\n     *                       changes.\n     * @return this\n     */\n    public CustomerProfilesCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we call to inform your application of status changes..\n     *\n     * @param statusCallback The URL we call to inform your application of status\n     *                       changes.\n     * @return this\n     */\n    public CustomerProfilesCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created CustomerProfiles\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public CustomerProfiles create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/CustomerProfiles\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CustomerProfiles creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CustomerProfiles.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n        }\n\n        if (policySid != null) {\n            request.addPostParam(\"PolicySid\", policySid);\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n    }\n}\n","lineNo":82}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CustomerProfilesReader extends Reader<CustomerProfiles> {\n    private CustomerProfiles.Status status;\n    private String friendlyName;\n    private String policySid;\n    private Integer pageSize;\n\n    public CustomerProfilesReader(){\n    }\n\n    public CustomerProfilesReader setStatus(final CustomerProfiles.Status status){\n        this.status = status;\n        return this;\n    }\n    public CustomerProfilesReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CustomerProfilesReader setPolicySid(final String policySid){\n        this.policySid = policySid;\n        return this;\n    }\n    public CustomerProfilesReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<CustomerProfiles> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<CustomerProfiles> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/CustomerProfiles\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<CustomerProfiles> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CustomerProfiles read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            CustomerProfiles.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<CustomerProfiles> previousPage(final Page<CustomerProfiles> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<CustomerProfiles> nextPage(final Page<CustomerProfiles> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<CustomerProfiles> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (policySid != null) {\n    \n            request.addQueryParam(\"PolicySid\", policySid);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CustomerProfilesReader extends Reader<CustomerProfiles> {\n    private CustomerProfiles.Status status;\n    private String friendlyName;\n    private String policySid;\n\n    /**\n     * The verification status of the Customer-Profile resource..\n     *\n     * @param status The verification status of the Customer-Profile resource\n     * @return this\n     */\n    public CustomerProfilesReader setStatus(final CustomerProfiles.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The string that you assigned to describe the resource..\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @return this\n     */\n    public CustomerProfilesReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The unique string of a policy that is associated to the Customer-Profile\n     * resource..\n     *\n     * @param policySid The unique string of a policy.\n     * @return this\n     */\n    public CustomerProfilesReader setPolicySid(final String policySid) {\n        this.policySid = policySid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return CustomerProfiles ResourceSet\n     */\n    @Override\n    public ResourceSet<CustomerProfiles> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return CustomerProfiles ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<CustomerProfiles> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/CustomerProfiles\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return CustomerProfiles ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<CustomerProfiles> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<CustomerProfiles> nextPage(final Page<CustomerProfiles> page,\n                                           final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<CustomerProfiles> previousPage(final Page<CustomerProfiles> page,\n                                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of CustomerProfiles Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<CustomerProfiles> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CustomerProfiles read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            CustomerProfiles.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (policySid != null) {\n            request.addQueryParam(\"PolicySid\", policySid);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EndUserCreator extends Creator<EndUser>{\n    private String friendlyName;\n    private String type;\n    private Map<String, Object> attributes;\n\n    public EndUserCreator(final String friendlyName, final String type) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n    }\n\n    public EndUserCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public EndUserCreator setType(final String type){\n        this.type = type;\n        return this;\n    }\n    public EndUserCreator setAttributes(final Map<String, Object> attributes){\n        this.attributes = attributes;\n        return this;\n    }\n\n    @Override\n    public EndUser create(final TwilioRestClient client){\n        String path = \"/v1/EndUsers\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUser creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return EndUser.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (type != null) {\n            request.addPostParam(\"Type\", type);\n    \n        }\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\",  Converter.mapToJson(attributes));\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\npublic class EndUserCreator extends Creator<EndUser> {\n    private final String friendlyName;\n    private final String type;\n    private Map<String, Object> attributes;\n\n    /**\n     * Construct a new EndUserCreator.\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @param type The type of end user of the Bundle resource\n     */\n    public EndUserCreator(final String friendlyName,\n                          final String type) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n    }\n\n    /**\n     * The set of parameters that are the attributes of the End User resource which\n     * are derived End User Types..\n     *\n     * @param attributes The set of parameters that compose the End User resource\n     * @return this\n     */\n    public EndUserCreator setAttributes(final Map<String, Object> attributes) {\n        this.attributes = attributes;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created EndUser\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public EndUser create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/EndUsers\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUser creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return EndUser.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (type != null) {\n            request.addPostParam(\"Type\", type);\n        }\n\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\", Converter.mapToJson(attributes));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EndUserReader extends Reader<EndUser> {\n    private Integer pageSize;\n\n    public EndUserReader(){\n    }\n\n    public EndUserReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<EndUser> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<EndUser> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/EndUsers\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<EndUser> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUser read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            EndUser.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<EndUser> previousPage(final Page<EndUser> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<EndUser> nextPage(final Page<EndUser> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<EndUser> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class EndUserReader extends Reader<EndUser> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUser ResourceSet\n     */\n    @Override\n    public ResourceSet<EndUser> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUser ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EndUser> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/EndUsers\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUser ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EndUser> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<EndUser> nextPage(final Page<EndUser> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<EndUser> previousPage(final Page<EndUser> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of EndUser Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<EndUser> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUser read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            EndUser.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class EndUserTypeReader extends Reader<EndUserType> {\n    private Integer pageSize;\n\n    public EndUserTypeReader(){\n    }\n\n    public EndUserTypeReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<EndUserType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<EndUserType> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/EndUserTypes\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<EndUserType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUserType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"end_user_types\",\n            response.getContent(),\n            EndUserType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<EndUserType> previousPage(final Page<EndUserType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<EndUserType> nextPage(final Page<EndUserType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<EndUserType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class EndUserTypeReader extends Reader<EndUserType> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUserType ResourceSet\n     */\n    @Override\n    public ResourceSet<EndUserType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUserType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EndUserType> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/EndUserTypes\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return EndUserType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<EndUserType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<EndUserType> nextPage(final Page<EndUserType> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<EndUserType> previousPage(final Page<EndUserType> page,\n                                          final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of EndUserType Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<EndUserType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"EndUserType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"end_user_types\",\n            response.getContent(),\n            EndUserType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class PoliciesReader extends Reader<Policies> {\n    private Integer pageSize;\n\n    public PoliciesReader(){\n    }\n\n    public PoliciesReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Policies> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Policies> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Policies\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Policies> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Policies read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            Policies.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Policies> previousPage(final Page<Policies> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Policies> nextPage(final Page<Policies> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Policies> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class PoliciesReader extends Reader<Policies> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Policies ResourceSet\n     */\n    @Override\n    public ResourceSet<Policies> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Policies ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Policies> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/Policies\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Policies ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Policies> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Policies> nextPage(final Page<Policies> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Policies> previousPage(final Page<Policies> page,\n                                       final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Policies Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Policies> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Policies read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            Policies.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\n\nimport java.util.Map;\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SupportingDocumentCreator extends Creator<SupportingDocument>{\n    private String friendlyName;\n    private String type;\n    private Map<String, Object> attributes;\n\n    public SupportingDocumentCreator(final String friendlyName, final String type) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n    }\n\n    public SupportingDocumentCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public SupportingDocumentCreator setType(final String type){\n        this.type = type;\n        return this;\n    }\n    public SupportingDocumentCreator setAttributes(final Map<String, Object> attributes){\n        this.attributes = attributes;\n        return this;\n    }\n\n    @Override\n    public SupportingDocument create(final TwilioRestClient client){\n        String path = \"/v1/SupportingDocuments\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Type\"+\"}\", this.type.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocument creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SupportingDocument.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (type != null) {\n            request.addPostParam(\"Type\", type);\n    \n        }\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\",  Converter.mapToJson(attributes));\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.Map;\n\npublic class SupportingDocumentCreator extends Creator<SupportingDocument> {\n    private final String friendlyName;\n    private final String type;\n    private Map<String, Object> attributes;\n\n    /**\n     * Construct a new SupportingDocumentCreator.\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @param type The type of the Supporting Document\n     */\n    public SupportingDocumentCreator(final String friendlyName,\n                                     final String type) {\n        this.friendlyName = friendlyName;\n        this.type = type;\n    }\n\n    /**\n     * The set of parameters that are the attributes of the Supporting Documents\n     * resource which are derived Supporting Document Types..\n     *\n     * @param attributes The set of parameters that compose the Supporting\n     *                   Documents resource\n     * @return this\n     */\n    public SupportingDocumentCreator setAttributes(final Map<String, Object> attributes) {\n        this.attributes = attributes;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created SupportingDocument\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public SupportingDocument create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/SupportingDocuments\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocument creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SupportingDocument.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (type != null) {\n            request.addPostParam(\"Type\", type);\n        }\n\n        if (attributes != null) {\n            request.addPostParam(\"Attributes\", Converter.mapToJson(attributes));\n        }\n    }\n}\n","lineNo":72}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SupportingDocumentReader extends Reader<SupportingDocument> {\n    private Integer pageSize;\n\n    public SupportingDocumentReader(){\n    }\n\n    public SupportingDocumentReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<SupportingDocument> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<SupportingDocument> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/SupportingDocuments\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<SupportingDocument> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocument read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            SupportingDocument.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<SupportingDocument> previousPage(final Page<SupportingDocument> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<SupportingDocument> nextPage(final Page<SupportingDocument> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<SupportingDocument> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SupportingDocumentReader extends Reader<SupportingDocument> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocument ResourceSet\n     */\n    @Override\n    public ResourceSet<SupportingDocument> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocument ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SupportingDocument> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/SupportingDocuments\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocument ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SupportingDocument> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<SupportingDocument> nextPage(final Page<SupportingDocument> page,\n                                             final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<SupportingDocument> previousPage(final Page<SupportingDocument> page,\n                                                 final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of SupportingDocument Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<SupportingDocument> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocument read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            SupportingDocument.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SupportingDocumentTypeReader extends Reader<SupportingDocumentType> {\n    private Integer pageSize;\n\n    public SupportingDocumentTypeReader(){\n    }\n\n    public SupportingDocumentTypeReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<SupportingDocumentType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<SupportingDocumentType> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/SupportingDocumentTypes\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<SupportingDocumentType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocumentType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"supporting_document_types\",\n            response.getContent(),\n            SupportingDocumentType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<SupportingDocumentType> previousPage(final Page<SupportingDocumentType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<SupportingDocumentType> nextPage(final Page<SupportingDocumentType> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<SupportingDocumentType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SupportingDocumentTypeReader extends Reader<SupportingDocumentType> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocumentType ResourceSet\n     */\n    @Override\n    public ResourceSet<SupportingDocumentType> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocumentType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SupportingDocumentType> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/SupportingDocumentTypes\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return SupportingDocumentType ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SupportingDocumentType> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<SupportingDocumentType> nextPage(final Page<SupportingDocumentType> page,\n                                                 final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<SupportingDocumentType> previousPage(final Page<SupportingDocumentType> page,\n                                                     final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of SupportingDocumentType Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<SupportingDocumentType> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SupportingDocumentType read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"supporting_document_types\",\n            response.getContent(),\n            SupportingDocumentType.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TrustProductsCreator extends Creator<TrustProducts>{\n    private String friendlyName;\n    private String email;\n    private String policySid;\n    private URI statusCallback;\n\n    public TrustProductsCreator(final String friendlyName, final String email, final String policySid) {\n        this.friendlyName = friendlyName;\n        this.email = email;\n        this.policySid = policySid;\n    }\n\n    public TrustProductsCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public TrustProductsCreator setEmail(final String email){\n        this.email = email;\n        return this;\n    }\n    public TrustProductsCreator setPolicySid(final String policySid){\n        this.policySid = policySid;\n        return this;\n    }\n    public TrustProductsCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public TrustProductsCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n\n    @Override\n    public TrustProducts create(final TwilioRestClient client){\n        String path = \"/v1/TrustProducts\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n        path = path.replace(\"{\"+\"Email\"+\"}\", this.email.toString());\n        path = path.replace(\"{\"+\"PolicySid\"+\"}\", this.policySid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"TrustProducts creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return TrustProducts.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n    \n        }\n        if (policySid != null) {\n            request.addPostParam(\"PolicySid\", policySid);\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class TrustProductsCreator extends Creator<TrustProducts> {\n    private final String friendlyName;\n    private final String email;\n    private final String policySid;\n    private URI statusCallback;\n\n    /**\n     * Construct a new TrustProductsCreator.\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @param email The email address\n     * @param policySid The unique string of a policy.\n     */\n    public TrustProductsCreator(final String friendlyName,\n                                final String email,\n                                final String policySid) {\n        this.friendlyName = friendlyName;\n        this.email = email;\n        this.policySid = policySid;\n    }\n\n    /**\n     * The URL we call to inform your application of status changes..\n     *\n     * @param statusCallback The URL we call to inform your application of status\n     *                       changes.\n     * @return this\n     */\n    public TrustProductsCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we call to inform your application of status changes..\n     *\n     * @param statusCallback The URL we call to inform your application of status\n     *                       changes.\n     * @return this\n     */\n    public TrustProductsCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created TrustProducts\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public TrustProducts create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/TrustProducts\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"TrustProducts creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return TrustProducts.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (email != null) {\n            request.addPostParam(\"Email\", email);\n        }\n\n        if (policySid != null) {\n            request.addPostParam(\"PolicySid\", policySid);\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n    }\n}\n","lineNo":82}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Trusthub\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Trusthub\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TrustProductsReader extends Reader<TrustProducts> {\n    private TrustProducts.Status status;\n    private String friendlyName;\n    private String policySid;\n    private Integer pageSize;\n\n    public TrustProductsReader(){\n    }\n\n    public TrustProductsReader setStatus(final TrustProducts.Status status){\n        this.status = status;\n        return this;\n    }\n    public TrustProductsReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public TrustProductsReader setPolicySid(final String policySid){\n        this.policySid = policySid;\n        return this;\n    }\n    public TrustProductsReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<TrustProducts> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<TrustProducts> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/TrustProducts\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<TrustProducts> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"TrustProducts read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            TrustProducts.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<TrustProducts> previousPage(final Page<TrustProducts> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<TrustProducts> nextPage(final Page<TrustProducts> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<TrustProducts> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (policySid != null) {\n    \n            request.addQueryParam(\"PolicySid\", policySid);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.trusthub.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TrustProductsReader extends Reader<TrustProducts> {\n    private TrustProducts.Status status;\n    private String friendlyName;\n    private String policySid;\n\n    /**\n     * The verification status of the Customer-Profile resource..\n     *\n     * @param status The verification status of the Customer-Profile resource\n     * @return this\n     */\n    public TrustProductsReader setStatus(final TrustProducts.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * The string that you assigned to describe the resource..\n     *\n     * @param friendlyName The string that you assigned to describe the resource\n     * @return this\n     */\n    public TrustProductsReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The unique string of a policy that is associated to the Customer-Profile\n     * resource..\n     *\n     * @param policySid The unique string of a policy.\n     * @return this\n     */\n    public TrustProductsReader setPolicySid(final String policySid) {\n        this.policySid = policySid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return TrustProducts ResourceSet\n     */\n    @Override\n    public ResourceSet<TrustProducts> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return TrustProducts ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<TrustProducts> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.TRUSTHUB.toString(),\n            \"/v1/TrustProducts\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return TrustProducts ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<TrustProducts> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<TrustProducts> nextPage(final Page<TrustProducts> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<TrustProducts> previousPage(final Page<TrustProducts> page,\n                                            final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.TRUSTHUB.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of TrustProducts Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<TrustProducts> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"TrustProducts read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"results\",\n            response.getContent(),\n            TrustProducts.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (policySid != null) {\n            request.addQueryParam(\"PolicySid\", policySid);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":77}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Verify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Verify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SafelistCreator extends Creator<Safelist>{\n    private String phoneNumber;\n\n    public SafelistCreator(final String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public SafelistCreator setPhoneNumber(final String phoneNumber){\n        this.phoneNumber = phoneNumber;\n        return this;\n    }\n\n    @Override\n    public Safelist create(final TwilioRestClient client){\n        String path = \"/v2/SafeList/Numbers\";\n\n        path = path.replace(\"{\"+\"PhoneNumber\"+\"}\", this.phoneNumber.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VERIFY.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Safelist creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Safelist.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (phoneNumber != null) {\n            request.addPostParam(\"PhoneNumber\", phoneNumber);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains beta products that are subject to\n * change. Use them with caution.\n */\npublic class SafelistCreator extends Creator<Safelist> {\n    private final String phoneNumber;\n\n    /**\n     * Construct a new SafelistCreator.\n     *\n     * @param phoneNumber The phone number to be added in SafeList.\n     */\n    public SafelistCreator(final String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Safelist\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Safelist create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VERIFY.toString(),\n            \"/v2/SafeList/Numbers\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Safelist creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Safelist.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (phoneNumber != null) {\n            request.addPostParam(\"PhoneNumber\", phoneNumber);\n        }\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Verify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Verify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceCreator extends Creator<Service>{\n    private String friendlyName;\n    private Integer codeLength;\n    private Boolean lookupEnabled;\n    private Boolean skipSmsToLandlines;\n    private Boolean dtmfInputRequired;\n    private String ttsName;\n    private Boolean psd2Enabled;\n    private Boolean doNotShareWarningEnabled;\n    private Boolean customCodeEnabled;\n    private Boolean pushIncludeDate;\n    private String pushApnCredentialSid;\n    private String pushFcmCredentialSid;\n    private String totpIssuer;\n    private Integer totpTimeStep;\n    private Integer totpCodeLength;\n    private Integer totpSkew;\n    private String defaultTemplateSid;\n\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public ServiceCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ServiceCreator setCodeLength(final Integer codeLength){\n        this.codeLength = codeLength;\n        return this;\n    }\n    public ServiceCreator setLookupEnabled(final Boolean lookupEnabled){\n        this.lookupEnabled = lookupEnabled;\n        return this;\n    }\n    public ServiceCreator setSkipSmsToLandlines(final Boolean skipSmsToLandlines){\n        this.skipSmsToLandlines = skipSmsToLandlines;\n        return this;\n    }\n    public ServiceCreator setDtmfInputRequired(final Boolean dtmfInputRequired){\n        this.dtmfInputRequired = dtmfInputRequired;\n        return this;\n    }\n    public ServiceCreator setTtsName(final String ttsName){\n        this.ttsName = ttsName;\n        return this;\n    }\n    public ServiceCreator setPsd2Enabled(final Boolean psd2Enabled){\n        this.psd2Enabled = psd2Enabled;\n        return this;\n    }\n    public ServiceCreator setDoNotShareWarningEnabled(final Boolean doNotShareWarningEnabled){\n        this.doNotShareWarningEnabled = doNotShareWarningEnabled;\n        return this;\n    }\n    public ServiceCreator setCustomCodeEnabled(final Boolean customCodeEnabled){\n        this.customCodeEnabled = customCodeEnabled;\n        return this;\n    }\n    public ServiceCreator setPushIncludeDate(final Boolean pushIncludeDate){\n        this.pushIncludeDate = pushIncludeDate;\n        return this;\n    }\n    public ServiceCreator setPushApnCredentialSid(final String pushApnCredentialSid){\n        this.pushApnCredentialSid = pushApnCredentialSid;\n        return this;\n    }\n    public ServiceCreator setPushFcmCredentialSid(final String pushFcmCredentialSid){\n        this.pushFcmCredentialSid = pushFcmCredentialSid;\n        return this;\n    }\n    public ServiceCreator setTotpIssuer(final String totpIssuer){\n        this.totpIssuer = totpIssuer;\n        return this;\n    }\n    public ServiceCreator setTotpTimeStep(final Integer totpTimeStep){\n        this.totpTimeStep = totpTimeStep;\n        return this;\n    }\n    public ServiceCreator setTotpCodeLength(final Integer totpCodeLength){\n        this.totpCodeLength = totpCodeLength;\n        return this;\n    }\n    public ServiceCreator setTotpSkew(final Integer totpSkew){\n        this.totpSkew = totpSkew;\n        return this;\n    }\n    public ServiceCreator setDefaultTemplateSid(final String defaultTemplateSid){\n        this.defaultTemplateSid = defaultTemplateSid;\n        return this;\n    }\n\n    @Override\n    public Service create(final TwilioRestClient client){\n        String path = \"/v2/Services\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VERIFY.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (codeLength != null) {\n            request.addPostParam(\"CodeLength\", codeLength.toString());\n    \n        }\n        if (lookupEnabled != null) {\n            request.addPostParam(\"LookupEnabled\", lookupEnabled.toString());\n    \n        }\n        if (skipSmsToLandlines != null) {\n            request.addPostParam(\"SkipSmsToLandlines\", skipSmsToLandlines.toString());\n    \n        }\n        if (dtmfInputRequired != null) {\n            request.addPostParam(\"DtmfInputRequired\", dtmfInputRequired.toString());\n    \n        }\n        if (ttsName != null) {\n            request.addPostParam(\"TtsName\", ttsName);\n    \n        }\n        if (psd2Enabled != null) {\n            request.addPostParam(\"Psd2Enabled\", psd2Enabled.toString());\n    \n        }\n        if (doNotShareWarningEnabled != null) {\n            request.addPostParam(\"DoNotShareWarningEnabled\", doNotShareWarningEnabled.toString());\n    \n        }\n        if (customCodeEnabled != null) {\n            request.addPostParam(\"CustomCodeEnabled\", customCodeEnabled.toString());\n    \n        }\n        if (pushIncludeDate != null) {\n            request.addPostParam(\"PushIncludeDate\", pushIncludeDate.toString());\n    \n        }\n        if (pushApnCredentialSid != null) {\n            request.addPostParam(\"Push.ApnCredentialSid\", pushApnCredentialSid);\n    \n        }\n        if (pushFcmCredentialSid != null) {\n            request.addPostParam(\"Push.FcmCredentialSid\", pushFcmCredentialSid);\n    \n        }\n        if (totpIssuer != null) {\n            request.addPostParam(\"Totp.Issuer\", totpIssuer);\n    \n        }\n        if (totpTimeStep != null) {\n            request.addPostParam(\"TotpTimeStep\", totpTimeStep.toString());\n    \n        }\n        if (totpCodeLength != null) {\n            request.addPostParam(\"TotpCodeLength\", totpCodeLength.toString());\n    \n        }\n        if (totpSkew != null) {\n            request.addPostParam(\"TotpSkew\", totpSkew.toString());\n    \n        }\n        if (defaultTemplateSid != null) {\n            request.addPostParam(\"DefaultTemplateSid\", defaultTemplateSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceCreator extends Creator<Service> {\n    private final String friendlyName;\n    private Integer codeLength;\n    private Boolean lookupEnabled;\n    private Boolean skipSmsToLandlines;\n    private Boolean dtmfInputRequired;\n    private String ttsName;\n    private Boolean psd2Enabled;\n    private Boolean doNotShareWarningEnabled;\n    private Boolean customCodeEnabled;\n    private Boolean pushIncludeDate;\n    private String pushApnCredentialSid;\n    private String pushFcmCredentialSid;\n    private String totpIssuer;\n    private Integer totpTimeStep;\n    private Integer totpCodeLength;\n    private Integer totpSkew;\n    private String defaultTemplateSid;\n\n    /**\n     * Construct a new ServiceCreator.\n     *\n     * @param friendlyName A string to describe the verification service\n     */\n    public ServiceCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * The length of the verification code to generate. Must be an integer value\n     * between 4 and 10, inclusive..\n     *\n     * @param codeLength The length of the verification code to generate\n     * @return this\n     */\n    public ServiceCreator setCodeLength(final Integer codeLength) {\n        this.codeLength = codeLength;\n        return this;\n    }\n\n    /**\n     * Whether to perform a lookup with each verification started and return info\n     * about the phone number..\n     *\n     * @param lookupEnabled Whether to perform a lookup with each verification\n     * @return this\n     */\n    public ServiceCreator setLookupEnabled(final Boolean lookupEnabled) {\n        this.lookupEnabled = lookupEnabled;\n        return this;\n    }\n\n    /**\n     * Whether to skip sending SMS verifications to landlines. Requires\n     * `lookup_enabled`..\n     *\n     * @param skipSmsToLandlines Whether to skip sending SMS verifications to\n     *                           landlines\n     * @return this\n     */\n    public ServiceCreator setSkipSmsToLandlines(final Boolean skipSmsToLandlines) {\n        this.skipSmsToLandlines = skipSmsToLandlines;\n        return this;\n    }\n\n    /**\n     * Whether to ask the user to press a number before delivering the verify code\n     * in a phone call..\n     *\n     * @param dtmfInputRequired Whether to ask the user to press a number before\n     *                          delivering the verify code in a phone call\n     * @return this\n     */\n    public ServiceCreator setDtmfInputRequired(final Boolean dtmfInputRequired) {\n        this.dtmfInputRequired = dtmfInputRequired;\n        return this;\n    }\n\n    /**\n     * The name of an alternative text-to-speech service to use in phone calls.\n     * Applies only to TTS languages..\n     *\n     * @param ttsName The name of an alternative text-to-speech service to use in\n     *                phone calls\n     * @return this\n     */\n    public ServiceCreator setTtsName(final String ttsName) {\n        this.ttsName = ttsName;\n        return this;\n    }\n\n    /**\n     * Whether to pass PSD2 transaction parameters when starting a verification..\n     *\n     * @param psd2Enabled Whether to pass PSD2 transaction parameters when starting\n     *                    a verification\n     * @return this\n     */\n    public ServiceCreator setPsd2Enabled(final Boolean psd2Enabled) {\n        this.psd2Enabled = psd2Enabled;\n        return this;\n    }\n\n    /**\n     * Whether to add a security warning at the end of an SMS verification body.\n     * Disabled by default and applies only to SMS. Example SMS body: `Your AppName\n     * verification code is: 1234. Don\u20act share this code with anyone; our employees\n     * will never ask for the code`.\n     *\n     * @param doNotShareWarningEnabled Whether to add a security warning at the end\n     *                                 of an SMS.\n     * @return this\n     */\n    public ServiceCreator setDoNotShareWarningEnabled(final Boolean doNotShareWarningEnabled) {\n        this.doNotShareWarningEnabled = doNotShareWarningEnabled;\n        return this;\n    }\n\n    /**\n     * Whether to allow sending verifications with a custom code instead of a\n     * randomly generated one. Not available for all customers..\n     *\n     * @param customCodeEnabled Whether to allow sending verifications with a\n     *                          custom code.\n     * @return this\n     */\n    public ServiceCreator setCustomCodeEnabled(final Boolean customCodeEnabled) {\n        this.customCodeEnabled = customCodeEnabled;\n        return this;\n    }\n\n    /**\n     * Optional configuration for the Push factors. If true, include the date in the\n     * Challenge's response. Otherwise, the date is omitted from the response. See\n     * <a href=\"https://www.twilio.com/docs/verify/api/challenge\">Challenge<\/a>\n     * resource\u20acs details parameter for more info. Default: false. **Deprecated** do\n     * not use this parameter. This timestamp value is the same one as the one found\n     * in `date_created`, please use that one instead..\n     *\n     * @param pushIncludeDate Optional. Include the date in the Challenge's\n     *                        response. Default: false. **Deprecated** do not use\n     *                        this parameter.\n     * @return this\n     */\n    public ServiceCreator setPushIncludeDate(final Boolean pushIncludeDate) {\n        this.pushIncludeDate = pushIncludeDate;\n        return this;\n    }\n\n    /**\n     * Optional configuration for the Push factors. Set the APN Credential for this\n     * service. This will allow to send push notifications to iOS devices. See <a\n     * href=\"https://www.twilio.com/docs/notify/api/credential-resource\">Credential\n     * Resource<\/a>.\n     *\n     * @param pushApnCredentialSid Optional. Set APN Credential for this service.\n     * @return this\n     */\n    public ServiceCreator setPushApnCredentialSid(final String pushApnCredentialSid) {\n        this.pushApnCredentialSid = pushApnCredentialSid;\n        return this;\n    }\n\n    /**\n     * Optional configuration for the Push factors. Set the FCM Credential for this\n     * service. This will allow to send push notifications to Android devices. See\n     * <a\n     * href=\"https://www.twilio.com/docs/notify/api/credential-resource\">Credential\n     * Resource<\/a>.\n     *\n     * @param pushFcmCredentialSid Optional. Set FCM Credential for this service.\n     * @return this\n     */\n    public ServiceCreator setPushFcmCredentialSid(final String pushFcmCredentialSid) {\n        this.pushFcmCredentialSid = pushFcmCredentialSid;\n        return this;\n    }\n\n    /**\n     * Optional configuration for the TOTP factors. Set TOTP Issuer for this\n     * service. This will allow to configure the issuer of the TOTP URI. Defaults to\n     * the service friendly name if not provided..\n     *\n     * @param totpIssuer Optional. Set TOTP Issuer for this service.\n     * @return this\n     */\n    public ServiceCreator setTotpIssuer(final String totpIssuer) {\n        this.totpIssuer = totpIssuer;\n        return this;\n    }\n\n    /**\n     * Optional configuration for the TOTP factors. Defines how often, in seconds,\n     * are TOTP codes generated. i.e, a new TOTP code is generated every time_step\n     * seconds. Must be between 20 and 60 seconds, inclusive. Defaults to 30\n     * seconds.\n     *\n     * @param totpTimeStep Optional. How often, in seconds, are TOTP codes generated\n     * @return this\n     */\n    public ServiceCreator setTotpTimeStep(final Integer totpTimeStep) {\n        this.totpTimeStep = totpTimeStep;\n        return this;\n    }\n\n    /**\n     * Optional configuration for the TOTP factors. Number of digits for generated\n     * TOTP codes. Must be between 3 and 8, inclusive. Defaults to 6.\n     *\n     * @param totpCodeLength Optional. Number of digits for generated TOTP codes\n     * @return this\n     */\n    public ServiceCreator setTotpCodeLength(final Integer totpCodeLength) {\n        this.totpCodeLength = totpCodeLength;\n        return this;\n    }\n\n    /**\n     * Optional configuration for the TOTP factors. The number of time-steps, past\n     * and future, that are valid for validation of TOTP codes. Must be between 0\n     * and 2, inclusive. Defaults to 1.\n     *\n     * @param totpSkew Optional. The number of past and future time-steps valid at\n     *                 a given time\n     * @return this\n     */\n    public ServiceCreator setTotpSkew(final Integer totpSkew) {\n        this.totpSkew = totpSkew;\n        return this;\n    }\n\n    /**\n     * The default message <a\n     * href=\"https://www.twilio.com/docs/verify/api/templates\">template<\/a>. Will be\n     * used for all SMS verifications unless explicitly overriden. SMS channel\n     * only..\n     *\n     * @param defaultTemplateSid The verification template SMS messages.\n     * @return this\n     */\n    public ServiceCreator setDefaultTemplateSid(final String defaultTemplateSid) {\n        this.defaultTemplateSid = defaultTemplateSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Service\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Service create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VERIFY.toString(),\n            \"/v2/Services\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Service.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (codeLength != null) {\n            request.addPostParam(\"CodeLength\", codeLength.toString());\n        }\n\n        if (lookupEnabled != null) {\n            request.addPostParam(\"LookupEnabled\", lookupEnabled.toString());\n        }\n\n        if (skipSmsToLandlines != null) {\n            request.addPostParam(\"SkipSmsToLandlines\", skipSmsToLandlines.toString());\n        }\n\n        if (dtmfInputRequired != null) {\n            request.addPostParam(\"DtmfInputRequired\", dtmfInputRequired.toString());\n        }\n\n        if (ttsName != null) {\n            request.addPostParam(\"TtsName\", ttsName);\n        }\n\n        if (psd2Enabled != null) {\n            request.addPostParam(\"Psd2Enabled\", psd2Enabled.toString());\n        }\n\n        if (doNotShareWarningEnabled != null) {\n            request.addPostParam(\"DoNotShareWarningEnabled\", doNotShareWarningEnabled.toString());\n        }\n\n        if (customCodeEnabled != null) {\n            request.addPostParam(\"CustomCodeEnabled\", customCodeEnabled.toString());\n        }\n\n        if (pushIncludeDate != null) {\n            request.addPostParam(\"Push.IncludeDate\", pushIncludeDate.toString());\n        }\n\n        if (pushApnCredentialSid != null) {\n            request.addPostParam(\"Push.ApnCredentialSid\", pushApnCredentialSid);\n        }\n\n        if (pushFcmCredentialSid != null) {\n            request.addPostParam(\"Push.FcmCredentialSid\", pushFcmCredentialSid);\n        }\n\n        if (totpIssuer != null) {\n            request.addPostParam(\"Totp.Issuer\", totpIssuer);\n        }\n\n        if (totpTimeStep != null) {\n            request.addPostParam(\"Totp.TimeStep\", totpTimeStep.toString());\n        }\n\n        if (totpCodeLength != null) {\n            request.addPostParam(\"Totp.CodeLength\", totpCodeLength.toString());\n        }\n\n        if (totpSkew != null) {\n            request.addPostParam(\"Totp.Skew\", totpSkew.toString());\n        }\n\n        if (defaultTemplateSid != null) {\n            request.addPostParam(\"DefaultTemplateSid\", defaultTemplateSid);\n        }\n    }\n}\n","lineNo":137}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Verify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Verify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ServiceReader extends Reader<Service> {\n    private Integer pageSize;\n\n    public ServiceReader(){\n    }\n\n    public ServiceReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Services\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VERIFY.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Service> previousPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Service> nextPage(final Page<Service> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ServiceReader extends Reader<Service> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    public ResourceSet<Service> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VERIFY.toString(),\n            \"/v2/Services\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Service ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Service> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Service> nextPage(final Page<Service> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Service> previousPage(final Page<Service> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Service Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Service> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Service read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"services\",\n            response.getContent(),\n            Service.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Verify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Verify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class TemplateReader extends Reader<Template> {\n    private String friendlyName;\n    private Integer pageSize;\n\n    public TemplateReader(){\n    }\n\n    public TemplateReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public TemplateReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Template> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Template> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Templates\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VERIFY.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Template> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Template read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"templates\",\n            response.getContent(),\n            Template.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Template> previousPage(final Page<Template> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Template> nextPage(final Page<Template> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Template> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class TemplateReader extends Reader<Template> {\n    private String friendlyName;\n\n    /**\n     * String filter used to query templates with a given friendly name.\n     *\n     * @param friendlyName Filter templates using friendly name\n     * @return this\n     */\n    public TemplateReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Template ResourceSet\n     */\n    @Override\n    public ResourceSet<Template> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Template ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Template> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VERIFY.toString(),\n            \"/v2/Templates\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Template ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Template> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Template> nextPage(final Page<Template> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Template> previousPage(final Page<Template> page,\n                                       final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Template Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Template> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Template read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"templates\",\n            response.getContent(),\n            Template.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Verify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Verify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class VerificationAttemptReader extends Reader<VerificationAttempt> {\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private String channelDataTo;\n    private String country;\n    private VerificationAttempt.Channels channel;\n    private String verifyServiceSid;\n    private String verificationSid;\n    private VerificationAttempt.ConversionStatus status;\n    private Integer pageSize;\n\n    public VerificationAttemptReader(){\n    }\n\n    public VerificationAttemptReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter){\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n    public VerificationAttemptReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore){\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n    public VerificationAttemptReader setChannelDataTo(final String channelDataTo){\n        this.channelDataTo = channelDataTo;\n        return this;\n    }\n    public VerificationAttemptReader setCountry(final String country){\n        this.country = country;\n        return this;\n    }\n    public VerificationAttemptReader setChannel(final VerificationAttempt.Channels channel){\n        this.channel = channel;\n        return this;\n    }\n    public VerificationAttemptReader setVerifyServiceSid(final String verifyServiceSid){\n        this.verifyServiceSid = verifyServiceSid;\n        return this;\n    }\n    public VerificationAttemptReader setVerificationSid(final String verificationSid){\n        this.verificationSid = verificationSid;\n        return this;\n    }\n    public VerificationAttemptReader setStatus(final VerificationAttempt.ConversionStatus status){\n        this.status = status;\n        return this;\n    }\n    public VerificationAttemptReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<VerificationAttempt> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<VerificationAttempt> firstPage(final TwilioRestClient client) {\n        String path = \"/v2/Attempts\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VERIFY.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<VerificationAttempt> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"VerificationAttempt read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"attempts\",\n            response.getContent(),\n            VerificationAttempt.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<VerificationAttempt> previousPage(final Page<VerificationAttempt> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<VerificationAttempt> nextPage(final Page<VerificationAttempt> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<VerificationAttempt> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (channelDataTo != null) {\n    \n            request.addQueryParam(\"ChannelData.To\", channelDataTo);\n        }\n        if (country != null) {\n    \n            request.addQueryParam(\"Country\", country);\n        }\n        if (channel != null) {\n    \n            request.addQueryParam(\"Channel\", channel.toString());\n        }\n        if (verifyServiceSid != null) {\n    \n            request.addQueryParam(\"VerifyServiceSid\", verifyServiceSid);\n        }\n        if (verificationSid != null) {\n    \n            request.addQueryParam(\"VerificationSid\", verificationSid);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class VerificationAttemptReader extends Reader<VerificationAttempt> {\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private String channelDataTo;\n    private String country;\n    private VerificationAttempt.Channels channel;\n    private String verifyServiceSid;\n    private String verificationSid;\n    private VerificationAttempt.ConversionStatus status;\n\n    /**\n     * Datetime filter used to query Verification Attempts created after this\n     * datetime. Given as GMT in RFC 2822 format..\n     *\n     * @param dateCreatedAfter Filter verification attempts after this date.\n     * @return this\n     */\n    public VerificationAttemptReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter) {\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n\n    /**\n     * Datetime filter used to query Verification Attempts created before this\n     * datetime. Given as GMT in RFC 2822 format..\n     *\n     * @param dateCreatedBefore Filter verification attempts before this date.\n     * @return this\n     */\n    public VerificationAttemptReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore) {\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n\n    /**\n     * Destination of a verification. It is phone number in E.164 format..\n     *\n     * @param channelDataTo Filters by destination of the verification attempt.\n     * @return this\n     */\n    public VerificationAttemptReader setChannelDataTo(final String channelDataTo) {\n        this.channelDataTo = channelDataTo;\n        return this;\n    }\n\n    /**\n     * Filter used to query Verification Attempts sent to the specified destination\n     * country..\n     *\n     * @param country Filter verification attempts by destination country.\n     * @return this\n     */\n    public VerificationAttemptReader setCountry(final String country) {\n        this.country = country;\n        return this;\n    }\n\n    /**\n     * Filter used to query Verification Attempts by communication channel. Valid\n     * values are `SMS` and `CALL`.\n     *\n     * @param channel Filter verification attempts by communication channel.\n     * @return this\n     */\n    public VerificationAttemptReader setChannel(final VerificationAttempt.Channels channel) {\n        this.channel = channel;\n        return this;\n    }\n\n    /**\n     * Filter used to query Verification Attempts by verify service. Only attempts\n     * of the provided SID will be returned..\n     *\n     * @param verifyServiceSid Filter verification attempts by verify service.\n     * @return this\n     */\n    public VerificationAttemptReader setVerifyServiceSid(final String verifyServiceSid) {\n        this.verifyServiceSid = verifyServiceSid;\n        return this;\n    }\n\n    /**\n     * Filter used to return all the Verification Attempts of a single verification.\n     * Only attempts of the provided verification SID will be returned..\n     *\n     * @param verificationSid Filter attempts by verification.\n     * @return this\n     */\n    public VerificationAttemptReader setVerificationSid(final String verificationSid) {\n        this.verificationSid = verificationSid;\n        return this;\n    }\n\n    /**\n     * Filter used to query Verification Attempts by conversion status. Valid values\n     * are `UNCONVERTED`, for attempts that were not converted, and `CONVERTED`, for\n     * attempts that were confirmed..\n     *\n     * @param status Filter verification attempts by conversion status.\n     * @return this\n     */\n    public VerificationAttemptReader setStatus(final VerificationAttempt.ConversionStatus status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return VerificationAttempt ResourceSet\n     */\n    @Override\n    public ResourceSet<VerificationAttempt> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return VerificationAttempt ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<VerificationAttempt> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VERIFY.toString(),\n            \"/v2/Attempts\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return VerificationAttempt ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<VerificationAttempt> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<VerificationAttempt> nextPage(final Page<VerificationAttempt> page,\n                                              final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<VerificationAttempt> previousPage(final Page<VerificationAttempt> page,\n                                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VERIFY.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of VerificationAttempt Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<VerificationAttempt> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"VerificationAttempt read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"attempts\",\n            response.getContent(),\n            VerificationAttempt.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (channelDataTo != null) {\n            request.addQueryParam(\"ChannelData.To\", channelDataTo);\n        }\n\n        if (country != null) {\n            request.addQueryParam(\"Country\", country);\n        }\n\n        if (channel != null) {\n            request.addQueryParam(\"Channel\", channel.toString());\n        }\n\n        if (verifyServiceSid != null) {\n            request.addQueryParam(\"VerifyServiceSid\", verifyServiceSid);\n        }\n\n        if (verificationSid != null) {\n            request.addQueryParam(\"VerificationSid\", verificationSid);\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":103}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Verify\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\n\n\n\n/*\n    * Twilio - Verify\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class VerificationAttemptsSummaryFetcher extends Fetcher<VerificationAttemptsSummary> {\n    private String verifyServiceSid;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private String country;\n    private VerificationAttemptsSummary.Channels channel;\n    private String destinationPrefix;\n\n    public VerificationAttemptsSummaryFetcher(){\n    }\n\n    public VerificationAttemptsSummaryFetcher setVerifyServiceSid(final String verifyServiceSid){\n    this.verifyServiceSid = verifyServiceSid;\n    return this;\n    }\n    public VerificationAttemptsSummaryFetcher setDateCreatedAfter(final ZonedDateTime dateCreatedAfter){\n    this.dateCreatedAfter = dateCreatedAfter;\n    return this;\n    }\n    public VerificationAttemptsSummaryFetcher setDateCreatedBefore(final ZonedDateTime dateCreatedBefore){\n    this.dateCreatedBefore = dateCreatedBefore;\n    return this;\n    }\n    public VerificationAttemptsSummaryFetcher setCountry(final String country){\n    this.country = country;\n    return this;\n    }\n    public VerificationAttemptsSummaryFetcher setChannel(final VerificationAttemptsSummary.Channels channel){\n    this.channel = channel;\n    return this;\n    }\n    public VerificationAttemptsSummaryFetcher setDestinationPrefix(final String destinationPrefix){\n    this.destinationPrefix = destinationPrefix;\n    return this;\n    }\n\n    @Override\n    public VerificationAttemptsSummary fetch(final TwilioRestClient client) {\n        String path = \"/v2/Attempts/Summary\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VERIFY.toString(),\n            path\n        );\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"VerificationAttemptsSummary fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return VerificationAttemptsSummary.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addQueryParams(final Request request) {\n        if (verifyServiceSid != null) {\n    \n            request.addQueryParam(\"VerifyServiceSid\", verifyServiceSid);\n        }\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (country != null) {\n    \n            request.addQueryParam(\"Country\", country);\n        }\n        if (channel != null) {\n    \n            request.addQueryParam(\"Channel\", channel.toString());\n        }\n        if (destinationPrefix != null) {\n    \n            request.addQueryParam(\"DestinationPrefix\", destinationPrefix);\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.verify.v2;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class VerificationAttemptsSummaryFetcher extends Fetcher<VerificationAttemptsSummary> {\n    private String verifyServiceSid;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private String country;\n    private VerificationAttemptsSummary.Channels channel;\n    private String destinationPrefix;\n\n    /**\n     * Filter used to consider only Verification Attempts of the given verify\n     * service on the summary aggregation..\n     *\n     * @param verifyServiceSid Filter the verification attempts considered on the\n     *                         summary by verify service.\n     * @return this\n     */\n    public VerificationAttemptsSummaryFetcher setVerifyServiceSid(final String verifyServiceSid) {\n        this.verifyServiceSid = verifyServiceSid;\n        return this;\n    }\n\n    /**\n     * Datetime filter used to consider only Verification Attempts created after\n     * this datetime on the summary aggregation. Given as GMT in RFC 2822 format..\n     *\n     * @param dateCreatedAfter Consider verification attempts create after this\n     *                         date on the summary.\n     * @return this\n     */\n    public VerificationAttemptsSummaryFetcher setDateCreatedAfter(final ZonedDateTime dateCreatedAfter) {\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n\n    /**\n     * Datetime filter used to consider only Verification Attempts created before\n     * this datetime on the summary aggregation. Given as GMT in RFC 2822 format..\n     *\n     * @param dateCreatedBefore Consider verification attempts created before this\n     *                          date on the summary.\n     * @return this\n     */\n    public VerificationAttemptsSummaryFetcher setDateCreatedBefore(final ZonedDateTime dateCreatedBefore) {\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n\n    /**\n     * Filter used to consider only Verification Attempts sent to the specified\n     * destination country on the summary aggregation..\n     *\n     * @param country Filter verification attempts considered on the summary by\n     *                destination country.\n     * @return this\n     */\n    public VerificationAttemptsSummaryFetcher setCountry(final String country) {\n        this.country = country;\n        return this;\n    }\n\n    /**\n     * Filter Verification Attempts considered on the summary aggregation by\n     * communication channel. Valid values are `SMS` and `CALL`.\n     *\n     * @param channel Filter verification attempts considered on the summary by\n     *                communication channel.\n     * @return this\n     */\n    public VerificationAttemptsSummaryFetcher setChannel(final VerificationAttemptsSummary.Channels channel) {\n        this.channel = channel;\n        return this;\n    }\n\n    /**\n     * Filter the Verification Attempts considered on the summary aggregation by\n     * Destination prefix. It is the prefix of a phone number in E.164 format..\n     *\n     * @param destinationPrefix Filters the attempts considered on the summary by\n     *                          destination prefix.\n     * @return this\n     */\n    public VerificationAttemptsSummaryFetcher setDestinationPrefix(final String destinationPrefix) {\n        this.destinationPrefix = destinationPrefix;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched VerificationAttemptsSummary\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public VerificationAttemptsSummary fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VERIFY.toString(),\n            \"/v2/Attempts/Summary\"\n        );\n\n        addQueryParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"VerificationAttemptsSummary fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return VerificationAttemptsSummary.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (verifyServiceSid != null) {\n            request.addQueryParam(\"VerifyServiceSid\", verifyServiceSid);\n        }\n\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (country != null) {\n            request.addQueryParam(\"Country\", country);\n        }\n\n        if (channel != null) {\n            request.addQueryParam(\"Channel\", channel.toString());\n        }\n\n        if (destinationPrefix != null) {\n            request.addQueryParam(\"DestinationPrefix\", destinationPrefix);\n        }\n    }\n}\n","lineNo":82}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\nimport java.net.URI;\n\nimport java.util.List;\nimport java.util.Map;\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CompositionCreator extends Creator<Composition>{\n    private String roomSid;\n    private Map<String, Object> videoLayout;\n    private List<String> audioSources;\n    private List<String> audioSourcesExcluded;\n    private String resolution;\n    private Composition.Format format;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Boolean trim;\n\n    public CompositionCreator(final String roomSid) {\n        this.roomSid = roomSid;\n    }\n\n    public CompositionCreator setRoomSid(final String roomSid){\n        this.roomSid = roomSid;\n        return this;\n    }\n    public CompositionCreator setVideoLayout(final Map<String, Object> videoLayout){\n        this.videoLayout = videoLayout;\n        return this;\n    }\n    public CompositionCreator setAudioSources(final List<String> audioSources){\n        this.audioSources = audioSources;\n        return this;\n    }\n    public CompositionCreator setAudioSourcesExcluded(final List<String> audioSourcesExcluded){\n        this.audioSourcesExcluded = audioSourcesExcluded;\n        return this;\n    }\n    public CompositionCreator setResolution(final String resolution){\n        this.resolution = resolution;\n        return this;\n    }\n    public CompositionCreator setFormat(final Composition.Format format){\n        this.format = format;\n        return this;\n    }\n    public CompositionCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public CompositionCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public CompositionCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public CompositionCreator setTrim(final Boolean trim){\n        this.trim = trim;\n        return this;\n    }\n\n    @Override\n    public Composition create(final TwilioRestClient client){\n        String path = \"/v1/Compositions\";\n\n        path = path.replace(\"{\"+\"RoomSid\"+\"}\", this.roomSid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Composition creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Composition.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (roomSid != null) {\n            request.addPostParam(\"RoomSid\", roomSid);\n    \n        }\n        if (videoLayout != null) {\n            request.addPostParam(\"VideoLayout\",  Converter.mapToJson(videoLayout));\n    \n        }\n        if (audioSources != null) {\n            for (String prop : audioSources) {\n                request.addPostParam(\"AudioSources\", prop);\n            }\n    \n        }\n        if (audioSourcesExcluded != null) {\n            for (String prop : audioSourcesExcluded) {\n                request.addPostParam(\"AudioSourcesExcluded\", prop);\n            }\n    \n        }\n        if (resolution != null) {\n            request.addPostParam(\"Resolution\", resolution);\n    \n        }\n        if (format != null) {\n            request.addPostParam(\"Format\", format.toString());\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (trim != null) {\n            request.addPostParam(\"Trim\", trim.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\nimport java.util.List;\nimport java.util.Map;\n\npublic class CompositionCreator extends Creator<Composition> {\n    private final String roomSid;\n    private Map<String, Object> videoLayout;\n    private List<String> audioSources;\n    private List<String> audioSourcesExcluded;\n    private String resolution;\n    private Composition.Format format;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Boolean trim;\n\n    /**\n     * Construct a new CompositionCreator.\n     *\n     * @param roomSid The SID of the Group Room with the media tracks to be used as\n     *                composition sources\n     */\n    public CompositionCreator(final String roomSid) {\n        this.roomSid = roomSid;\n    }\n\n    /**\n     * An object that describes the video layout of the composition in terms of\n     * regions. See <a\n     * href=\"https://www.twilio.com/docs/video/api/compositions-resource#specifying-video-layouts\">Specifying\n     * Video Layouts<\/a> for more info. Please, be aware that either video_layout or\n     * audio_sources have to be provided to get a valid creation request.\n     *\n     * @param videoLayout An object that describes the video layout of the\n     *                    composition\n     * @return this\n     */\n    public CompositionCreator setVideoLayout(final Map<String, Object> videoLayout) {\n        this.videoLayout = videoLayout;\n        return this;\n    }\n\n    /**\n     * An array of track names from the same group room to merge into the new\n     * composition. Can include zero or more track names. The new composition\n     * includes all audio sources specified in `audio_sources` except for those\n     * specified in `audio_sources_excluded`. The track names in this parameter can\n     * include an asterisk as a wild card character, which will match zero or more\n     * characters in a track name. For example, `student*` includes `student` as\n     * well as `studentTeam`. Please, be aware that either video_layout or\n     * audio_sources have to be provided to get a valid creation request.\n     *\n     * @param audioSources An array of track names from the same group room to merge\n     * @return this\n     */\n    public CompositionCreator setAudioSources(final List<String> audioSources) {\n        this.audioSources = audioSources;\n        return this;\n    }\n\n    /**\n     * An array of track names from the same group room to merge into the new\n     * composition. Can include zero or more track names. The new composition\n     * includes all audio sources specified in `audio_sources` except for those\n     * specified in `audio_sources_excluded`. The track names in this parameter can\n     * include an asterisk as a wild card character, which will match zero or more\n     * characters in a track name. For example, `student*` includes `student` as\n     * well as `studentTeam`. Please, be aware that either video_layout or\n     * audio_sources have to be provided to get a valid creation request.\n     *\n     * @param audioSources An array of track names from the same group room to merge\n     * @return this\n     */\n    public CompositionCreator setAudioSources(final String audioSources) {\n        return setAudioSources(Promoter.listOfOne(audioSources));\n    }\n\n    /**\n     * An array of track names to exclude. The new composition includes all audio\n     * sources specified in `audio_sources` except for those specified in\n     * `audio_sources_excluded`. The track names in this parameter can include an\n     * asterisk as a wild card character, which will match zero or more characters\n     * in a track name. For example, `student*` excludes `student` as well as\n     * `studentTeam`. This parameter can also be empty..\n     *\n     * @param audioSourcesExcluded An array of track names to exclude\n     * @return this\n     */\n    public CompositionCreator setAudioSourcesExcluded(final List<String> audioSourcesExcluded) {\n        this.audioSourcesExcluded = audioSourcesExcluded;\n        return this;\n    }\n\n    /**\n     * An array of track names to exclude. The new composition includes all audio\n     * sources specified in `audio_sources` except for those specified in\n     * `audio_sources_excluded`. The track names in this parameter can include an\n     * asterisk as a wild card character, which will match zero or more characters\n     * in a track name. For example, `student*` excludes `student` as well as\n     * `studentTeam`. This parameter can also be empty..\n     *\n     * @param audioSourcesExcluded An array of track names to exclude\n     * @return this\n     */\n    public CompositionCreator setAudioSourcesExcluded(final String audioSourcesExcluded) {\n        return setAudioSourcesExcluded(Promoter.listOfOne(audioSourcesExcluded));\n    }\n\n    /**\n     * A string that describes the columns (width) and rows (height) of the\n     * generated composed video in pixels. Defaults to `640x480`.\n     * The string's format is `{width}x{height}` where:\n     *\n     * * 16 &lt;= `{width}` &lt;= 1280\n     * * 16 &lt;= `{height}` &lt;= 1280\n     * * `{width}` * `{height}` &lt;= 921,600\n     *\n     * Typical values are:\n     *\n     * * HD = `1280x720`\n     * * PAL = `1024x576`\n     * * VGA = `640x480`\n     * * CIF = `320x240`\n     *\n     * Note that the `resolution` imposes an aspect ratio to the resulting\n     * composition. When the original video tracks are constrained by the aspect\n     * ratio, they are scaled to fit. See <a\n     * href=\"https://www.twilio.com/docs/video/api/compositions-resource#specifying-video-layouts\">Specifying\n     * Video Layouts<\/a> for more info..\n     *\n     * @param resolution A string that describes the columns (width) and rows\n     *                   (height) of the generated composed video in pixels\n     * @return this\n     */\n    public CompositionCreator setResolution(final String resolution) {\n        this.resolution = resolution;\n        return this;\n    }\n\n    /**\n     * The container format of the composition's media files. Can be: `mp4` or\n     * `webm` and the default is `webm`. If you specify `mp4` or `webm`, you must\n     * also specify one or more `audio_sources` and/or a `video_layout` element that\n     * contains a valid `video_sources` list, otherwise an error occurs..\n     *\n     * @param format The container format of the composition's media files\n     * @return this\n     */\n    public CompositionCreator setFormat(final Composition.Format format) {\n        this.format = format;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application on every composition event. If not provided,\n     * status callback events will not be dispatched..\n     *\n     * @param statusCallback The URL we should call to send status information to\n     *                       your application\n     * @return this\n     */\n    public CompositionCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application on every composition event. If not provided,\n     * status callback events will not be dispatched..\n     *\n     * @param statusCallback The URL we should call to send status information to\n     *                       your application\n     * @return this\n     */\n    public CompositionCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The HTTP method we should use to call `status_callback`. Can be: `POST` or\n     * `GET` and the default is `POST`..\n     *\n     * @param statusCallbackMethod The HTTP method we should use to call\n     *                             status_callback\n     * @return this\n     */\n    public CompositionCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * Whether to clip the intervals where there is no active media in the\n     * composition. The default is `true`. Compositions with `trim` enabled are\n     * shorter when the Room is created and no Participant joins for a while as well\n     * as if all the Participants leave the room and join later, because those gaps\n     * will be removed. See <a\n     * href=\"https://www.twilio.com/docs/video/api/compositions-resource#specifying-video-layouts\">Specifying\n     * Video Layouts<\/a> for more info..\n     *\n     * @param trim Whether to clip the intervals where there is no active media in\n     *             the composition\n     * @return this\n     */\n    public CompositionCreator setTrim(final Boolean trim) {\n        this.trim = trim;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Composition\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Composition create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            \"/v1/Compositions\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Composition creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Composition.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (roomSid != null) {\n            request.addPostParam(\"RoomSid\", roomSid);\n        }\n\n        if (videoLayout != null) {\n            request.addPostParam(\"VideoLayout\", Converter.mapToJson(videoLayout));\n        }\n\n        if (audioSources != null) {\n            for (String prop : audioSources) {\n                request.addPostParam(\"AudioSources\", prop);\n            }\n        }\n\n        if (audioSourcesExcluded != null) {\n            for (String prop : audioSourcesExcluded) {\n                request.addPostParam(\"AudioSourcesExcluded\", prop);\n            }\n        }\n\n        if (resolution != null) {\n            request.addPostParam(\"Resolution\", resolution);\n        }\n\n        if (format != null) {\n            request.addPostParam(\"Format\", format.toString());\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (trim != null) {\n            request.addPostParam(\"Trim\", trim.toString());\n        }\n    }\n}\n","lineNo":111}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\nimport java.net.URI;\n\nimport java.util.List;\nimport java.util.Map;\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CompositionHookCreator extends Creator<CompositionHook>{\n    private String friendlyName;\n    private Boolean enabled;\n    private Map<String, Object> videoLayout;\n    private List<String> audioSources;\n    private List<String> audioSourcesExcluded;\n    private String resolution;\n    private CompositionHook.Format format;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Boolean trim;\n\n    public CompositionHookCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public CompositionHookCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CompositionHookCreator setEnabled(final Boolean enabled){\n        this.enabled = enabled;\n        return this;\n    }\n    public CompositionHookCreator setVideoLayout(final Map<String, Object> videoLayout){\n        this.videoLayout = videoLayout;\n        return this;\n    }\n    public CompositionHookCreator setAudioSources(final List<String> audioSources){\n        this.audioSources = audioSources;\n        return this;\n    }\n    public CompositionHookCreator setAudioSourcesExcluded(final List<String> audioSourcesExcluded){\n        this.audioSourcesExcluded = audioSourcesExcluded;\n        return this;\n    }\n    public CompositionHookCreator setResolution(final String resolution){\n        this.resolution = resolution;\n        return this;\n    }\n    public CompositionHookCreator setFormat(final CompositionHook.Format format){\n        this.format = format;\n        return this;\n    }\n    public CompositionHookCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public CompositionHookCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public CompositionHookCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public CompositionHookCreator setTrim(final Boolean trim){\n        this.trim = trim;\n        return this;\n    }\n\n    @Override\n    public CompositionHook create(final TwilioRestClient client){\n        String path = \"/v1/CompositionHooks\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"CompositionHook creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CompositionHook.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (enabled != null) {\n            request.addPostParam(\"Enabled\", enabled.toString());\n    \n        }\n        if (videoLayout != null) {\n            request.addPostParam(\"VideoLayout\",  Converter.mapToJson(videoLayout));\n    \n        }\n        if (audioSources != null) {\n            for (String prop : audioSources) {\n                request.addPostParam(\"AudioSources\", prop);\n            }\n    \n        }\n        if (audioSourcesExcluded != null) {\n            for (String prop : audioSourcesExcluded) {\n                request.addPostParam(\"AudioSourcesExcluded\", prop);\n            }\n    \n        }\n        if (resolution != null) {\n            request.addPostParam(\"Resolution\", resolution);\n    \n        }\n        if (format != null) {\n            request.addPostParam(\"Format\", format.toString());\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (trim != null) {\n            request.addPostParam(\"Trim\", trim.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\nimport java.util.List;\nimport java.util.Map;\n\npublic class CompositionHookCreator extends Creator<CompositionHook> {\n    private final String friendlyName;\n    private Boolean enabled;\n    private Map<String, Object> videoLayout;\n    private List<String> audioSources;\n    private List<String> audioSourcesExcluded;\n    private String resolution;\n    private CompositionHook.Format format;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Boolean trim;\n\n    /**\n     * Construct a new CompositionHookCreator.\n     *\n     * @param friendlyName A unique string to describe the resource\n     */\n    public CompositionHookCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * Whether the composition hook is active. When `true`, the composition hook\n     * will be triggered for every completed Group Room in the account. When\n     * `false`, the composition hook will never be triggered..\n     *\n     * @param enabled Whether the composition hook is active\n     * @return this\n     */\n    public CompositionHookCreator setEnabled(final Boolean enabled) {\n        this.enabled = enabled;\n        return this;\n    }\n\n    /**\n     * An object that describes the video layout of the composition hook in terms of\n     * regions. See <a\n     * href=\"https://www.twilio.com/docs/video/api/compositions-resource#specifying-video-layouts\">Specifying\n     * Video Layouts<\/a> for more info..\n     *\n     * @param videoLayout An object that describes the video layout of the\n     *                    composition hook\n     * @return this\n     */\n    public CompositionHookCreator setVideoLayout(final Map<String, Object> videoLayout) {\n        this.videoLayout = videoLayout;\n        return this;\n    }\n\n    /**\n     * An array of track names from the same group room to merge into the\n     * compositions created by the composition hook. Can include zero or more track\n     * names. A composition triggered by the composition hook includes all audio\n     * sources specified in `audio_sources` except those specified in\n     * `audio_sources_excluded`. The track names in this parameter can include an\n     * asterisk as a wild card character, which matches zero or more characters in a\n     * track name. For example, `student*` includes tracks named `student` as well\n     * as `studentTeam`..\n     *\n     * @param audioSources An array of track names from the same group room to merge\n     * @return this\n     */\n    public CompositionHookCreator setAudioSources(final List<String> audioSources) {\n        this.audioSources = audioSources;\n        return this;\n    }\n\n    /**\n     * An array of track names from the same group room to merge into the\n     * compositions created by the composition hook. Can include zero or more track\n     * names. A composition triggered by the composition hook includes all audio\n     * sources specified in `audio_sources` except those specified in\n     * `audio_sources_excluded`. The track names in this parameter can include an\n     * asterisk as a wild card character, which matches zero or more characters in a\n     * track name. For example, `student*` includes tracks named `student` as well\n     * as `studentTeam`..\n     *\n     * @param audioSources An array of track names from the same group room to merge\n     * @return this\n     */\n    public CompositionHookCreator setAudioSources(final String audioSources) {\n        return setAudioSources(Promoter.listOfOne(audioSources));\n    }\n\n    /**\n     * An array of track names to exclude. A composition triggered by the\n     * composition hook includes all audio sources specified in `audio_sources`\n     * except for those specified in `audio_sources_excluded`. The track names in\n     * this parameter can include an asterisk as a wild card character, which\n     * matches zero or more characters in a track name. For example, `student*`\n     * excludes `student` as well as `studentTeam`. This parameter can also be\n     * empty..\n     *\n     * @param audioSourcesExcluded An array of track names to exclude\n     * @return this\n     */\n    public CompositionHookCreator setAudioSourcesExcluded(final List<String> audioSourcesExcluded) {\n        this.audioSourcesExcluded = audioSourcesExcluded;\n        return this;\n    }\n\n    /**\n     * An array of track names to exclude. A composition triggered by the\n     * composition hook includes all audio sources specified in `audio_sources`\n     * except for those specified in `audio_sources_excluded`. The track names in\n     * this parameter can include an asterisk as a wild card character, which\n     * matches zero or more characters in a track name. For example, `student*`\n     * excludes `student` as well as `studentTeam`. This parameter can also be\n     * empty..\n     *\n     * @param audioSourcesExcluded An array of track names to exclude\n     * @return this\n     */\n    public CompositionHookCreator setAudioSourcesExcluded(final String audioSourcesExcluded) {\n        return setAudioSourcesExcluded(Promoter.listOfOne(audioSourcesExcluded));\n    }\n\n    /**\n     * A string that describes the columns (width) and rows (height) of the\n     * generated composed video in pixels. Defaults to `640x480`.\n     * The string's format is `{width}x{height}` where:\n     *\n     * * 16 &lt;= `{width}` &lt;= 1280\n     * * 16 &lt;= `{height}` &lt;= 1280\n     * * `{width}` * `{height}` &lt;= 921,600\n     *\n     * Typical values are:\n     *\n     * * HD = `1280x720`\n     * * PAL = `1024x576`\n     * * VGA = `640x480`\n     * * CIF = `320x240`\n     *\n     * Note that the `resolution` imposes an aspect ratio to the resulting\n     * composition. When the original video tracks are constrained by the aspect\n     * ratio, they are scaled to fit. See <a\n     * href=\"https://www.twilio.com/docs/video/api/compositions-resource#specifying-video-layouts\">Specifying\n     * Video Layouts<\/a> for more info..\n     *\n     * @param resolution A string that describes the rows (width) and columns\n     *                   (height) of the generated composed video in pixels\n     * @return this\n     */\n    public CompositionHookCreator setResolution(final String resolution) {\n        this.resolution = resolution;\n        return this;\n    }\n\n    /**\n     * The container format of the media files used by the compositions created by\n     * the composition hook. Can be: `mp4` or `webm` and the default is `webm`. If\n     * `mp4` or `webm`, `audio_sources` must have one or more tracks and/or a\n     * `video_layout` element must contain a valid `video_sources` list, otherwise\n     * an error occurs..\n     *\n     * @param format The container format of the media files used by the\n     *               compositions created by the composition hook\n     * @return this\n     */\n    public CompositionHookCreator setFormat(final CompositionHook.Format format) {\n        this.format = format;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application on every composition event. If not provided,\n     * status callback events will not be dispatched..\n     *\n     * @param statusCallback The URL we should call to send status information to\n     *                       your application\n     * @return this\n     */\n    public CompositionHookCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application on every composition event. If not provided,\n     * status callback events will not be dispatched..\n     *\n     * @param statusCallback The URL we should call to send status information to\n     *                       your application\n     * @return this\n     */\n    public CompositionHookCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The HTTP method we should use to call `status_callback`. Can be: `POST` or\n     * `GET` and the default is `POST`..\n     *\n     * @param statusCallbackMethod The HTTP method we should use to call\n     *                             status_callback\n     * @return this\n     */\n    public CompositionHookCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * Whether to clip the intervals where there is no active media in the\n     * Compositions triggered by the composition hook. The default is `true`.\n     * Compositions with `trim` enabled are shorter when the Room is created and no\n     * Participant joins for a while as well as if all the Participants leave the\n     * room and join later, because those gaps will be removed. See <a\n     * href=\"https://www.twilio.com/docs/video/api/compositions-resource#specifying-video-layouts\">Specifying\n     * Video Layouts<\/a> for more info..\n     *\n     * @param trim Whether to clip the intervals where there is no active media in\n     *             the Compositions triggered by the composition hook\n     * @return this\n     */\n    public CompositionHookCreator setTrim(final Boolean trim) {\n        this.trim = trim;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created CompositionHook\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public CompositionHook create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            \"/v1/CompositionHooks\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CompositionHook creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CompositionHook.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (enabled != null) {\n            request.addPostParam(\"Enabled\", enabled.toString());\n        }\n\n        if (videoLayout != null) {\n            request.addPostParam(\"VideoLayout\", Converter.mapToJson(videoLayout));\n        }\n\n        if (audioSources != null) {\n            for (String prop : audioSources) {\n                request.addPostParam(\"AudioSources\", prop);\n            }\n        }\n\n        if (audioSourcesExcluded != null) {\n            for (String prop : audioSourcesExcluded) {\n                request.addPostParam(\"AudioSourcesExcluded\", prop);\n            }\n        }\n\n        if (resolution != null) {\n            request.addPostParam(\"Resolution\", resolution);\n        }\n\n        if (format != null) {\n            request.addPostParam(\"Format\", format.toString());\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (trim != null) {\n            request.addPostParam(\"Trim\", trim.toString());\n        }\n    }\n}\n","lineNo":116}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CompositionHookReader extends Reader<CompositionHook> {\n    private Boolean enabled;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private String friendlyName;\n    private Integer pageSize;\n\n    public CompositionHookReader(){\n    }\n\n    public CompositionHookReader setEnabled(final Boolean enabled){\n        this.enabled = enabled;\n        return this;\n    }\n    public CompositionHookReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter){\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n    public CompositionHookReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore){\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n    public CompositionHookReader setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CompositionHookReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<CompositionHook> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<CompositionHook> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/CompositionHooks\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<CompositionHook> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CompositionHook read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"composition_hooks\",\n            response.getContent(),\n            CompositionHook.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<CompositionHook> previousPage(final Page<CompositionHook> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<CompositionHook> nextPage(final Page<CompositionHook> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<CompositionHook> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (enabled != null) {\n    \n            request.addQueryParam(\"Enabled\", enabled.toString());\n        }\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (friendlyName != null) {\n    \n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class CompositionHookReader extends Reader<CompositionHook> {\n    private Boolean enabled;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private String friendlyName;\n\n    /**\n     * Read only CompositionHook resources with an `enabled` value that matches this\n     * parameter..\n     *\n     * @param enabled Read only CompositionHook resources with an enabled value\n     *                that matches this parameter\n     * @return this\n     */\n    public CompositionHookReader setEnabled(final Boolean enabled) {\n        this.enabled = enabled;\n        return this;\n    }\n\n    /**\n     * Read only CompositionHook resources created on or after this <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> datetime with time\n     * zone..\n     *\n     * @param dateCreatedAfter Read only CompositionHook resources created on or\n     *                         after this ISO 8601 datetime with time zone\n     * @return this\n     */\n    public CompositionHookReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter) {\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n\n    /**\n     * Read only CompositionHook resources created before this <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> datetime with time\n     * zone..\n     *\n     * @param dateCreatedBefore Read only CompositionHook resources created before\n     *                          this ISO 8601 datetime with time zone\n     * @return this\n     */\n    public CompositionHookReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore) {\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n\n    /**\n     * Read only CompositionHook resources with friendly names that match this\n     * string. The match is not case sensitive and can include asterisk `*`\n     * characters as wildcard match..\n     *\n     * @param friendlyName Read only CompositionHook resources with friendly names\n     *                     that match this string\n     * @return this\n     */\n    public CompositionHookReader setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return CompositionHook ResourceSet\n     */\n    @Override\n    public ResourceSet<CompositionHook> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return CompositionHook ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<CompositionHook> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            \"/v1/CompositionHooks\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return CompositionHook ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<CompositionHook> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<CompositionHook> nextPage(final Page<CompositionHook> page,\n                                          final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<CompositionHook> previousPage(final Page<CompositionHook> page,\n                                              final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of CompositionHook Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<CompositionHook> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CompositionHook read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"composition_hooks\",\n            response.getContent(),\n            CompositionHook.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (enabled != null) {\n            request.addQueryParam(\"Enabled\", enabled.toString());\n        }\n\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":83}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CompositionReader extends Reader<Composition> {\n    private Composition.Status status;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private String roomSid;\n    private Integer pageSize;\n\n    public CompositionReader(){\n    }\n\n    public CompositionReader setStatus(final Composition.Status status){\n        this.status = status;\n        return this;\n    }\n    public CompositionReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter){\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n    public CompositionReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore){\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n    public CompositionReader setRoomSid(final String roomSid){\n        this.roomSid = roomSid;\n        return this;\n    }\n    public CompositionReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Composition> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Composition> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Compositions\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Composition> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Composition read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"compositions\",\n            response.getContent(),\n            Composition.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Composition> previousPage(final Page<Composition> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Composition> nextPage(final Page<Composition> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Composition> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (roomSid != null) {\n    \n            request.addQueryParam(\"RoomSid\", roomSid);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class CompositionReader extends Reader<Composition> {\n    private Composition.Status status;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private String roomSid;\n\n    /**\n     * Read only Composition resources with this status. Can be: `enqueued`,\n     * `processing`, `completed`, `deleted`, or `failed`..\n     *\n     * @param status Read only Composition resources with this status\n     * @return this\n     */\n    public CompositionReader setStatus(final Composition.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Read only Composition resources created on or after this <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> date-time with\n     * time zone..\n     *\n     * @param dateCreatedAfter Read only Composition resources created on or after\n     *                         this [ISO\n     *                         8601](https://en.wikipedia.org/wiki/ISO_8601)\n     *                         date-time with time zone\n     * @return this\n     */\n    public CompositionReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter) {\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n\n    /**\n     * Read only Composition resources created before this ISO 8601 date-time with\n     * time zone..\n     *\n     * @param dateCreatedBefore Read only Composition resources created before this\n     *                          ISO 8601 date-time with time zone\n     * @return this\n     */\n    public CompositionReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore) {\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n\n    /**\n     * Read only Composition resources with this Room SID..\n     *\n     * @param roomSid Read only Composition resources with this Room SID\n     * @return this\n     */\n    public CompositionReader setRoomSid(final String roomSid) {\n        this.roomSid = roomSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Composition ResourceSet\n     */\n    @Override\n    public ResourceSet<Composition> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Composition ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Composition> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            \"/v1/Compositions\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Composition ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Composition> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Composition> nextPage(final Page<Composition> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Composition> previousPage(final Page<Composition> page,\n                                          final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Composition Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Composition> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Composition read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"compositions\",\n            response.getContent(),\n            Composition.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (roomSid != null) {\n            request.addQueryParam(\"RoomSid\", roomSid);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":83}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CompositionSettingsCreator extends Creator<CompositionSettings>{\n    private String friendlyName;\n    private String awsCredentialsSid;\n    private String encryptionKeySid;\n    private URI awsS3Url;\n    private Boolean awsStorageEnabled;\n    private Boolean encryptionEnabled;\n\n    public CompositionSettingsCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public CompositionSettingsCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public CompositionSettingsCreator setAwsCredentialsSid(final String awsCredentialsSid){\n        this.awsCredentialsSid = awsCredentialsSid;\n        return this;\n    }\n    public CompositionSettingsCreator setEncryptionKeySid(final String encryptionKeySid){\n        this.encryptionKeySid = encryptionKeySid;\n        return this;\n    }\n    public CompositionSettingsCreator setAwsS3Url(final URI awsS3Url){\n        this.awsS3Url = awsS3Url;\n        return this;\n    }\n\n    public CompositionSettingsCreator setAwsS3Url(final String awsS3Url){\n    this.awsS3Url = Promoter.uriFromString(awsS3Url);\n    return this;\n    }\n    public CompositionSettingsCreator setAwsStorageEnabled(final Boolean awsStorageEnabled){\n        this.awsStorageEnabled = awsStorageEnabled;\n        return this;\n    }\n    public CompositionSettingsCreator setEncryptionEnabled(final Boolean encryptionEnabled){\n        this.encryptionEnabled = encryptionEnabled;\n        return this;\n    }\n\n    @Override\n    public CompositionSettings create(final TwilioRestClient client){\n        String path = \"/v1/CompositionSettings/Default\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"CompositionSettings creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CompositionSettings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (awsCredentialsSid != null) {\n            request.addPostParam(\"AwsCredentialsSid\", awsCredentialsSid);\n    \n        }\n        if (encryptionKeySid != null) {\n            request.addPostParam(\"EncryptionKeySid\", encryptionKeySid);\n    \n        }\n        if (awsS3Url != null) {\n            request.addPostParam(\"AwsS3Url\", awsS3Url.toString());\n    \n        }\n        if (awsStorageEnabled != null) {\n            request.addPostParam(\"AwsStorageEnabled\", awsStorageEnabled.toString());\n    \n        }\n        if (encryptionEnabled != null) {\n            request.addPostParam(\"EncryptionEnabled\", encryptionEnabled.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class CompositionSettingsCreator extends Creator<CompositionSettings> {\n    private final String friendlyName;\n    private String awsCredentialsSid;\n    private String encryptionKeySid;\n    private URI awsS3Url;\n    private Boolean awsStorageEnabled;\n    private Boolean encryptionEnabled;\n\n    /**\n     * Construct a new CompositionSettingsCreator.\n     *\n     * @param friendlyName A descriptive string that you create to describe the\n     *                     resource\n     */\n    public CompositionSettingsCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * The SID of the stored Credential resource..\n     *\n     * @param awsCredentialsSid The SID of the stored Credential resource\n     * @return this\n     */\n    public CompositionSettingsCreator setAwsCredentialsSid(final String awsCredentialsSid) {\n        this.awsCredentialsSid = awsCredentialsSid;\n        return this;\n    }\n\n    /**\n     * The SID of the Public Key resource to use for encryption..\n     *\n     * @param encryptionKeySid The SID of the Public Key resource to use for\n     *                         encryption\n     * @return this\n     */\n    public CompositionSettingsCreator setEncryptionKeySid(final String encryptionKeySid) {\n        this.encryptionKeySid = encryptionKeySid;\n        return this;\n    }\n\n    /**\n     * The URL of the AWS S3 bucket where the compositions should be stored. We only\n     * support DNS-compliant URLs like\n     * `https://documentation-example-twilio-bucket/compositions`, where\n     * `compositions` is the path in which you want the compositions to be stored.\n     * This URL accepts only URI-valid characters, as described in the &lt;a\n     * href='https://tools.ietf.org/html/rfc3986#section-2'&gt;RFC 3986&lt;/a&gt;..\n     *\n     * @param awsS3Url The URL of the AWS S3 bucket where the compositions should\n     *                 be stored\n     * @return this\n     */\n    public CompositionSettingsCreator setAwsS3Url(final URI awsS3Url) {\n        this.awsS3Url = awsS3Url;\n        return this;\n    }\n\n    /**\n     * The URL of the AWS S3 bucket where the compositions should be stored. We only\n     * support DNS-compliant URLs like\n     * `https://documentation-example-twilio-bucket/compositions`, where\n     * `compositions` is the path in which you want the compositions to be stored.\n     * This URL accepts only URI-valid characters, as described in the &lt;a\n     * href='https://tools.ietf.org/html/rfc3986#section-2'&gt;RFC 3986&lt;/a&gt;..\n     *\n     * @param awsS3Url The URL of the AWS S3 bucket where the compositions should\n     *                 be stored\n     * @return this\n     */\n    public CompositionSettingsCreator setAwsS3Url(final String awsS3Url) {\n        return setAwsS3Url(Promoter.uriFromString(awsS3Url));\n    }\n\n    /**\n     * Whether all compositions should be written to the `aws_s3_url`. When `false`,\n     * all compositions are stored in our cloud..\n     *\n     * @param awsStorageEnabled Whether all compositions should be written to the\n     *                          aws_s3_url\n     * @return this\n     */\n    public CompositionSettingsCreator setAwsStorageEnabled(final Boolean awsStorageEnabled) {\n        this.awsStorageEnabled = awsStorageEnabled;\n        return this;\n    }\n\n    /**\n     * Whether all compositions should be stored in an encrypted form. The default\n     * is `false`..\n     *\n     * @param encryptionEnabled Whether all compositions should be stored in an\n     *                          encrypted form\n     * @return this\n     */\n    public CompositionSettingsCreator setEncryptionEnabled(final Boolean encryptionEnabled) {\n        this.encryptionEnabled = encryptionEnabled;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created CompositionSettings\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public CompositionSettings create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            \"/v1/CompositionSettings/Default\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CompositionSettings creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CompositionSettings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (awsCredentialsSid != null) {\n            request.addPostParam(\"AwsCredentialsSid\", awsCredentialsSid);\n        }\n\n        if (encryptionKeySid != null) {\n            request.addPostParam(\"EncryptionKeySid\", encryptionKeySid);\n        }\n\n        if (awsS3Url != null) {\n            request.addPostParam(\"AwsS3Url\", awsS3Url.toString());\n        }\n\n        if (awsStorageEnabled != null) {\n            request.addPostParam(\"AwsStorageEnabled\", awsStorageEnabled.toString());\n        }\n\n        if (encryptionEnabled != null) {\n            request.addPostParam(\"EncryptionEnabled\", encryptionEnabled.toString());\n        }\n    }\n}\n","lineNo":90}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CompositionSettingsFetcher extends Fetcher<CompositionSettings> {\n\n    public CompositionSettingsFetcher(){\n    }\n\n\n    @Override\n    public CompositionSettings fetch(final TwilioRestClient client) {\n        String path = \"/v1/CompositionSettings/Default\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"CompositionSettings fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CompositionSettings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CompositionSettingsFetcher extends Fetcher<CompositionSettings> {\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched CompositionSettings\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public CompositionSettings fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            \"/v1/CompositionSettings/Default\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"CompositionSettings fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return CompositionSettings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":51}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingReader extends Reader<Recording> {\n    private Recording.Status status;\n    private String sourceSid;\n    private List<String> groupingSid;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private Recording.Type mediaType;\n    private Integer pageSize;\n\n    public RecordingReader(){\n    }\n\n    public RecordingReader setStatus(final Recording.Status status){\n        this.status = status;\n        return this;\n    }\n    public RecordingReader setSourceSid(final String sourceSid){\n        this.sourceSid = sourceSid;\n        return this;\n    }\n    public RecordingReader setGroupingSid(final List<String> groupingSid){\n        this.groupingSid = groupingSid;\n        return this;\n    }\n    public RecordingReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter){\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n    public RecordingReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore){\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n    public RecordingReader setMediaType(final Recording.Type mediaType){\n        this.mediaType = mediaType;\n        return this;\n    }\n    public RecordingReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Recording> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Recording> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Recordings\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Recording> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"recordings\",\n            response.getContent(),\n            Recording.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Recording> previousPage(final Page<Recording> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Recording> nextPage(final Page<Recording> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Recording> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (sourceSid != null) {\n    \n            request.addQueryParam(\"SourceSid\", sourceSid);\n        }\n        if (groupingSid != null) {\n            for (String prop : groupingSid) {\n                request.addQueryParam(\"GroupingSid\", prop);\n            }\n        }\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (mediaType != null) {\n    \n            request.addQueryParam(\"MediaType\", mediaType.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\nimport java.util.List;\n\npublic class RecordingReader extends Reader<Recording> {\n    private Recording.Status status;\n    private String sourceSid;\n    private List<String> groupingSid;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private Recording.Type mediaType;\n\n    /**\n     * Read only the recordings that have this status. Can be: `processing`,\n     * `completed`, or `deleted`..\n     *\n     * @param status Read only the recordings that have this status\n     * @return this\n     */\n    public RecordingReader setStatus(final Recording.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Read only the recordings that have this `source_sid`..\n     *\n     * @param sourceSid Read only the recordings that have this source_sid\n     * @return this\n     */\n    public RecordingReader setSourceSid(final String sourceSid) {\n        this.sourceSid = sourceSid;\n        return this;\n    }\n\n    /**\n     * Read only recordings with this `grouping_sid`, which may include a\n     * `participant_sid` and/or a `room_sid`..\n     *\n     * @param groupingSid Read only recordings that have this grouping_sid\n     * @return this\n     */\n    public RecordingReader setGroupingSid(final List<String> groupingSid) {\n        this.groupingSid = groupingSid;\n        return this;\n    }\n\n    /**\n     * Read only recordings with this `grouping_sid`, which may include a\n     * `participant_sid` and/or a `room_sid`..\n     *\n     * @param groupingSid Read only recordings that have this grouping_sid\n     * @return this\n     */\n    public RecordingReader setGroupingSid(final String groupingSid) {\n        return setGroupingSid(Promoter.listOfOne(groupingSid));\n    }\n\n    /**\n     * Read only recordings that started on or after this <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> date-time with\n     * time zone..\n     *\n     * @param dateCreatedAfter Read only recordings that started on or after this\n     *                         <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a>\n     *                         date-time with time zone\n     * @return this\n     */\n    public RecordingReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter) {\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n\n    /**\n     * Read only recordings that started before this <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601<\/a> date-time with\n     * time zone, given as `YYYY-MM-DDThh:mm:ss+|-hh:mm` or `YYYY-MM-DDThh:mm:ssZ`..\n     *\n     * @param dateCreatedBefore Read only recordings that started before this [ISO\n     *                          8601](https://en.wikipedia.org/wiki/ISO_8601)\n     *                          date-time with time zone\n     * @return this\n     */\n    public RecordingReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore) {\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n\n    /**\n     * Read only recordings that have this media type. Can be either `audio` or\n     * `video`..\n     *\n     * @param mediaType Read only recordings that have this media type\n     * @return this\n     */\n    public RecordingReader setMediaType(final Recording.Type mediaType) {\n        this.mediaType = mediaType;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Recording ResourceSet\n     */\n    @Override\n    public ResourceSet<Recording> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Recording ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Recording> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            \"/v1/Recordings\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Recording ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Recording> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Recording> nextPage(final Page<Recording> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Recording> previousPage(final Page<Recording> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Recording Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Recording> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Recording read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"recordings\",\n            response.getContent(),\n            Recording.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (sourceSid != null) {\n            request.addQueryParam(\"SourceSid\", sourceSid);\n        }\n\n        if (groupingSid != null) {\n            for (String prop : groupingSid) {\n                request.addQueryParam(\"GroupingSid\", prop);\n            }\n        }\n\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (mediaType != null) {\n            request.addQueryParam(\"MediaType\", mediaType.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":94}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingSettingsCreator extends Creator<RecordingSettings>{\n    private String friendlyName;\n    private String awsCredentialsSid;\n    private String encryptionKeySid;\n    private URI awsS3Url;\n    private Boolean awsStorageEnabled;\n    private Boolean encryptionEnabled;\n\n    public RecordingSettingsCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    public RecordingSettingsCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public RecordingSettingsCreator setAwsCredentialsSid(final String awsCredentialsSid){\n        this.awsCredentialsSid = awsCredentialsSid;\n        return this;\n    }\n    public RecordingSettingsCreator setEncryptionKeySid(final String encryptionKeySid){\n        this.encryptionKeySid = encryptionKeySid;\n        return this;\n    }\n    public RecordingSettingsCreator setAwsS3Url(final URI awsS3Url){\n        this.awsS3Url = awsS3Url;\n        return this;\n    }\n\n    public RecordingSettingsCreator setAwsS3Url(final String awsS3Url){\n    this.awsS3Url = Promoter.uriFromString(awsS3Url);\n    return this;\n    }\n    public RecordingSettingsCreator setAwsStorageEnabled(final Boolean awsStorageEnabled){\n        this.awsStorageEnabled = awsStorageEnabled;\n        return this;\n    }\n    public RecordingSettingsCreator setEncryptionEnabled(final Boolean encryptionEnabled){\n        this.encryptionEnabled = encryptionEnabled;\n        return this;\n    }\n\n    @Override\n    public RecordingSettings create(final TwilioRestClient client){\n        String path = \"/v1/RecordingSettings/Default\";\n\n        path = path.replace(\"{\"+\"FriendlyName\"+\"}\", this.friendlyName.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"RecordingSettings creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RecordingSettings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (awsCredentialsSid != null) {\n            request.addPostParam(\"AwsCredentialsSid\", awsCredentialsSid);\n    \n        }\n        if (encryptionKeySid != null) {\n            request.addPostParam(\"EncryptionKeySid\", encryptionKeySid);\n    \n        }\n        if (awsS3Url != null) {\n            request.addPostParam(\"AwsS3Url\", awsS3Url.toString());\n    \n        }\n        if (awsStorageEnabled != null) {\n            request.addPostParam(\"AwsStorageEnabled\", awsStorageEnabled.toString());\n    \n        }\n        if (encryptionEnabled != null) {\n            request.addPostParam(\"EncryptionEnabled\", encryptionEnabled.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class RecordingSettingsCreator extends Creator<RecordingSettings> {\n    private final String friendlyName;\n    private String awsCredentialsSid;\n    private String encryptionKeySid;\n    private URI awsS3Url;\n    private Boolean awsStorageEnabled;\n    private Boolean encryptionEnabled;\n\n    /**\n     * Construct a new RecordingSettingsCreator.\n     *\n     * @param friendlyName A string to describe the resource\n     */\n    public RecordingSettingsCreator(final String friendlyName) {\n        this.friendlyName = friendlyName;\n    }\n\n    /**\n     * The SID of the stored Credential resource..\n     *\n     * @param awsCredentialsSid The SID of the stored Credential resource\n     * @return this\n     */\n    public RecordingSettingsCreator setAwsCredentialsSid(final String awsCredentialsSid) {\n        this.awsCredentialsSid = awsCredentialsSid;\n        return this;\n    }\n\n    /**\n     * The SID of the Public Key resource to use for encryption..\n     *\n     * @param encryptionKeySid The SID of the Public Key resource to use for\n     *                         encryption\n     * @return this\n     */\n    public RecordingSettingsCreator setEncryptionKeySid(final String encryptionKeySid) {\n        this.encryptionKeySid = encryptionKeySid;\n        return this;\n    }\n\n    /**\n     * The URL of the AWS S3 bucket where the recordings should be stored. We only\n     * support DNS-compliant URLs like\n     * `https://documentation-example-twilio-bucket/recordings`, where `recordings`\n     * is the path in which you want the recordings to be stored. This URL accepts\n     * only URI-valid characters, as described in the &lt;a\n     * href='https://tools.ietf.org/html/rfc3986#section-2'&gt;RFC 3986&lt;/a&gt;..\n     *\n     * @param awsS3Url The URL of the AWS S3 bucket where the recordings should be\n     *                 stored\n     * @return this\n     */\n    public RecordingSettingsCreator setAwsS3Url(final URI awsS3Url) {\n        this.awsS3Url = awsS3Url;\n        return this;\n    }\n\n    /**\n     * The URL of the AWS S3 bucket where the recordings should be stored. We only\n     * support DNS-compliant URLs like\n     * `https://documentation-example-twilio-bucket/recordings`, where `recordings`\n     * is the path in which you want the recordings to be stored. This URL accepts\n     * only URI-valid characters, as described in the &lt;a\n     * href='https://tools.ietf.org/html/rfc3986#section-2'&gt;RFC 3986&lt;/a&gt;..\n     *\n     * @param awsS3Url The URL of the AWS S3 bucket where the recordings should be\n     *                 stored\n     * @return this\n     */\n    public RecordingSettingsCreator setAwsS3Url(final String awsS3Url) {\n        return setAwsS3Url(Promoter.uriFromString(awsS3Url));\n    }\n\n    /**\n     * Whether all recordings should be written to the `aws_s3_url`. When `false`,\n     * all recordings are stored in our cloud..\n     *\n     * @param awsStorageEnabled Whether all recordings should be written to the\n     *                          aws_s3_url\n     * @return this\n     */\n    public RecordingSettingsCreator setAwsStorageEnabled(final Boolean awsStorageEnabled) {\n        this.awsStorageEnabled = awsStorageEnabled;\n        return this;\n    }\n\n    /**\n     * Whether all recordings should be stored in an encrypted form. The default is\n     * `false`..\n     *\n     * @param encryptionEnabled Whether all recordings should be stored in an\n     *                          encrypted form\n     * @return this\n     */\n    public RecordingSettingsCreator setEncryptionEnabled(final Boolean encryptionEnabled) {\n        this.encryptionEnabled = encryptionEnabled;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created RecordingSettings\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public RecordingSettings create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            \"/v1/RecordingSettings/Default\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RecordingSettings creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RecordingSettings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (awsCredentialsSid != null) {\n            request.addPostParam(\"AwsCredentialsSid\", awsCredentialsSid);\n        }\n\n        if (encryptionKeySid != null) {\n            request.addPostParam(\"EncryptionKeySid\", encryptionKeySid);\n        }\n\n        if (awsS3Url != null) {\n            request.addPostParam(\"AwsS3Url\", awsS3Url.toString());\n        }\n\n        if (awsStorageEnabled != null) {\n            request.addPostParam(\"AwsStorageEnabled\", awsStorageEnabled.toString());\n        }\n\n        if (encryptionEnabled != null) {\n            request.addPostParam(\"EncryptionEnabled\", encryptionEnabled.toString());\n        }\n    }\n}\n","lineNo":90}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RecordingSettingsFetcher extends Fetcher<RecordingSettings> {\n\n    public RecordingSettingsFetcher(){\n    }\n\n\n    @Override\n    public RecordingSettings fetch(final TwilioRestClient client) {\n        String path = \"/v1/RecordingSettings/Default\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"RecordingSettings fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RecordingSettings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RecordingSettingsFetcher extends Fetcher<RecordingSettings> {\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched RecordingSettings\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public RecordingSettings fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            \"/v1/RecordingSettings/Default\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RecordingSettings fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RecordingSettings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":51}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.converter.Converter;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\nimport java.util.Map;\nimport com.twilio.converter.Converter;\nimport java.net.URI;\n\nimport java.util.List;\nimport java.util.Map;\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RoomCreator extends Creator<Room>{\n    private Boolean enableTurn;\n    private Room.RoomType type;\n    private String uniqueName;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Integer maxParticipants;\n    private Boolean recordParticipantsOnConnect;\n    private List<Room.VideoCodec> videoCodecs;\n    private String mediaRegion;\n    private Map<String, Object> recordingRules;\n    private Boolean audioOnly;\n    private Integer maxParticipantDuration;\n    private Integer emptyRoomTimeout;\n    private Integer unusedRoomTimeout;\n    private Boolean largeRoom;\n\n    public RoomCreator() {\n    }\n\n    public RoomCreator setEnableTurn(final Boolean enableTurn){\n        this.enableTurn = enableTurn;\n        return this;\n    }\n    public RoomCreator setType(final Room.RoomType type){\n        this.type = type;\n        return this;\n    }\n    public RoomCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public RoomCreator setStatusCallback(final URI statusCallback){\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    public RoomCreator setStatusCallback(final String statusCallback){\n    this.statusCallback = Promoter.uriFromString(statusCallback);\n    return this;\n    }\n    public RoomCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public RoomCreator setMaxParticipants(final Integer maxParticipants){\n        this.maxParticipants = maxParticipants;\n        return this;\n    }\n    public RoomCreator setRecordParticipantsOnConnect(final Boolean recordParticipantsOnConnect){\n        this.recordParticipantsOnConnect = recordParticipantsOnConnect;\n        return this;\n    }\n    public RoomCreator setVideoCodecs(final List<Room.VideoCodec> videoCodecs){\n        this.videoCodecs = videoCodecs;\n        return this;\n    }\n    public RoomCreator setMediaRegion(final String mediaRegion){\n        this.mediaRegion = mediaRegion;\n        return this;\n    }\n    public RoomCreator setRecordingRules(final Map<String, Object> recordingRules){\n        this.recordingRules = recordingRules;\n        return this;\n    }\n    public RoomCreator setAudioOnly(final Boolean audioOnly){\n        this.audioOnly = audioOnly;\n        return this;\n    }\n    public RoomCreator setMaxParticipantDuration(final Integer maxParticipantDuration){\n        this.maxParticipantDuration = maxParticipantDuration;\n        return this;\n    }\n    public RoomCreator setEmptyRoomTimeout(final Integer emptyRoomTimeout){\n        this.emptyRoomTimeout = emptyRoomTimeout;\n        return this;\n    }\n    public RoomCreator setUnusedRoomTimeout(final Integer unusedRoomTimeout){\n        this.unusedRoomTimeout = unusedRoomTimeout;\n        return this;\n    }\n    public RoomCreator setLargeRoom(final Boolean largeRoom){\n        this.largeRoom = largeRoom;\n        return this;\n    }\n\n    @Override\n    public Room create(final TwilioRestClient client){\n        String path = \"/v1/Rooms\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Room creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Room.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (enableTurn != null) {\n            request.addPostParam(\"EnableTurn\", enableTurn.toString());\n    \n        }\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n    \n        }\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (maxParticipants != null) {\n            request.addPostParam(\"MaxParticipants\", maxParticipants.toString());\n    \n        }\n        if (recordParticipantsOnConnect != null) {\n            request.addPostParam(\"RecordParticipantsOnConnect\", recordParticipantsOnConnect.toString());\n    \n        }\n        if (videoCodecs != null) {\n            for (Room.VideoCodec prop : videoCodecs) {\n                request.addPostParam(\"VideoCodecs\", prop.toString());\n            }\n    \n        }\n        if (mediaRegion != null) {\n            request.addPostParam(\"MediaRegion\", mediaRegion);\n    \n        }\n        if (recordingRules != null) {\n            request.addPostParam(\"RecordingRules\",  Converter.mapToJson(recordingRules));\n    \n        }\n        if (audioOnly != null) {\n            request.addPostParam(\"AudioOnly\", audioOnly.toString());\n    \n        }\n        if (maxParticipantDuration != null) {\n            request.addPostParam(\"MaxParticipantDuration\", maxParticipantDuration.toString());\n    \n        }\n        if (emptyRoomTimeout != null) {\n            request.addPostParam(\"EmptyRoomTimeout\", emptyRoomTimeout.toString());\n    \n        }\n        if (unusedRoomTimeout != null) {\n            request.addPostParam(\"UnusedRoomTimeout\", unusedRoomTimeout.toString());\n    \n        }\n        if (largeRoom != null) {\n            request.addPostParam(\"LargeRoom\", largeRoom.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Converter;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\nimport java.util.List;\nimport java.util.Map;\n\npublic class RoomCreator extends Creator<Room> {\n    private Boolean enableTurn;\n    private Room.RoomType type;\n    private String uniqueName;\n    private URI statusCallback;\n    private HttpMethod statusCallbackMethod;\n    private Integer maxParticipants;\n    private Boolean recordParticipantsOnConnect;\n    private List<Room.VideoCodec> videoCodecs;\n    private String mediaRegion;\n    private Map<String, Object> recordingRules;\n    private Boolean audioOnly;\n    private Integer maxParticipantDuration;\n    private Integer emptyRoomTimeout;\n    private Integer unusedRoomTimeout;\n    private Boolean largeRoom;\n\n    /**\n     * Deprecated, now always considered to be true..\n     *\n     * @param enableTurn Enable Twilio's Network Traversal TURN service\n     * @return this\n     */\n    public RoomCreator setEnableTurn(final Boolean enableTurn) {\n        this.enableTurn = enableTurn;\n        return this;\n    }\n\n    /**\n     * The type of room. Can be: `go`, `peer-to-peer`, `group-small`, or `group`.\n     * The default value is `group`..\n     *\n     * @param type The type of room\n     * @return this\n     */\n    public RoomCreator setType(final Room.RoomType type) {\n        this.type = type;\n        return this;\n    }\n\n    /**\n     * An application-defined string that uniquely identifies the resource. It can\n     * be used as a `room_sid` in place of the resource's `sid` in the URL to\n     * address the resource, assuming it does not contain any <a\n     * href=\"https://tools.ietf.org/html/rfc3986#section-2.2\">reserved\n     * characters<\/a> that would need to be URL encoded. This value is unique for\n     * `in-progress` rooms. SDK clients can use this name to connect to the room.\n     * REST API clients can use this name in place of the Room SID to interact with\n     * the room as long as the room is `in-progress`..\n     *\n     * @param uniqueName An application-defined string that uniquely identifies the\n     *                   resource\n     * @return this\n     */\n    public RoomCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application on every room event. See <a\n     * href=\"https://www.twilio.com/docs/video/api/status-callbacks\">Status\n     * Callbacks<\/a> for more info..\n     *\n     * @param statusCallback The URL to send status information to your application\n     * @return this\n     */\n    public RoomCreator setStatusCallback(final URI statusCallback) {\n        this.statusCallback = statusCallback;\n        return this;\n    }\n\n    /**\n     * The URL we should call using the `status_callback_method` to send status\n     * information to your application on every room event. See <a\n     * href=\"https://www.twilio.com/docs/video/api/status-callbacks\">Status\n     * Callbacks<\/a> for more info..\n     *\n     * @param statusCallback The URL to send status information to your application\n     * @return this\n     */\n    public RoomCreator setStatusCallback(final String statusCallback) {\n        return setStatusCallback(Promoter.uriFromString(statusCallback));\n    }\n\n    /**\n     * The HTTP method we should use to call `status_callback`. Can be `POST` or\n     * `GET`..\n     *\n     * @param statusCallbackMethod The HTTP method we should use to call\n     *                             status_callback\n     * @return this\n     */\n    public RoomCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * The maximum number of concurrent Participants allowed in the room.\n     * Peer-to-peer rooms can have up to 10 Participants. Small Group rooms can have\n     * up to 4 Participants. Group rooms can have up to 50 Participants..\n     *\n     * @param maxParticipants The maximum number of concurrent Participants allowed\n     *                        in the room\n     * @return this\n     */\n    public RoomCreator setMaxParticipants(final Integer maxParticipants) {\n        this.maxParticipants = maxParticipants;\n        return this;\n    }\n\n    /**\n     * Whether to start recording when Participants connect. ***This feature is not\n     * available in `peer-to-peer` rooms.***.\n     *\n     * @param recordParticipantsOnConnect Whether to start recording when\n     *                                    Participants connect\n     * @return this\n     */\n    public RoomCreator setRecordParticipantsOnConnect(final Boolean recordParticipantsOnConnect) {\n        this.recordParticipantsOnConnect = recordParticipantsOnConnect;\n        return this;\n    }\n\n    /**\n     * An array of the video codecs that are supported when publishing a track in\n     * the room.  Can be: `VP8` and `H264`.  ***This feature is not available in\n     * `peer-to-peer` rooms***.\n     *\n     * @param videoCodecs An array of the video codecs that are supported when\n     *                    publishing a track in the room\n     * @return this\n     */\n    public RoomCreator setVideoCodecs(final List<Room.VideoCodec> videoCodecs) {\n        this.videoCodecs = videoCodecs;\n        return this;\n    }\n\n    /**\n     * An array of the video codecs that are supported when publishing a track in\n     * the room.  Can be: `VP8` and `H264`.  ***This feature is not available in\n     * `peer-to-peer` rooms***.\n     *\n     * @param videoCodecs An array of the video codecs that are supported when\n     *                    publishing a track in the room\n     * @return this\n     */\n    public RoomCreator setVideoCodecs(final Room.VideoCodec videoCodecs) {\n        return setVideoCodecs(Promoter.listOfOne(videoCodecs));\n    }\n\n    /**\n     * The region for the media server in Group Rooms.  Can be: one of the <a\n     * href=\"https://www.twilio.com/docs/video/ip-address-whitelisting#group-rooms-media-servers\">available\n     * Media Regions<\/a>. ***This feature is not available in `peer-to-peer`\n     * rooms.***.\n     *\n     * @param mediaRegion The region for the media server in Group Rooms\n     * @return this\n     */\n    public RoomCreator setMediaRegion(final String mediaRegion) {\n        this.mediaRegion = mediaRegion;\n        return this;\n    }\n\n    /**\n     * A collection of Recording Rules that describe how to include or exclude\n     * matching tracks for recording.\n     *\n     * @param recordingRules A collection of Recording Rules\n     * @return this\n     */\n    public RoomCreator setRecordingRules(final Map<String, Object> recordingRules) {\n        this.recordingRules = recordingRules;\n        return this;\n    }\n\n    /**\n     * When set to true, indicates that the participants in the room will only\n     * publish audio. No video tracks will be allowed. Group rooms only..\n     *\n     * @param audioOnly Indicates whether the room will only contain audio track\n     *                  participants for group rooms.\n     * @return this\n     */\n    public RoomCreator setAudioOnly(final Boolean audioOnly) {\n        this.audioOnly = audioOnly;\n        return this;\n    }\n\n    /**\n     * The maximum number of seconds a Participant can be connected to the room. The\n     * maximum possible value is 86400 seconds (24 hours). The default is 14400\n     * seconds (4 hours)..\n     *\n     * @param maxParticipantDuration The maximum number of seconds a Participant\n     *                               can be connected to the room\n     * @return this\n     */\n    public RoomCreator setMaxParticipantDuration(final Integer maxParticipantDuration) {\n        this.maxParticipantDuration = maxParticipantDuration;\n        return this;\n    }\n\n    /**\n     * Configures how long (in minutes) a room will remain active after last\n     * participant leaves. Valid values range from 1 to 60 minutes (no fractions)..\n     *\n     * @param emptyRoomTimeout Configures the time a room will remain active after\n     *                         last participant leaves.\n     * @return this\n     */\n    public RoomCreator setEmptyRoomTimeout(final Integer emptyRoomTimeout) {\n        this.emptyRoomTimeout = emptyRoomTimeout;\n        return this;\n    }\n\n    /**\n     * Configures how long (in minutes) a room will remain active if no one joins.\n     * Valid values range from 1 to 60 minutes (no fractions)..\n     *\n     * @param unusedRoomTimeout Configures the time a room will remain active when\n     *                          no one joins.\n     * @return this\n     */\n    public RoomCreator setUnusedRoomTimeout(final Integer unusedRoomTimeout) {\n        this.unusedRoomTimeout = unusedRoomTimeout;\n        return this;\n    }\n\n    /**\n     * When set to true, indicated that this is the large room..\n     *\n     * @param largeRoom Indicates whether this is a large room.\n     * @return this\n     */\n    public RoomCreator setLargeRoom(final Boolean largeRoom) {\n        this.largeRoom = largeRoom;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Room\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Room create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VIDEO.toString(),\n            \"/v1/Rooms\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Room creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Room.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (enableTurn != null) {\n            request.addPostParam(\"EnableTurn\", enableTurn.toString());\n        }\n\n        if (type != null) {\n            request.addPostParam(\"Type\", type.toString());\n        }\n\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (statusCallback != null) {\n            request.addPostParam(\"StatusCallback\", statusCallback.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (maxParticipants != null) {\n            request.addPostParam(\"MaxParticipants\", maxParticipants.toString());\n        }\n\n        if (recordParticipantsOnConnect != null) {\n            request.addPostParam(\"RecordParticipantsOnConnect\", recordParticipantsOnConnect.toString());\n        }\n\n        if (videoCodecs != null) {\n            for (Room.VideoCodec prop : videoCodecs) {\n                request.addPostParam(\"VideoCodecs\", prop.toString());\n            }\n        }\n\n        if (mediaRegion != null) {\n            request.addPostParam(\"MediaRegion\", mediaRegion);\n        }\n\n        if (recordingRules != null) {\n            request.addPostParam(\"RecordingRules\", Converter.mapToJson(recordingRules));\n        }\n\n        if (audioOnly != null) {\n            request.addPostParam(\"AudioOnly\", audioOnly.toString());\n        }\n\n        if (maxParticipantDuration != null) {\n            request.addPostParam(\"MaxParticipantDuration\", maxParticipantDuration.toString());\n        }\n\n        if (emptyRoomTimeout != null) {\n            request.addPostParam(\"EmptyRoomTimeout\", emptyRoomTimeout.toString());\n        }\n\n        if (unusedRoomTimeout != null) {\n            request.addPostParam(\"UnusedRoomTimeout\", unusedRoomTimeout.toString());\n        }\n\n        if (largeRoom != null) {\n            request.addPostParam(\"LargeRoom\", largeRoom.toString());\n        }\n    }\n}\n","lineNo":140}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Video\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Video\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RoomReader extends Reader<Room> {\n    private Room.RoomStatus status;\n    private String uniqueName;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n    private Integer pageSize;\n\n    public RoomReader(){\n    }\n\n    public RoomReader setStatus(final Room.RoomStatus status){\n        this.status = status;\n        return this;\n    }\n    public RoomReader setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public RoomReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter){\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n    public RoomReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore){\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n    public RoomReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Room> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Room> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Rooms\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Room> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Room read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"rooms\",\n            response.getContent(),\n            Room.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Room> previousPage(final Page<Room> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Room> nextPage(final Page<Room> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Room> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (uniqueName != null) {\n    \n            request.addQueryParam(\"UniqueName\", uniqueName);\n        }\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.video.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class RoomReader extends Reader<Room> {\n    private Room.RoomStatus status;\n    private String uniqueName;\n    private ZonedDateTime dateCreatedAfter;\n    private ZonedDateTime dateCreatedBefore;\n\n    /**\n     * Read only the rooms with this status. Can be: `in-progress` (default) or\n     * `completed`.\n     *\n     * @param status Read only the rooms with this status\n     * @return this\n     */\n    public RoomReader setStatus(final Room.RoomStatus status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Read only rooms with the this `unique_name`..\n     *\n     * @param uniqueName Read only rooms with this unique_name\n     * @return this\n     */\n    public RoomReader setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * Read only rooms that started on or after this date, given as `YYYY-MM-DD`..\n     *\n     * @param dateCreatedAfter Read only rooms that started on or after this date,\n     *                         given as YYYY-MM-DD\n     * @return this\n     */\n    public RoomReader setDateCreatedAfter(final ZonedDateTime dateCreatedAfter) {\n        this.dateCreatedAfter = dateCreatedAfter;\n        return this;\n    }\n\n    /**\n     * Read only rooms that started before this date, given as `YYYY-MM-DD`..\n     *\n     * @param dateCreatedBefore Read only rooms that started before this date,\n     *                          given as YYYY-MM-DD\n     * @return this\n     */\n    public RoomReader setDateCreatedBefore(final ZonedDateTime dateCreatedBefore) {\n        this.dateCreatedBefore = dateCreatedBefore;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Room ResourceSet\n     */\n    @Override\n    public ResourceSet<Room> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Room ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Room> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VIDEO.toString(),\n            \"/v1/Rooms\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Room ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Room> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Room> nextPage(final Page<Room> page,\n                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Room> previousPage(final Page<Room> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VIDEO.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Room Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Room> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Room read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"rooms\",\n            response.getContent(),\n            Room.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (uniqueName != null) {\n            request.addQueryParam(\"UniqueName\", uniqueName);\n        }\n\n        if (dateCreatedAfter != null) {\n            request.addQueryParam(\"DateCreatedAfter\", dateCreatedAfter.toInstant().toString());\n        }\n\n        if (dateCreatedBefore != null) {\n            request.addQueryParam(\"DateCreatedBefore\", dateCreatedBefore.toInstant().toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":83}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ByocTrunkCreator extends Creator<ByocTrunk>{\n    private String friendlyName;\n    private URI voiceUrl;\n    private HttpMethod voiceMethod;\n    private URI voiceFallbackUrl;\n    private HttpMethod voiceFallbackMethod;\n    private URI statusCallbackUrl;\n    private HttpMethod statusCallbackMethod;\n    private Boolean cnamLookupEnabled;\n    private String connectionPolicySid;\n    private String fromDomainSid;\n\n    public ByocTrunkCreator() {\n    }\n\n    public ByocTrunkCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public ByocTrunkCreator setVoiceUrl(final URI voiceUrl){\n        this.voiceUrl = voiceUrl;\n        return this;\n    }\n\n    public ByocTrunkCreator setVoiceUrl(final String voiceUrl){\n    this.voiceUrl = Promoter.uriFromString(voiceUrl);\n    return this;\n    }\n    public ByocTrunkCreator setVoiceMethod(final HttpMethod voiceMethod){\n        this.voiceMethod = voiceMethod;\n        return this;\n    }\n    public ByocTrunkCreator setVoiceFallbackUrl(final URI voiceFallbackUrl){\n        this.voiceFallbackUrl = voiceFallbackUrl;\n        return this;\n    }\n\n    public ByocTrunkCreator setVoiceFallbackUrl(final String voiceFallbackUrl){\n    this.voiceFallbackUrl = Promoter.uriFromString(voiceFallbackUrl);\n    return this;\n    }\n    public ByocTrunkCreator setVoiceFallbackMethod(final HttpMethod voiceFallbackMethod){\n        this.voiceFallbackMethod = voiceFallbackMethod;\n        return this;\n    }\n    public ByocTrunkCreator setStatusCallbackUrl(final URI statusCallbackUrl){\n        this.statusCallbackUrl = statusCallbackUrl;\n        return this;\n    }\n\n    public ByocTrunkCreator setStatusCallbackUrl(final String statusCallbackUrl){\n    this.statusCallbackUrl = Promoter.uriFromString(statusCallbackUrl);\n    return this;\n    }\n    public ByocTrunkCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod){\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n    public ByocTrunkCreator setCnamLookupEnabled(final Boolean cnamLookupEnabled){\n        this.cnamLookupEnabled = cnamLookupEnabled;\n        return this;\n    }\n    public ByocTrunkCreator setConnectionPolicySid(final String connectionPolicySid){\n        this.connectionPolicySid = connectionPolicySid;\n        return this;\n    }\n    public ByocTrunkCreator setFromDomainSid(final String fromDomainSid){\n        this.fromDomainSid = fromDomainSid;\n        return this;\n    }\n\n    @Override\n    public ByocTrunk create(final TwilioRestClient client){\n        String path = \"/v1/ByocTrunks\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"ByocTrunk creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ByocTrunk.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (voiceUrl != null) {\n            request.addPostParam(\"VoiceUrl\", voiceUrl.toString());\n    \n        }\n        if (voiceMethod != null) {\n            request.addPostParam(\"VoiceMethod\", voiceMethod.toString());\n    \n        }\n        if (voiceFallbackUrl != null) {\n            request.addPostParam(\"VoiceFallbackUrl\", voiceFallbackUrl.toString());\n    \n        }\n        if (voiceFallbackMethod != null) {\n            request.addPostParam(\"VoiceFallbackMethod\", voiceFallbackMethod.toString());\n    \n        }\n        if (statusCallbackUrl != null) {\n            request.addPostParam(\"StatusCallbackUrl\", statusCallbackUrl.toString());\n    \n        }\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n    \n        }\n        if (cnamLookupEnabled != null) {\n            request.addPostParam(\"CnamLookupEnabled\", cnamLookupEnabled.toString());\n    \n        }\n        if (connectionPolicySid != null) {\n            request.addPostParam(\"ConnectionPolicySid\", connectionPolicySid);\n    \n        }\n        if (fromDomainSid != null) {\n            request.addPostParam(\"FromDomainSid\", fromDomainSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class ByocTrunkCreator extends Creator<ByocTrunk> {\n    private String friendlyName;\n    private URI voiceUrl;\n    private HttpMethod voiceMethod;\n    private URI voiceFallbackUrl;\n    private HttpMethod voiceFallbackMethod;\n    private URI statusCallbackUrl;\n    private HttpMethod statusCallbackMethod;\n    private Boolean cnamLookupEnabled;\n    private String connectionPolicySid;\n    private String fromDomainSid;\n\n    /**\n     * A descriptive string that you create to describe the resource. It is not\n     * unique and can be up to 255 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public ByocTrunkCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the BYOC Trunk receives a call..\n     *\n     * @param voiceUrl The URL we should call when receiving a call\n     * @return this\n     */\n    public ByocTrunkCreator setVoiceUrl(final URI voiceUrl) {\n        this.voiceUrl = voiceUrl;\n        return this;\n    }\n\n    /**\n     * The URL we should call when the BYOC Trunk receives a call..\n     *\n     * @param voiceUrl The URL we should call when receiving a call\n     * @return this\n     */\n    public ByocTrunkCreator setVoiceUrl(final String voiceUrl) {\n        return setVoiceUrl(Promoter.uriFromString(voiceUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `voice_url`. Can be: `GET` or `POST`..\n     *\n     * @param voiceMethod The HTTP method to use with voice_url\n     * @return this\n     */\n    public ByocTrunkCreator setVoiceMethod(final HttpMethod voiceMethod) {\n        this.voiceMethod = voiceMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs while retrieving or\n     * executing the TwiML from `voice_url`..\n     *\n     * @param voiceFallbackUrl The URL we should call when an error occurs in\n     *                         executing TwiML\n     * @return this\n     */\n    public ByocTrunkCreator setVoiceFallbackUrl(final URI voiceFallbackUrl) {\n        this.voiceFallbackUrl = voiceFallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call when an error occurs while retrieving or\n     * executing the TwiML from `voice_url`..\n     *\n     * @param voiceFallbackUrl The URL we should call when an error occurs in\n     *                         executing TwiML\n     * @return this\n     */\n    public ByocTrunkCreator setVoiceFallbackUrl(final String voiceFallbackUrl) {\n        return setVoiceFallbackUrl(Promoter.uriFromString(voiceFallbackUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `voice_fallback_url`. Can be: `GET` or\n     * `POST`..\n     *\n     * @param voiceFallbackMethod The HTTP method to use with voice_fallback_url\n     * @return this\n     */\n    public ByocTrunkCreator setVoiceFallbackMethod(final HttpMethod voiceFallbackMethod) {\n        this.voiceFallbackMethod = voiceFallbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL that we should call to pass status parameters (such as call ended) to\n     * your application..\n     *\n     * @param statusCallbackUrl The URL that we should call to pass status updates\n     * @return this\n     */\n    public ByocTrunkCreator setStatusCallbackUrl(final URI statusCallbackUrl) {\n        this.statusCallbackUrl = statusCallbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL that we should call to pass status parameters (such as call ended) to\n     * your application..\n     *\n     * @param statusCallbackUrl The URL that we should call to pass status updates\n     * @return this\n     */\n    public ByocTrunkCreator setStatusCallbackUrl(final String statusCallbackUrl) {\n        return setStatusCallbackUrl(Promoter.uriFromString(statusCallbackUrl));\n    }\n\n    /**\n     * The HTTP method we should use to call `status_callback_url`. Can be: `GET` or\n     * `POST`..\n     *\n     * @param statusCallbackMethod The HTTP method we should use to call\n     *                             `status_callback_url`\n     * @return this\n     */\n    public ByocTrunkCreator setStatusCallbackMethod(final HttpMethod statusCallbackMethod) {\n        this.statusCallbackMethod = statusCallbackMethod;\n        return this;\n    }\n\n    /**\n     * Whether Caller ID Name (CNAM) lookup is enabled for the trunk. If enabled,\n     * all inbound calls to the BYOC Trunk from the United States and Canada\n     * automatically perform a CNAM Lookup and display Caller ID data on your phone.\n     * See <a href=\"https://www.twilio.com/docs/sip-trunking#CNAM\">CNAM Lookups<\/a>\n     * for more information..\n     *\n     * @param cnamLookupEnabled Whether Caller ID Name (CNAM) lookup is enabled for\n     *                          the trunk\n     * @return this\n     */\n    public ByocTrunkCreator setCnamLookupEnabled(final Boolean cnamLookupEnabled) {\n        this.cnamLookupEnabled = cnamLookupEnabled;\n        return this;\n    }\n\n    /**\n     * The SID of the Connection Policy that Twilio will use when routing traffic to\n     * your communications infrastructure..\n     *\n     * @param connectionPolicySid Origination Connection Policy (to your Carrier)\n     * @return this\n     */\n    public ByocTrunkCreator setConnectionPolicySid(final String connectionPolicySid) {\n        this.connectionPolicySid = connectionPolicySid;\n        return this;\n    }\n\n    /**\n     * The SID of the SIP Domain that should be used in the `From` header of\n     * originating calls sent to your SIP infrastructure. If your SIP infrastructure\n     * allows users to \"call back\" an incoming call, configure this with a <a\n     * href=\"https://www.twilio.com/docs/voice/api/sending-sip\">SIP Domain<\/a> to\n     * ensure proper routing. If not configured, the from domain will default to\n     * \"sip.twilio.com\"..\n     *\n     * @param fromDomainSid The SID of the SIP Domain that should be used in the\n     *                      `From` header of originating calls\n     * @return this\n     */\n    public ByocTrunkCreator setFromDomainSid(final String fromDomainSid) {\n        this.fromDomainSid = fromDomainSid;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created ByocTrunk\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public ByocTrunk create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            \"/v1/ByocTrunks\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ByocTrunk creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ByocTrunk.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (voiceUrl != null) {\n            request.addPostParam(\"VoiceUrl\", voiceUrl.toString());\n        }\n\n        if (voiceMethod != null) {\n            request.addPostParam(\"VoiceMethod\", voiceMethod.toString());\n        }\n\n        if (voiceFallbackUrl != null) {\n            request.addPostParam(\"VoiceFallbackUrl\", voiceFallbackUrl.toString());\n        }\n\n        if (voiceFallbackMethod != null) {\n            request.addPostParam(\"VoiceFallbackMethod\", voiceFallbackMethod.toString());\n        }\n\n        if (statusCallbackUrl != null) {\n            request.addPostParam(\"StatusCallbackUrl\", statusCallbackUrl.toString());\n        }\n\n        if (statusCallbackMethod != null) {\n            request.addPostParam(\"StatusCallbackMethod\", statusCallbackMethod.toString());\n        }\n\n        if (cnamLookupEnabled != null) {\n            request.addPostParam(\"CnamLookupEnabled\", cnamLookupEnabled.toString());\n        }\n\n        if (connectionPolicySid != null) {\n            request.addPostParam(\"ConnectionPolicySid\", connectionPolicySid);\n        }\n\n        if (fromDomainSid != null) {\n            request.addPostParam(\"FromDomainSid\", fromDomainSid);\n        }\n    }\n}\n","lineNo":119}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ByocTrunkReader extends Reader<ByocTrunk> {\n    private Integer pageSize;\n\n    public ByocTrunkReader(){\n    }\n\n    public ByocTrunkReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<ByocTrunk> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<ByocTrunk> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/ByocTrunks\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<ByocTrunk> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ByocTrunk read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"byoc_trunks\",\n            response.getContent(),\n            ByocTrunk.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<ByocTrunk> previousPage(final Page<ByocTrunk> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<ByocTrunk> nextPage(final Page<ByocTrunk> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<ByocTrunk> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ByocTrunkReader extends Reader<ByocTrunk> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return ByocTrunk ResourceSet\n     */\n    @Override\n    public ResourceSet<ByocTrunk> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return ByocTrunk ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<ByocTrunk> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            \"/v1/ByocTrunks\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return ByocTrunk ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<ByocTrunk> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<ByocTrunk> nextPage(final Page<ByocTrunk> page,\n                                    final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<ByocTrunk> previousPage(final Page<ByocTrunk> page,\n                                        final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of ByocTrunk Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<ByocTrunk> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ByocTrunk read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"byoc_trunks\",\n            response.getContent(),\n            ByocTrunk.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConnectionPolicyCreator extends Creator<ConnectionPolicy>{\n    private String friendlyName;\n\n    public ConnectionPolicyCreator() {\n    }\n\n    public ConnectionPolicyCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    @Override\n    public ConnectionPolicy create(final TwilioRestClient client){\n        String path = \"/v1/ConnectionPolicies\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectionPolicy creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ConnectionPolicy.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConnectionPolicyCreator extends Creator<ConnectionPolicy> {\n    private String friendlyName;\n\n    /**\n     * A descriptive string that you create to describe the resource. It is not\n     * unique and can be up to 255 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public ConnectionPolicyCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created ConnectionPolicy\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public ConnectionPolicy create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            \"/v1/ConnectionPolicies\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectionPolicy creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return ConnectionPolicy.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","lineNo":56}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class ConnectionPolicyReader extends Reader<ConnectionPolicy> {\n    private Integer pageSize;\n\n    public ConnectionPolicyReader(){\n    }\n\n    public ConnectionPolicyReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<ConnectionPolicy> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<ConnectionPolicy> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/ConnectionPolicies\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<ConnectionPolicy> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectionPolicy read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"connection_policies\",\n            response.getContent(),\n            ConnectionPolicy.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<ConnectionPolicy> previousPage(final Page<ConnectionPolicy> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<ConnectionPolicy> nextPage(final Page<ConnectionPolicy> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<ConnectionPolicy> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class ConnectionPolicyReader extends Reader<ConnectionPolicy> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return ConnectionPolicy ResourceSet\n     */\n    @Override\n    public ResourceSet<ConnectionPolicy> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return ConnectionPolicy ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<ConnectionPolicy> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            \"/v1/ConnectionPolicies\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return ConnectionPolicy ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<ConnectionPolicy> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<ConnectionPolicy> nextPage(final Page<ConnectionPolicy> page,\n                                           final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<ConnectionPolicy> previousPage(final Page<ConnectionPolicy> page,\n                                               final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of ConnectionPolicy Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<ConnectionPolicy> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"ConnectionPolicy read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"connection_policies\",\n            response.getContent(),\n            ConnectionPolicy.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpRecordCreator extends Creator<IpRecord>{\n    private String ipAddress;\n    private String friendlyName;\n    private Integer cidrPrefixLength;\n\n    public IpRecordCreator(final String ipAddress) {\n        this.ipAddress = ipAddress;\n    }\n\n    public IpRecordCreator setIpAddress(final String ipAddress){\n        this.ipAddress = ipAddress;\n        return this;\n    }\n    public IpRecordCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public IpRecordCreator setCidrPrefixLength(final Integer cidrPrefixLength){\n        this.cidrPrefixLength = cidrPrefixLength;\n        return this;\n    }\n\n    @Override\n    public IpRecord create(final TwilioRestClient client){\n        String path = \"/v1/IpRecords\";\n\n        path = path.replace(\"{\"+\"IpAddress\"+\"}\", this.ipAddress.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"IpRecord creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpRecord.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (ipAddress != null) {\n            request.addPostParam(\"IpAddress\", ipAddress);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (cidrPrefixLength != null) {\n            request.addPostParam(\"CidrPrefixLength\", cidrPrefixLength.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpRecordCreator extends Creator<IpRecord> {\n    private final String ipAddress;\n    private String friendlyName;\n    private Integer cidrPrefixLength;\n\n    /**\n     * Construct a new IpRecordCreator.\n     *\n     * @param ipAddress An IP address in dotted decimal notation, IPv4 only.\n     */\n    public IpRecordCreator(final String ipAddress) {\n        this.ipAddress = ipAddress;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It is not\n     * unique and can be up to 255 characters long..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public IpRecordCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * An integer representing the length of the <a\n     * href=\"https://tools.ietf.org/html/rfc4632\">CIDR<\/a> prefix to use with this\n     * IP address. By default the entire IP address is used, which for IPv4 is value\n     * 32..\n     *\n     * @param cidrPrefixLength An integer representing the length of the\n     *                         <a href=\"https://tools.ietf.org/html/rfc4632\">CIDR<\/a> prefix to\n     *                         use with this IP address. By default the entire IP\n     *                         address is used, which for IPv4 is value 32.\n     * @return this\n     */\n    public IpRecordCreator setCidrPrefixLength(final Integer cidrPrefixLength) {\n        this.cidrPrefixLength = cidrPrefixLength;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created IpRecord\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public IpRecord create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            \"/v1/IpRecords\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpRecord creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return IpRecord.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (ipAddress != null) {\n            request.addPostParam(\"IpAddress\", ipAddress);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (cidrPrefixLength != null) {\n            request.addPostParam(\"CidrPrefixLength\", cidrPrefixLength.toString());\n        }\n    }\n}\n","lineNo":67}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class IpRecordReader extends Reader<IpRecord> {\n    private Integer pageSize;\n\n    public IpRecordReader(){\n    }\n\n    public IpRecordReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<IpRecord> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<IpRecord> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/IpRecords\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<IpRecord> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpRecord read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"ip_records\",\n            response.getContent(),\n            IpRecord.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<IpRecord> previousPage(final Page<IpRecord> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<IpRecord> nextPage(final Page<IpRecord> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<IpRecord> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class IpRecordReader extends Reader<IpRecord> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return IpRecord ResourceSet\n     */\n    @Override\n    public ResourceSet<IpRecord> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return IpRecord ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<IpRecord> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            \"/v1/IpRecords\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return IpRecord ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<IpRecord> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<IpRecord> nextPage(final Page<IpRecord> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<IpRecord> previousPage(final Page<IpRecord> page,\n                                       final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of IpRecord Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<IpRecord> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"IpRecord read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"ip_records\",\n            response.getContent(),\n            IpRecord.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SourceIpMappingCreator extends Creator<SourceIpMapping>{\n    private String ipRecordSid;\n    private String sipDomainSid;\n\n    public SourceIpMappingCreator(final String ipRecordSid, final String sipDomainSid) {\n        this.ipRecordSid = ipRecordSid;\n        this.sipDomainSid = sipDomainSid;\n    }\n\n    public SourceIpMappingCreator setIpRecordSid(final String ipRecordSid){\n        this.ipRecordSid = ipRecordSid;\n        return this;\n    }\n    public SourceIpMappingCreator setSipDomainSid(final String sipDomainSid){\n        this.sipDomainSid = sipDomainSid;\n        return this;\n    }\n\n    @Override\n    public SourceIpMapping create(final TwilioRestClient client){\n        String path = \"/v1/SourceIpMappings\";\n\n        path = path.replace(\"{\"+\"IpRecordSid\"+\"}\", this.ipRecordSid.toString());\n        path = path.replace(\"{\"+\"SipDomainSid\"+\"}\", this.sipDomainSid.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"SourceIpMapping creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SourceIpMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (ipRecordSid != null) {\n            request.addPostParam(\"IpRecordSid\", ipRecordSid);\n    \n        }\n        if (sipDomainSid != null) {\n            request.addPostParam(\"SipDomainSid\", sipDomainSid);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SourceIpMappingCreator extends Creator<SourceIpMapping> {\n    private final String ipRecordSid;\n    private final String sipDomainSid;\n\n    /**\n     * Construct a new SourceIpMappingCreator.\n     *\n     * @param ipRecordSid The unique string that identifies an IP Record\n     * @param sipDomainSid The unique string that identifies a SIP Domain\n     */\n    public SourceIpMappingCreator(final String ipRecordSid,\n                                  final String sipDomainSid) {\n        this.ipRecordSid = ipRecordSid;\n        this.sipDomainSid = sipDomainSid;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created SourceIpMapping\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public SourceIpMapping create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            \"/v1/SourceIpMappings\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SourceIpMapping creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return SourceIpMapping.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (ipRecordSid != null) {\n            request.addPostParam(\"IpRecordSid\", ipRecordSid);\n        }\n\n        if (sipDomainSid != null) {\n            request.addPostParam(\"SipDomainSid\", sipDomainSid);\n        }\n    }\n}\n","lineNo":63}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SourceIpMappingReader extends Reader<SourceIpMapping> {\n    private Integer pageSize;\n\n    public SourceIpMappingReader(){\n    }\n\n    public SourceIpMappingReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<SourceIpMapping> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<SourceIpMapping> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/SourceIpMappings\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<SourceIpMapping> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SourceIpMapping read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"source_ip_mappings\",\n            response.getContent(),\n            SourceIpMapping.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<SourceIpMapping> previousPage(final Page<SourceIpMapping> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<SourceIpMapping> nextPage(final Page<SourceIpMapping> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<SourceIpMapping> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SourceIpMappingReader extends Reader<SourceIpMapping> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SourceIpMapping ResourceSet\n     */\n    @Override\n    public ResourceSet<SourceIpMapping> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return SourceIpMapping ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SourceIpMapping> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            \"/v1/SourceIpMappings\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return SourceIpMapping ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<SourceIpMapping> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<SourceIpMapping> nextPage(final Page<SourceIpMapping> page,\n                                          final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<SourceIpMapping> previousPage(final Page<SourceIpMapping> page,\n                                              final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of SourceIpMapping Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<SourceIpMapping> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"SourceIpMapping read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"source_ip_mappings\",\n            response.getContent(),\n            SourceIpMapping.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1.dialingpermissions;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class BulkCountryUpdateCreator extends Creator<BulkCountryUpdate>{\n    private String updateRequest;\n\n    public BulkCountryUpdateCreator(final String updateRequest) {\n        this.updateRequest = updateRequest;\n    }\n\n    public BulkCountryUpdateCreator setUpdateRequest(final String updateRequest){\n        this.updateRequest = updateRequest;\n        return this;\n    }\n\n    @Override\n    public BulkCountryUpdate create(final TwilioRestClient client){\n        String path = \"/v1/DialingPermissions/BulkCountryUpdates\";\n\n        path = path.replace(\"{\"+\"UpdateRequest\"+\"}\", this.updateRequest.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"BulkCountryUpdate creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return BulkCountryUpdate.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (updateRequest != null) {\n            request.addPostParam(\"UpdateRequest\", updateRequest);\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1.dialingpermissions;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class BulkCountryUpdateCreator extends Creator<BulkCountryUpdate> {\n    private final String updateRequest;\n\n    /**\n     * Construct a new BulkCountryUpdateCreator.\n     *\n     * @param updateRequest URL encoded JSON array of update objects\n     */\n    public BulkCountryUpdateCreator(final String updateRequest) {\n        this.updateRequest = updateRequest;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created BulkCountryUpdate\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public BulkCountryUpdate create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            \"/v1/DialingPermissions/BulkCountryUpdates\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"BulkCountryUpdate creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return BulkCountryUpdate.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (updateRequest != null) {\n            request.addPostParam(\"UpdateRequest\", updateRequest);\n        }\n    }\n}\n","lineNo":57}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1.dialingpermissions;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CountryReader extends Reader<Country> {\n    private String isoCode;\n    private String continent;\n    private String countryCode;\n    private Boolean lowRiskNumbersEnabled;\n    private Boolean highRiskSpecialNumbersEnabled;\n    private Boolean highRiskTollfraudNumbersEnabled;\n    private Integer pageSize;\n\n    public CountryReader(){\n    }\n\n    public CountryReader setIsoCode(final String isoCode){\n        this.isoCode = isoCode;\n        return this;\n    }\n    public CountryReader setContinent(final String continent){\n        this.continent = continent;\n        return this;\n    }\n    public CountryReader setCountryCode(final String countryCode){\n        this.countryCode = countryCode;\n        return this;\n    }\n    public CountryReader setLowRiskNumbersEnabled(final Boolean lowRiskNumbersEnabled){\n        this.lowRiskNumbersEnabled = lowRiskNumbersEnabled;\n        return this;\n    }\n    public CountryReader setHighRiskSpecialNumbersEnabled(final Boolean highRiskSpecialNumbersEnabled){\n        this.highRiskSpecialNumbersEnabled = highRiskSpecialNumbersEnabled;\n        return this;\n    }\n    public CountryReader setHighRiskTollfraudNumbersEnabled(final Boolean highRiskTollfraudNumbersEnabled){\n        this.highRiskTollfraudNumbersEnabled = highRiskTollfraudNumbersEnabled;\n        return this;\n    }\n    public CountryReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/DialingPermissions/Countries\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"content\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Country> previousPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Country> nextPage(final Page<Country> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (isoCode != null) {\n    \n            request.addQueryParam(\"IsoCode\", isoCode);\n        }\n        if (continent != null) {\n    \n            request.addQueryParam(\"Continent\", continent);\n        }\n        if (countryCode != null) {\n    \n            request.addQueryParam(\"CountryCode\", countryCode);\n        }\n        if (lowRiskNumbersEnabled != null) {\n    \n            request.addQueryParam(\"LowRiskNumbersEnabled\", lowRiskNumbersEnabled.toString());\n        }\n        if (highRiskSpecialNumbersEnabled != null) {\n    \n            request.addQueryParam(\"HighRiskSpecialNumbersEnabled\", highRiskSpecialNumbersEnabled.toString());\n        }\n        if (highRiskTollfraudNumbersEnabled != null) {\n    \n            request.addQueryParam(\"HighRiskTollfraudNumbersEnabled\", highRiskTollfraudNumbersEnabled.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1.dialingpermissions;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class CountryReader extends Reader<Country> {\n    private String isoCode;\n    private String continent;\n    private String countryCode;\n    private Boolean lowRiskNumbersEnabled;\n    private Boolean highRiskSpecialNumbersEnabled;\n    private Boolean highRiskTollfraudNumbersEnabled;\n\n    /**\n     * Filter to retrieve the country permissions by specifying the <a\n     * href=\"https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2\">ISO country code<\/a>.\n     *\n     * @param isoCode Filter to retrieve the country permissions by specifying the\n     *                ISO country code\n     * @return this\n     */\n    public CountryReader setIsoCode(final String isoCode) {\n        this.isoCode = isoCode;\n        return this;\n    }\n\n    /**\n     * Filter to retrieve the country permissions by specifying the continent.\n     *\n     * @param continent Filter to retrieve the country permissions by specifying\n     *                  the continent\n     * @return this\n     */\n    public CountryReader setContinent(final String continent) {\n        this.continent = continent;\n        return this;\n    }\n\n    /**\n     * Filter the results by specified <a\n     * href=\"https://www.itu.int/itudoc/itu-t/ob-lists/icc/e164_763.html\">country\n     * codes<\/a>.\n     *\n     * @param countryCode Country code filter\n     * @return this\n     */\n    public CountryReader setCountryCode(final String countryCode) {\n        this.countryCode = countryCode;\n        return this;\n    }\n\n    /**\n     * Filter to retrieve the country permissions with dialing to low-risk numbers\n     * enabled. Can be: `true` or `false`..\n     *\n     * @param lowRiskNumbersEnabled Filter to retrieve the country permissions with\n     *                              dialing to low-risk numbers enabled\n     * @return this\n     */\n    public CountryReader setLowRiskNumbersEnabled(final Boolean lowRiskNumbersEnabled) {\n        this.lowRiskNumbersEnabled = lowRiskNumbersEnabled;\n        return this;\n    }\n\n    /**\n     * Filter to retrieve the country permissions with dialing to high-risk special\n     * service numbers enabled. Can be: `true` or `false`.\n     *\n     * @param highRiskSpecialNumbersEnabled Filter to retrieve the country\n     *                                      permissions with dialing to high-risk\n     *                                      special service numbers enabled\n     * @return this\n     */\n    public CountryReader setHighRiskSpecialNumbersEnabled(final Boolean highRiskSpecialNumbersEnabled) {\n        this.highRiskSpecialNumbersEnabled = highRiskSpecialNumbersEnabled;\n        return this;\n    }\n\n    /**\n     * Filter to retrieve the country permissions with dialing to high-risk <a\n     * href=\"https://www.twilio.com/learn/voice-and-video/toll-fraud\">toll fraud<\/a>\n     * numbers enabled. Can be: `true` or `false`..\n     *\n     * @param highRiskTollfraudNumbersEnabled Filter to retrieve the country\n     *                                        permissions with dialing to high-risk\n     *                                        toll fraud numbers enabled\n     * @return this\n     */\n    public CountryReader setHighRiskTollfraudNumbersEnabled(final Boolean highRiskTollfraudNumbersEnabled) {\n        this.highRiskTollfraudNumbersEnabled = highRiskTollfraudNumbersEnabled;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    public ResourceSet<Country> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            \"/v1/DialingPermissions/Countries\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Country ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Country> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Country> nextPage(final Page<Country> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Country> previousPage(final Page<Country> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.VOICE.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Country Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Country> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Country read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"content\",\n            response.getContent(),\n            Country.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (isoCode != null) {\n            request.addQueryParam(\"IsoCode\", isoCode);\n        }\n\n        if (continent != null) {\n            request.addQueryParam(\"Continent\", continent);\n        }\n\n        if (countryCode != null) {\n            request.addQueryParam(\"CountryCode\", countryCode);\n        }\n\n        if (lowRiskNumbersEnabled != null) {\n            request.addQueryParam(\"LowRiskNumbersEnabled\", lowRiskNumbersEnabled.toString());\n        }\n\n        if (highRiskSpecialNumbersEnabled != null) {\n            request.addQueryParam(\"HighRiskSpecialNumbersEnabled\", highRiskSpecialNumbersEnabled.toString());\n        }\n\n        if (highRiskTollfraudNumbersEnabled != null) {\n            request.addQueryParam(\"HighRiskTollfraudNumbersEnabled\", highRiskTollfraudNumbersEnabled.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":92}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1.dialingpermissions;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SettingsFetcher extends Fetcher<Settings> {\n\n    public SettingsFetcher(){\n    }\n\n\n    @Override\n    public Settings fetch(final TwilioRestClient client) {\n        String path = \"/v1/Settings\";\n\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            path\n        );\n        Response response = client.request(request);\n\n        if (response == null) {\n        throw new ApiConnectionException(\"Settings fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Settings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1.dialingpermissions;\n\nimport com.twilio.base.Fetcher;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class SettingsFetcher extends Fetcher<Settings> {\n    /**\n     * Make the request to the Twilio API to perform the fetch.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Fetched Settings\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Settings fetch(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.VOICE.toString(),\n            \"/v1/Settings\"\n        );\n\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Settings fetch failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Settings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n}\n","lineNo":51}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Voice\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.voice.v1.dialingpermissions;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n\n\n\n\n/*\n    * Twilio - Voice\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SettingsUpdater extends Updater<Settings>{\n    private Boolean dialingPermissionsInheritance;\n\n    public SettingsUpdater(){\n    }\n\n    public SettingsUpdater setDialingPermissionsInheritance(final Boolean dialingPermissionsInheritance){\n        this.dialingPermissionsInheritance = dialingPermissionsInheritance;\n        return this;\n    }\n\n    @Override\n    public Settings update(final TwilioRestClient client){\n        String path = \"/v1/Settings\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Settings update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Settings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (dialingPermissionsInheritance != null) {\n            request.addPostParam(\"DialingPermissionsInheritance\", dialingPermissionsInheritance.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.voice.v1.dialingpermissions;\n\nimport com.twilio.base.Updater;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\n/**\n * PLEASE NOTE that this class contains preview products that are subject to\n * change. Use them with caution. If you currently do not have developer preview\n * access, please contact help@twilio.com.\n */\npublic class SettingsUpdater extends Updater<Settings> {\n    private Boolean dialingPermissionsInheritance;\n\n    /**\n     * `true` for the sub-account to inherit voice dialing permissions from the\n     * Master Project; otherwise `false`..\n     *\n     * @param dialingPermissionsInheritance `true` for the sub-account to inherit\n     *                                      voice dialing permissions from the\n     *                                      Master Project; otherwise `false`\n     * @return this\n     */\n    public SettingsUpdater setDialingPermissionsInheritance(final Boolean dialingPermissionsInheritance) {\n        this.dialingPermissionsInheritance = dialingPermissionsInheritance;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the update.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Updated Settings\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Settings update(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.VOICE.toString(),\n            \"/v1/Settings\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Settings update failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Settings.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (dialingPermissionsInheritance != null) {\n            request.addPostParam(\"DialingPermissionsInheritance\", dialingPermissionsInheritance.toString());\n        }\n    }\n}\n","lineNo":56}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Wireless\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.net.URI;\n\n\n\n\nimport java.net.URI;\n\n/*\n    * Twilio - Wireless\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CommandCreator extends Creator<Command>{\n    private String command;\n    private String sim;\n    private HttpMethod callbackMethod;\n    private URI callbackUrl;\n    private Command.CommandMode commandMode;\n    private String includeSid;\n    private Boolean deliveryReceiptRequested;\n\n    public CommandCreator(final String command) {\n        this.command = command;\n    }\n\n    public CommandCreator setCommand(final String command){\n        this.command = command;\n        return this;\n    }\n    public CommandCreator setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public CommandCreator setCallbackMethod(final HttpMethod callbackMethod){\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n    public CommandCreator setCallbackUrl(final URI callbackUrl){\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    public CommandCreator setCallbackUrl(final String callbackUrl){\n    this.callbackUrl = Promoter.uriFromString(callbackUrl);\n    return this;\n    }\n    public CommandCreator setCommandMode(final Command.CommandMode commandMode){\n        this.commandMode = commandMode;\n        return this;\n    }\n    public CommandCreator setIncludeSid(final String includeSid){\n        this.includeSid = includeSid;\n        return this;\n    }\n    public CommandCreator setDeliveryReceiptRequested(final Boolean deliveryReceiptRequested){\n        this.deliveryReceiptRequested = deliveryReceiptRequested;\n        return this;\n    }\n\n    @Override\n    public Command create(final TwilioRestClient client){\n        String path = \"/v1/Commands\";\n\n        path = path.replace(\"{\"+\"Command\"+\"}\", this.command.toString());\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.WIRELESS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"Command creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Command.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (command != null) {\n            request.addPostParam(\"Command\", command);\n    \n        }\n        if (sim != null) {\n            request.addPostParam(\"Sim\", sim);\n    \n        }\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n    \n        }\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n    \n        }\n        if (commandMode != null) {\n            request.addPostParam(\"CommandMode\", commandMode.toString());\n    \n        }\n        if (includeSid != null) {\n            request.addPostParam(\"IncludeSid\", includeSid);\n    \n        }\n        if (deliveryReceiptRequested != null) {\n            request.addPostParam(\"DeliveryReceiptRequested\", deliveryReceiptRequested.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.net.URI;\n\npublic class CommandCreator extends Creator<Command> {\n    private final String command;\n    private String sim;\n    private HttpMethod callbackMethod;\n    private URI callbackUrl;\n    private Command.CommandMode commandMode;\n    private String includeSid;\n    private Boolean deliveryReceiptRequested;\n\n    /**\n     * Construct a new CommandCreator.\n     *\n     * @param command The message body of the Command or a Base64 encoded byte\n     *                string in binary mode\n     */\n    public CommandCreator(final String command) {\n        this.command = command;\n    }\n\n    /**\n     * The `sid` or `unique_name` of the <a\n     * href=\"https://www.twilio.com/docs/wireless/api/sim-resource\">SIM<\/a> to send\n     * the Command to..\n     *\n     * @param sim The sid or unique_name of the SIM to send the Command to\n     * @return this\n     */\n    public CommandCreator setSim(final String sim) {\n        this.sim = sim;\n        return this;\n    }\n\n    /**\n     * The HTTP method we use to call `callback_url`. Can be: `POST` or `GET`, and\n     * the default is `POST`..\n     *\n     * @param callbackMethod The HTTP method we use to call callback_url\n     * @return this\n     */\n    public CommandCreator setCallbackMethod(final HttpMethod callbackMethod) {\n        this.callbackMethod = callbackMethod;\n        return this;\n    }\n\n    /**\n     * The URL we call using the `callback_url` when the Command has finished\n     * sending, whether the command was delivered or it failed..\n     *\n     * @param callbackUrl he URL we call when the Command has finished sending\n     * @return this\n     */\n    public CommandCreator setCallbackUrl(final URI callbackUrl) {\n        this.callbackUrl = callbackUrl;\n        return this;\n    }\n\n    /**\n     * The URL we call using the `callback_url` when the Command has finished\n     * sending, whether the command was delivered or it failed..\n     *\n     * @param callbackUrl he URL we call when the Command has finished sending\n     * @return this\n     */\n    public CommandCreator setCallbackUrl(final String callbackUrl) {\n        return setCallbackUrl(Promoter.uriFromString(callbackUrl));\n    }\n\n    /**\n     * The mode to use when sending the SMS message. Can be: `text` or `binary`. The\n     * default SMS mode is `text`..\n     *\n     * @param commandMode The mode to use when sending the SMS message\n     * @return this\n     */\n    public CommandCreator setCommandMode(final Command.CommandMode commandMode) {\n        this.commandMode = commandMode;\n        return this;\n    }\n\n    /**\n     * Whether to include the SID of the command in the message body. Can be:\n     * `none`, `start`, or `end`, and the default behavior is `none`. When sending a\n     * Command to a SIM in text mode, we can automatically include the SID of the\n     * Command in the message body, which could be used to ensure that the device\n     * does not process the same Command more than once.  A value of `start` will\n     * prepend the message with the Command SID, and `end` will append it to the\n     * end, separating the Command SID from the message body with a space. The\n     * length of the Command SID is included in the 160 character limit so the SMS\n     * body must be 128 characters or less before the Command SID is included..\n     *\n     * @param includeSid Whether to include the SID of the command in the message\n     *                   body\n     * @return this\n     */\n    public CommandCreator setIncludeSid(final String includeSid) {\n        this.includeSid = includeSid;\n        return this;\n    }\n\n    /**\n     * Whether to request delivery receipt from the recipient. For Commands that\n     * request delivery receipt, the Command state transitions to 'delivered' once\n     * the server has received a delivery receipt from the device. The default value\n     * is `true`..\n     *\n     * @param deliveryReceiptRequested Whether to request delivery receipt from the\n     *                                 recipient\n     * @return this\n     */\n    public CommandCreator setDeliveryReceiptRequested(final Boolean deliveryReceiptRequested) {\n        this.deliveryReceiptRequested = deliveryReceiptRequested;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created Command\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Command create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.WIRELESS.toString(),\n            \"/v1/Commands\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Command creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Command.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (command != null) {\n            request.addPostParam(\"Command\", command);\n        }\n\n        if (sim != null) {\n            request.addPostParam(\"Sim\", sim);\n        }\n\n        if (callbackMethod != null) {\n            request.addPostParam(\"CallbackMethod\", callbackMethod.toString());\n        }\n\n        if (callbackUrl != null) {\n            request.addPostParam(\"CallbackUrl\", callbackUrl.toString());\n        }\n\n        if (commandMode != null) {\n            request.addPostParam(\"CommandMode\", commandMode.toString());\n        }\n\n        if (includeSid != null) {\n            request.addPostParam(\"IncludeSid\", includeSid);\n        }\n\n        if (deliveryReceiptRequested != null) {\n            request.addPostParam(\"DeliveryReceiptRequested\", deliveryReceiptRequested.toString());\n        }\n    }\n}\n","lineNo":95}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Wireless\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Wireless\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class CommandReader extends Reader<Command> {\n    private String sim;\n    private Command.Status status;\n    private Command.Direction direction;\n    private Command.Transport transport;\n    private Integer pageSize;\n\n    public CommandReader(){\n    }\n\n    public CommandReader setSim(final String sim){\n        this.sim = sim;\n        return this;\n    }\n    public CommandReader setStatus(final Command.Status status){\n        this.status = status;\n        return this;\n    }\n    public CommandReader setDirection(final Command.Direction direction){\n        this.direction = direction;\n        return this;\n    }\n    public CommandReader setTransport(final Command.Transport transport){\n        this.transport = transport;\n        return this;\n    }\n    public CommandReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Command> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Command> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Commands\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.WIRELESS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Command> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Command read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"commands\",\n            response.getContent(),\n            Command.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Command> previousPage(final Page<Command> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Command> nextPage(final Page<Command> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Command> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (sim != null) {\n    \n            request.addQueryParam(\"Sim\", sim);\n        }\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (direction != null) {\n    \n            request.addQueryParam(\"Direction\", direction.toString());\n        }\n        if (transport != null) {\n    \n            request.addQueryParam(\"Transport\", transport.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class CommandReader extends Reader<Command> {\n    private String sim;\n    private Command.Status status;\n    private Command.Direction direction;\n    private Command.Transport transport;\n\n    /**\n     * The `sid` or `unique_name` of the <a\n     * href=\"https://www.twilio.com/docs/wireless/api/sim-resource\">Sim\n     * resources<\/a> to read..\n     *\n     * @param sim The sid or unique_name of the Sim resources to read\n     * @return this\n     */\n    public CommandReader setSim(final String sim) {\n        this.sim = sim;\n        return this;\n    }\n\n    /**\n     * The status of the resources to read. Can be: `queued`, `sent`, `delivered`,\n     * `received`, or `failed`..\n     *\n     * @param status The status of the resources to read\n     * @return this\n     */\n    public CommandReader setStatus(final Command.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Only return Commands with this direction value..\n     *\n     * @param direction Only return Commands with this direction value\n     * @return this\n     */\n    public CommandReader setDirection(final Command.Direction direction) {\n        this.direction = direction;\n        return this;\n    }\n\n    /**\n     * Only return Commands with this transport value. Can be: `sms` or `ip`..\n     *\n     * @param transport Only return Commands with this transport value\n     * @return this\n     */\n    public CommandReader setTransport(final Command.Transport transport) {\n        this.transport = transport;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Command ResourceSet\n     */\n    @Override\n    public ResourceSet<Command> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Command ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Command> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.WIRELESS.toString(),\n            \"/v1/Commands\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Command ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Command> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Command> nextPage(final Page<Command> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Command> previousPage(final Page<Command> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Command Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Command> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Command read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"commands\",\n            response.getContent(),\n            Command.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (sim != null) {\n            request.addQueryParam(\"Sim\", sim);\n        }\n\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (direction != null) {\n            request.addQueryParam(\"Direction\", direction.toString());\n        }\n\n        if (transport != null) {\n            request.addQueryParam(\"Transport\", transport.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":82}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Wireless\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport java.util.List;\n\nimport java.util.List;\n\n\n\n\n/*\n    * Twilio - Wireless\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RatePlanCreator extends Creator<RatePlan>{\n    private String uniqueName;\n    private String friendlyName;\n    private Boolean dataEnabled;\n    private Integer dataLimit;\n    private String dataMetering;\n    private Boolean messagingEnabled;\n    private Boolean voiceEnabled;\n    private Boolean nationalRoamingEnabled;\n    private List<String> internationalRoaming;\n    private Integer nationalRoamingDataLimit;\n    private Integer internationalRoamingDataLimit;\n\n    public RatePlanCreator() {\n    }\n\n    public RatePlanCreator setUniqueName(final String uniqueName){\n        this.uniqueName = uniqueName;\n        return this;\n    }\n    public RatePlanCreator setFriendlyName(final String friendlyName){\n        this.friendlyName = friendlyName;\n        return this;\n    }\n    public RatePlanCreator setDataEnabled(final Boolean dataEnabled){\n        this.dataEnabled = dataEnabled;\n        return this;\n    }\n    public RatePlanCreator setDataLimit(final Integer dataLimit){\n        this.dataLimit = dataLimit;\n        return this;\n    }\n    public RatePlanCreator setDataMetering(final String dataMetering){\n        this.dataMetering = dataMetering;\n        return this;\n    }\n    public RatePlanCreator setMessagingEnabled(final Boolean messagingEnabled){\n        this.messagingEnabled = messagingEnabled;\n        return this;\n    }\n    public RatePlanCreator setVoiceEnabled(final Boolean voiceEnabled){\n        this.voiceEnabled = voiceEnabled;\n        return this;\n    }\n    public RatePlanCreator setNationalRoamingEnabled(final Boolean nationalRoamingEnabled){\n        this.nationalRoamingEnabled = nationalRoamingEnabled;\n        return this;\n    }\n    public RatePlanCreator setInternationalRoaming(final List<String> internationalRoaming){\n        this.internationalRoaming = internationalRoaming;\n        return this;\n    }\n    public RatePlanCreator setNationalRoamingDataLimit(final Integer nationalRoamingDataLimit){\n        this.nationalRoamingDataLimit = nationalRoamingDataLimit;\n        return this;\n    }\n    public RatePlanCreator setInternationalRoamingDataLimit(final Integer internationalRoamingDataLimit){\n        this.internationalRoamingDataLimit = internationalRoamingDataLimit;\n        return this;\n    }\n\n    @Override\n    public RatePlan create(final TwilioRestClient client){\n        String path = \"/v1/RatePlans\";\n\n\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.WIRELESS.toString(),\n            path\n        );\n        addPostParams(request);\n        Response response = client.request(request);\n        if (response == null) {\n            throw new ApiConnectionException(\"RatePlan creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RatePlan.fromJson(response.getStream(), client.getObjectMapper());\n    }\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n    \n        }\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n    \n        }\n        if (dataEnabled != null) {\n            request.addPostParam(\"DataEnabled\", dataEnabled.toString());\n    \n        }\n        if (dataLimit != null) {\n            request.addPostParam(\"DataLimit\", dataLimit.toString());\n    \n        }\n        if (dataMetering != null) {\n            request.addPostParam(\"DataMetering\", dataMetering);\n    \n        }\n        if (messagingEnabled != null) {\n            request.addPostParam(\"MessagingEnabled\", messagingEnabled.toString());\n    \n        }\n        if (voiceEnabled != null) {\n            request.addPostParam(\"VoiceEnabled\", voiceEnabled.toString());\n    \n        }\n        if (nationalRoamingEnabled != null) {\n            request.addPostParam(\"NationalRoamingEnabled\", nationalRoamingEnabled.toString());\n    \n        }\n        if (internationalRoaming != null) {\n            for (String prop : internationalRoaming) {\n                request.addPostParam(\"InternationalRoaming\", prop);\n            }\n    \n        }\n        if (nationalRoamingDataLimit != null) {\n            request.addPostParam(\"NationalRoamingDataLimit\", nationalRoamingDataLimit.toString());\n    \n        }\n        if (internationalRoamingDataLimit != null) {\n            request.addPostParam(\"InternationalRoamingDataLimit\", internationalRoamingDataLimit.toString());\n    \n        }\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Creator;\nimport com.twilio.converter.Promoter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.util.List;\n\npublic class RatePlanCreator extends Creator<RatePlan> {\n    private String uniqueName;\n    private String friendlyName;\n    private Boolean dataEnabled;\n    private Integer dataLimit;\n    private String dataMetering;\n    private Boolean messagingEnabled;\n    private Boolean voiceEnabled;\n    private Boolean nationalRoamingEnabled;\n    private List<String> internationalRoaming;\n    private Integer nationalRoamingDataLimit;\n    private Integer internationalRoamingDataLimit;\n\n    /**\n     * An application-defined string that uniquely identifies the resource. It can\n     * be used in place of the resource's `sid` in the URL to address the resource..\n     *\n     * @param uniqueName An application-defined string that uniquely identifies the\n     *                   resource\n     * @return this\n     */\n    public RatePlanCreator setUniqueName(final String uniqueName) {\n        this.uniqueName = uniqueName;\n        return this;\n    }\n\n    /**\n     * A descriptive string that you create to describe the resource. It does not\n     * have to be unique..\n     *\n     * @param friendlyName A string to describe the resource\n     * @return this\n     */\n    public RatePlanCreator setFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    /**\n     * Whether SIMs can use GPRS/3G/4G/LTE data connectivity..\n     *\n     * @param dataEnabled Whether SIMs can use GPRS/3G/4G/LTE data connectivity\n     * @return this\n     */\n    public RatePlanCreator setDataEnabled(final Boolean dataEnabled) {\n        this.dataEnabled = dataEnabled;\n        return this;\n    }\n\n    /**\n     * The total data usage (download and upload combined) in Megabytes that the\n     * Network allows during one month on the home network (T-Mobile USA). The\n     * metering period begins the day of activation and ends on the same day in the\n     * following month. Can be up to 2TB and the default value is `1000`..\n     *\n     * @param dataLimit The total data usage in Megabytes that the Network allows\n     *                  during one month on the home network\n     * @return this\n     */\n    public RatePlanCreator setDataLimit(final Integer dataLimit) {\n        this.dataLimit = dataLimit;\n        return this;\n    }\n\n    /**\n     * The model used to meter data usage. Can be: `payg` and `quota-1`, `quota-10`,\n     * and `quota-50`. Learn more about the available <a\n     * href=\"https://www.twilio.com/docs/wireless/api/rateplan-resource#payg-vs-quota-data-plans\">data\n     * metering models<\/a>..\n     *\n     * @param dataMetering The model used to meter data usage\n     * @return this\n     */\n    public RatePlanCreator setDataMetering(final String dataMetering) {\n        this.dataMetering = dataMetering;\n        return this;\n    }\n\n    /**\n     * Whether SIMs can make, send, and receive SMS using <a\n     * href=\"https://www.twilio.com/docs/wireless/api/command-resource\">Commands<\/a>..\n     *\n     * @param messagingEnabled Whether SIMs can make, send, and receive SMS using\n     *                         Commands\n     * @return this\n     */\n    public RatePlanCreator setMessagingEnabled(final Boolean messagingEnabled) {\n        this.messagingEnabled = messagingEnabled;\n        return this;\n    }\n\n    /**\n     * Deprecated..\n     *\n     * @param voiceEnabled Deprecated\n     * @return this\n     */\n    public RatePlanCreator setVoiceEnabled(final Boolean voiceEnabled) {\n        this.voiceEnabled = voiceEnabled;\n        return this;\n    }\n\n    /**\n     * Whether SIMs can roam on networks other than the home network (T-Mobile USA)\n     * in the United States. See <a\n     * href=\"https://www.twilio.com/docs/wireless/api/rateplan-resource#national-roaming\">national\n     * roaming<\/a>..\n     *\n     * @param nationalRoamingEnabled Whether SIMs can roam on networks other than\n     *                               the home network in the United States\n     * @return this\n     */\n    public RatePlanCreator setNationalRoamingEnabled(final Boolean nationalRoamingEnabled) {\n        this.nationalRoamingEnabled = nationalRoamingEnabled;\n        return this;\n    }\n\n    /**\n     * The list of services that SIMs capable of using GPRS/3G/4G/LTE data\n     * connectivity can use outside of the United States. Can contain: `data` and\n     * `messaging`..\n     *\n     * @param internationalRoaming The services that SIMs capable of using\n     *                             GPRS/3G/4G/LTE data connectivity can use outside\n     *                             of the United States\n     * @return this\n     */\n    public RatePlanCreator setInternationalRoaming(final List<String> internationalRoaming) {\n        this.internationalRoaming = internationalRoaming;\n        return this;\n    }\n\n    /**\n     * The list of services that SIMs capable of using GPRS/3G/4G/LTE data\n     * connectivity can use outside of the United States. Can contain: `data` and\n     * `messaging`..\n     *\n     * @param internationalRoaming The services that SIMs capable of using\n     *                             GPRS/3G/4G/LTE data connectivity can use outside\n     *                             of the United States\n     * @return this\n     */\n    public RatePlanCreator setInternationalRoaming(final String internationalRoaming) {\n        return setInternationalRoaming(Promoter.listOfOne(internationalRoaming));\n    }\n\n    /**\n     * The total data usage (download and upload combined) in Megabytes that the\n     * Network allows during one month on non-home networks in the United States.\n     * The metering period begins the day of activation and ends on the same day in\n     * the following month. Can be up to 2TB. See <a\n     * href=\"https://www.twilio.com/docs/wireless/api/rateplan-resource#national-roaming\">national\n     * roaming<\/a> for more info..\n     *\n     * @param nationalRoamingDataLimit The total data usage in Megabytes that the\n     *                                 Network allows during one month on non-home\n     *                                 networks in the United States\n     * @return this\n     */\n    public RatePlanCreator setNationalRoamingDataLimit(final Integer nationalRoamingDataLimit) {\n        this.nationalRoamingDataLimit = nationalRoamingDataLimit;\n        return this;\n    }\n\n    /**\n     * The total data usage (download and upload combined) in Megabytes that the\n     * Network allows during one month when roaming outside the United States. Can\n     * be up to 2TB..\n     *\n     * @param internationalRoamingDataLimit The total data usage (download and\n     *                                      upload combined) in Megabytes that the\n     *                                      Network allows during one month when\n     *                                      roaming outside the United States\n     * @return this\n     */\n    public RatePlanCreator setInternationalRoamingDataLimit(final Integer internationalRoamingDataLimit) {\n        this.internationalRoamingDataLimit = internationalRoamingDataLimit;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the create.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Created RatePlan\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public RatePlan create(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.POST,\n            Domains.WIRELESS.toString(),\n            \"/v1/RatePlans\"\n        );\n\n        addPostParams(request);\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RatePlan creation failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return RatePlan.fromJson(response.getStream(), client.getObjectMapper());\n    }\n\n    /**\n     * Add the requested post parameters to the Request.\n     *\n     * @param request Request to add post params to\n     */\n    private void addPostParams(final Request request) {\n        if (uniqueName != null) {\n            request.addPostParam(\"UniqueName\", uniqueName);\n        }\n\n        if (friendlyName != null) {\n            request.addPostParam(\"FriendlyName\", friendlyName);\n        }\n\n        if (dataEnabled != null) {\n            request.addPostParam(\"DataEnabled\", dataEnabled.toString());\n        }\n\n        if (dataLimit != null) {\n            request.addPostParam(\"DataLimit\", dataLimit.toString());\n        }\n\n        if (dataMetering != null) {\n            request.addPostParam(\"DataMetering\", dataMetering);\n        }\n\n        if (messagingEnabled != null) {\n            request.addPostParam(\"MessagingEnabled\", messagingEnabled.toString());\n        }\n\n        if (voiceEnabled != null) {\n            request.addPostParam(\"VoiceEnabled\", voiceEnabled.toString());\n        }\n\n        if (nationalRoamingEnabled != null) {\n            request.addPostParam(\"NationalRoamingEnabled\", nationalRoamingEnabled.toString());\n        }\n\n        if (internationalRoaming != null) {\n            for (String prop : internationalRoaming) {\n                request.addPostParam(\"InternationalRoaming\", prop);\n            }\n        }\n\n        if (nationalRoamingDataLimit != null) {\n            request.addPostParam(\"NationalRoamingDataLimit\", nationalRoamingDataLimit.toString());\n        }\n\n        if (internationalRoamingDataLimit != null) {\n            request.addPostParam(\"InternationalRoamingDataLimit\", internationalRoamingDataLimit.toString());\n        }\n    }\n}\n","lineNo":108}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Wireless\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Wireless\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class RatePlanReader extends Reader<RatePlan> {\n    private Integer pageSize;\n\n    public RatePlanReader(){\n    }\n\n    public RatePlanReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<RatePlan> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<RatePlan> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/RatePlans\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.WIRELESS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<RatePlan> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RatePlan read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"rate_plans\",\n            response.getContent(),\n            RatePlan.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<RatePlan> previousPage(final Page<RatePlan> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<RatePlan> nextPage(final Page<RatePlan> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<RatePlan> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class RatePlanReader extends Reader<RatePlan> {\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return RatePlan ResourceSet\n     */\n    @Override\n    public ResourceSet<RatePlan> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return RatePlan ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<RatePlan> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.WIRELESS.toString(),\n            \"/v1/RatePlans\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return RatePlan ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<RatePlan> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<RatePlan> nextPage(final Page<RatePlan> page,\n                                   final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<RatePlan> previousPage(final Page<RatePlan> page,\n                                       final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of RatePlan Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<RatePlan> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"RatePlan read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"rate_plans\",\n            response.getContent(),\n            RatePlan.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":62}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Wireless\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\n\n\n\n\n\n/*\n    * Twilio - Wireless\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class SimReader extends Reader<Sim> {\n    private Sim.Status status;\n    private String iccid;\n    private String ratePlan;\n    private String eid;\n    private String simRegistrationCode;\n    private Integer pageSize;\n\n    public SimReader(){\n    }\n\n    public SimReader setStatus(final Sim.Status status){\n        this.status = status;\n        return this;\n    }\n    public SimReader setIccid(final String iccid){\n        this.iccid = iccid;\n        return this;\n    }\n    public SimReader setRatePlan(final String ratePlan){\n        this.ratePlan = ratePlan;\n        return this;\n    }\n    public SimReader setEid(final String eid){\n        this.eid = eid;\n        return this;\n    }\n    public SimReader setSimRegistrationCode(final String simRegistrationCode){\n        this.simRegistrationCode = simRegistrationCode;\n        return this;\n    }\n    public SimReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<Sim> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<Sim> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/Sims\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.WIRELESS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<Sim> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sim read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sims\",\n            response.getContent(),\n            Sim.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<Sim> previousPage(final Page<Sim> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<Sim> nextPage(final Page<Sim> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<Sim> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n    \n            request.addQueryParam(\"Status\", status.toString());\n        }\n        if (iccid != null) {\n    \n            request.addQueryParam(\"Iccid\", iccid);\n        }\n        if (ratePlan != null) {\n    \n            request.addQueryParam(\"RatePlan\", ratePlan);\n        }\n        if (eid != null) {\n    \n            request.addQueryParam(\"EId\", eid);\n        }\n        if (simRegistrationCode != null) {\n    \n            request.addQueryParam(\"SimRegistrationCode\", simRegistrationCode);\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\npublic class SimReader extends Reader<Sim> {\n    private Sim.Status status;\n    private String iccid;\n    private String ratePlan;\n    private String eId;\n    private String simRegistrationCode;\n\n    /**\n     * Only return Sim resources with this status..\n     *\n     * @param status Only return Sim resources with this status\n     * @return this\n     */\n    public SimReader setStatus(final Sim.Status status) {\n        this.status = status;\n        return this;\n    }\n\n    /**\n     * Only return Sim resources with this ICCID. This will return a list with a\n     * maximum size of 1..\n     *\n     * @param iccid Only return Sim resources with this ICCID\n     * @return this\n     */\n    public SimReader setIccid(final String iccid) {\n        this.iccid = iccid;\n        return this;\n    }\n\n    /**\n     * The SID or unique name of a <a\n     * href=\"https://www.twilio.com/docs/wireless/api/rateplan-resource\">RatePlan\n     * resource<\/a>. Only return Sim resources assigned to this RatePlan resource..\n     *\n     * @param ratePlan Only return Sim resources assigned to this RatePlan resource\n     * @return this\n     */\n    public SimReader setRatePlan(final String ratePlan) {\n        this.ratePlan = ratePlan;\n        return this;\n    }\n\n    /**\n     * Deprecated..\n     *\n     * @param eId Deprecated\n     * @return this\n     */\n    public SimReader setEId(final String eId) {\n        this.eId = eId;\n        return this;\n    }\n\n    /**\n     * Only return Sim resources with this registration code. This will return a\n     * list with a maximum size of 1..\n     *\n     * @param simRegistrationCode Only return Sim resources with this registration\n     *                            code\n     * @return this\n     */\n    public SimReader setSimRegistrationCode(final String simRegistrationCode) {\n        this.simRegistrationCode = simRegistrationCode;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    public ResourceSet<Sim> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Sim> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.WIRELESS.toString(),\n            \"/v1/Sims\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return Sim ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<Sim> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<Sim> nextPage(final Page<Sim> page,\n                              final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<Sim> previousPage(final Page<Sim> page,\n                                  final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of Sim Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<Sim> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"Sim read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"sims\",\n            response.getContent(),\n            Sim.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (status != null) {\n            request.addQueryParam(\"Status\", status.toString());\n        }\n\n        if (iccid != null) {\n            request.addQueryParam(\"Iccid\", iccid);\n        }\n\n        if (ratePlan != null) {\n            request.addQueryParam(\"RatePlan\", ratePlan);\n        }\n\n        if (eId != null) {\n            request.addQueryParam(\"EId\", eId);\n        }\n\n        if (simRegistrationCode != null) {\n            request.addQueryParam(\"SimRegistrationCode\", simRegistrationCode);\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":87}
{"Refactored Sample":"/*\n * This code was generated by\n * ___ _ _ _ _ _    _ ____    ____ ____ _    ____ ____ _  _ ____ ____ ____ ___ __   __\n *  |  | | | | |    | |  | __ |  | |__| | __ | __ |___ |\\ | |___ |__/ |__|  | |  | |__/\n *  |  |_|_| | |___ | |__|    |__| |  | |    |__] |___ | \\| |___ |  \\ |  |  | |__| |  \\\n *\n * Twilio - Wireless\n * This is the public Twilio REST API.\n *\n * NOTE: This class is auto generated by OpenAPI Generator.\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\nimport com.twilio.base.Page;\nimport java.time.ZonedDateTime;\n\n\n\n\n\n/*\n    * Twilio - Wireless\n    *\n    * This is the public Twilio REST API.\n    *\n    * API version: 1.35.0\n    * Contact: support@twilio.com\n*/\n\n// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.\n\n\npublic class UsageRecordReader extends Reader<UsageRecord> {\n    private ZonedDateTime end;\n    private ZonedDateTime start;\n    private UsageRecord.Granularity granularity;\n    private Integer pageSize;\n\n    public UsageRecordReader(){\n    }\n\n    public UsageRecordReader setEnd(final ZonedDateTime end){\n        this.end = end;\n        return this;\n    }\n    public UsageRecordReader setStart(final ZonedDateTime start){\n        this.start = start;\n        return this;\n    }\n    public UsageRecordReader setGranularity(final UsageRecord.Granularity granularity){\n        this.granularity = granularity;\n        return this;\n    }\n    public UsageRecordReader setPageSize(final Integer pageSize){\n        this.pageSize = pageSize;\n        return this;\n    }\n\n    @Override\n    public ResourceSet<UsageRecord> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    public Page<UsageRecord> firstPage(final TwilioRestClient client) {\n        String path = \"/v1/UsageRecords\";\n\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.WIRELESS.toString(),\n            path\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    private Page<UsageRecord> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"UsageRecord read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n            throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"usage_records\",\n            response.getContent(),\n            UsageRecord.class,\n            client.getObjectMapper()\n        );\n    }\n\n    @Override\n    public Page<UsageRecord> previousPage(final Page<UsageRecord> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n\n    @Override\n    public Page<UsageRecord> nextPage(final Page<UsageRecord> page, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    @Override\n    public Page<UsageRecord> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n    private void addQueryParams(final Request request) {\n        if (end != null) {\n            request.addQueryParam(\"End\", end.toInstant().toString());\n        }\n\n        if (start != null) {\n            request.addQueryParam(\"Start\", start.toInstant().toString());\n        }\n\n        if (granularity != null) {\n    \n            request.addQueryParam(\"Granularity\", granularity.toString());\n        }\n        if (pageSize != null) {\n    \n            request.addQueryParam(\"PageSize\", pageSize.toString());\n        }\n    }\n}\n\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.rest.wireless.v1;\n\nimport com.twilio.base.Page;\nimport com.twilio.base.Reader;\nimport com.twilio.base.ResourceSet;\nimport com.twilio.converter.DateConverter;\nimport com.twilio.exception.ApiConnectionException;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.RestException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\nimport com.twilio.rest.Domains;\n\nimport java.time.ZonedDateTime;\n\npublic class UsageRecordReader extends Reader<UsageRecord> {\n    private ZonedDateTime end;\n    private ZonedDateTime start;\n    private UsageRecord.Granularity granularity;\n\n    /**\n     * Only include usage that has occurred on or before this date. Format is <a\n     * href=\"https://www.iso.org/iso-8601-date-and-time-format.html\">ISO 8601<\/a>..\n     *\n     * @param end Only include usage that has occurred on or before this date\n     * @return this\n     */\n    public UsageRecordReader setEnd(final ZonedDateTime end) {\n        this.end = end;\n        return this;\n    }\n\n    /**\n     * Only include usage that has occurred on or after this date. Format is <a\n     * href=\"https://www.iso.org/iso-8601-date-and-time-format.html\">ISO 8601<\/a>..\n     *\n     * @param start Only include usage that has occurred on or after this date\n     * @return this\n     */\n    public UsageRecordReader setStart(final ZonedDateTime start) {\n        this.start = start;\n        return this;\n    }\n\n    /**\n     * How to summarize the usage by time. Can be: `daily`, `hourly`, or `all`. A\n     * value of `all` returns one Usage Record that describes the usage for the\n     * entire period..\n     *\n     * @param granularity The time-based grouping that results are aggregated by\n     * @return this\n     */\n    public UsageRecordReader setGranularity(final UsageRecord.Granularity granularity) {\n        this.granularity = granularity;\n        return this;\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return UsageRecord ResourceSet\n     */\n    @Override\n    public ResourceSet<UsageRecord> read(final TwilioRestClient client) {\n        return new ResourceSet<>(this, client, firstPage(client));\n    }\n\n    /**\n     * Make the request to the Twilio API to perform the read.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @return UsageRecord ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<UsageRecord> firstPage(final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            Domains.WIRELESS.toString(),\n            \"/v1/UsageRecords\"\n        );\n\n        addQueryParams(request);\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the target page from the Twilio API.\n     *\n     * @param targetUrl API-generated URL for the requested results page\n     * @param client TwilioRestClient with which to make the request\n     * @return UsageRecord ResourceSet\n     */\n    @Override\n    @SuppressWarnings(\"checkstyle:linelength\")\n    public Page<UsageRecord> getPage(final String targetUrl, final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            targetUrl\n        );\n\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the next page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Next Page\n     */\n    @Override\n    public Page<UsageRecord> nextPage(final Page<UsageRecord> page,\n                                      final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getNextPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Retrieve the previous page from the Twilio API.\n     *\n     * @param page current page\n     * @param client TwilioRestClient with which to make the request\n     * @return Previous Page\n     */\n    @Override\n    public Page<UsageRecord> previousPage(final Page<UsageRecord> page,\n                                          final TwilioRestClient client) {\n        Request request = new Request(\n            HttpMethod.GET,\n            page.getPreviousPageUrl(Domains.WIRELESS.toString())\n        );\n        return pageForRequest(client, request);\n    }\n\n    /**\n     * Generate a Page of UsageRecord Resources for a given request.\n     *\n     * @param client TwilioRestClient with which to make the request\n     * @param request Request to generate a page for\n     * @return Page for the Request\n     */\n    private Page<UsageRecord> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response == null) {\n            throw new ApiConnectionException(\"UsageRecord read failed: Unable to connect to server\");\n        } else if (!TwilioRestClient.SUCCESS.test(response.getStatusCode())) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            if (restException == null) {\n                throw new ApiException(\"Server Error, no content\");\n            }\n           throw new ApiException(restException);\n        }\n\n        return Page.fromJson(\n            \"usage_records\",\n            response.getContent(),\n            UsageRecord.class,\n            client.getObjectMapper()\n        );\n    }\n\n    /**\n     * Add the requested query string arguments to the Request.\n     *\n     * @param request Request to add query string arguments to\n     */\n    private void addQueryParams(final Request request) {\n        if (end != null) {\n            request.addQueryParam(\"End\", end.toInstant().toString());\n        }\n\n        if (start != null) {\n            request.addQueryParam(\"Start\", start.toInstant().toString());\n        }\n\n        if (granularity != null) {\n            request.addQueryParam(\"Granularity\", granularity.toString());\n        }\n\n        if (getPageSize() != null) {\n            request.addQueryParam(\"PageSize\", Integer.toString(getPageSize()));\n        }\n    }\n}\n","lineNo":78}
{"Refactored Sample":"package com.twilio;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.NetworkHttpClient;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport org.mockito.MockitoAnnotations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\nimport static org.mockito.Mockito.when;\n\npublic class TwilioTest {\n\n    private static final String USER_NAME = \"UserName\";\n\n    private static final String TOKEN = \"Password\";\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mock\n    private NetworkHttpClient networkHttpClient;\n\n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testUserAgentExtensions() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"));\n        Twilio.getRestClient();\n        assertEquals(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"), Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsEmpty() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Collections.emptyList()); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsNull() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(null); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        assertEquals(executorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenReturn(new Response(\"\", 500));\n        try {\n            Twilio.validateSslCertificate(networkHttpClient);\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenThrow(new ApiException(\"No\"));\n\n        try {\n            Twilio.validateSslCertificate(networkHttpClient);\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenReturn(new Response(\"\", 200));\n\n        Twilio.validateSslCertificate(networkHttpClient);\n    }\n}\n","Smelly Sample":"package com.twilio;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.*;\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\nimport org.junit.Test;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport static org.junit.Assert.*;\n\npublic class TwilioTest {\n\n    private static final String USER_NAME = \"UserName\";\n\n    private static final String TOKEN = \"Password\";\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mocked\n    private NetworkHttpClient networkHttpClient;\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testUserAgentExtensions() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"));\n        Twilio.getRestClient();\n        assertEquals(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"), Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsEmpty() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Collections.emptyList()); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsNull() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(null); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        assertEquals(executorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 500);\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new ApiException(\"No\");\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 200);\n        }};\n\n        Twilio.validateSslCertificate();\n    }\n}\n","lineNo":131}
{"Refactored Sample":"package com.twilio;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.NetworkHttpClient;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport org.mockito.MockitoAnnotations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\nimport static org.mockito.Mockito.when;\n\npublic class TwilioTest {\n\n    private static final String USER_NAME = \"UserName\";\n\n    private static final String TOKEN = \"Password\";\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mock\n    private NetworkHttpClient networkHttpClient;\n\n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testUserAgentExtensions() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"));\n        Twilio.getRestClient();\n        assertEquals(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"), Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsEmpty() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Collections.emptyList()); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsNull() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(null); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        assertEquals(executorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenReturn(new Response(\"\", 500));\n        try {\n            Twilio.validateSslCertificate(networkHttpClient);\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenThrow(new ApiException(\"No\"));\n\n        try {\n            Twilio.validateSslCertificate(networkHttpClient);\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenReturn(new Response(\"\", 200));\n\n        Twilio.validateSslCertificate(networkHttpClient);\n    }\n}\n","Smelly Sample":"package com.twilio;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.*;\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\nimport org.junit.Test;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport static org.junit.Assert.*;\n\npublic class TwilioTest {\n\n    private static final String USER_NAME = \"UserName\";\n\n    private static final String TOKEN = \"Password\";\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mocked\n    private NetworkHttpClient networkHttpClient;\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testUserAgentExtensions() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"));\n        Twilio.getRestClient();\n        assertEquals(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"), Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsEmpty() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Collections.emptyList()); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsNull() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(null); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        assertEquals(executorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 500);\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new ApiException(\"No\");\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 200);\n        }};\n\n        Twilio.validateSslCertificate();\n    }\n}\n","lineNo":143}
{"Refactored Sample":"package com.twilio;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.NetworkHttpClient;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport org.mockito.MockitoAnnotations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\nimport static org.mockito.Mockito.when;\n\npublic class TwilioTest {\n\n    private static final String USER_NAME = \"UserName\";\n\n    private static final String TOKEN = \"Password\";\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mock\n    private NetworkHttpClient networkHttpClient;\n\n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testUserAgentExtensions() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"));\n        Twilio.getRestClient();\n        assertEquals(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"), Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsEmpty() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Collections.emptyList()); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsNull() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(null); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        assertEquals(executorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenReturn(new Response(\"\", 500));\n        try {\n            Twilio.validateSslCertificate(networkHttpClient);\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenThrow(new ApiException(\"No\"));\n\n        try {\n            Twilio.validateSslCertificate(networkHttpClient);\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n        when(networkHttpClient.makeRequest(request)).thenReturn(new Response(\"\", 200));\n\n        Twilio.validateSslCertificate(networkHttpClient);\n    }\n}\n","Smelly Sample":"package com.twilio;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.*;\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\nimport org.junit.Test;\n\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport static org.junit.Assert.*;\n\npublic class TwilioTest {\n\n    private static final String USER_NAME = \"UserName\";\n\n    private static final String TOKEN = \"Password\";\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mocked\n    private NetworkHttpClient networkHttpClient;\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testUserAgentExtensions() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"));\n        Twilio.getRestClient();\n        assertEquals(Arrays.asList(\"ce-appointment-reminders/1.0.0\", \"code-exchange\"), Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsEmpty() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(Collections.emptyList()); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testUserAgentExtensionsNull() {\n        Twilio.setUsername(USER_NAME);\n        Twilio.setPassword(TOKEN);\n        Twilio.setUserAgentExtensions(null); // Resetting userAgentExtension\n        Twilio.getRestClient();\n        assertNull(Twilio.getUserAgentExtensions());\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        assertEquals(executorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 500);\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new ApiException(\"No\");\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 200);\n        }};\n\n        Twilio.validateSslCertificate();\n    }\n}\n","lineNo":156}
{"Refactored Sample":"package com.twilio.compliance;\n\nimport com.tngtech.archunit.base.DescribedPredicate;\nimport com.tngtech.archunit.core.domain.JavaClass;\nimport com.tngtech.archunit.core.domain.JavaClasses;\nimport com.tngtech.archunit.core.domain.JavaModifier;\nimport com.tngtech.archunit.core.importer.ClassFileImporter;\nimport com.tngtech.archunit.core.importer.ImportOption;\nimport com.tngtech.archunit.core.importer.ImportOptions;\nimport com.tngtech.archunit.lang.ArchRule;\nimport com.tngtech.archunit.lang.syntax.elements.GivenClasses;\nimport com.tngtech.archunit.lang.syntax.elements.GivenClassesConjunction;\n\nimport com.twilio.base.Resource;\nimport nl.jqno.equalsverifier.EqualsVerifier;\n\nimport static com.tngtech.archunit.core.domain.JavaClass.Predicates.resideInAPackage;\nimport static com.tngtech.archunit.lang.conditions.ArchConditions.dependOnClassesThat;\nimport static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.noClasses;\nimport static com.tngtech.archunit.library.GeneralCodingRules.*;\nimport static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.classes;\nimport static org.junit.Assert.assertTrue;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class ComplianceTest {\n    static final private ImportOptions importOpts = new ImportOptions().with(ImportOption.Predefined.DO_NOT_INCLUDE_TESTS);\n    static final private JavaClasses twilioClasses = new ClassFileImporter(importOpts).importPackages(\"com.twilio\");\n    static final private List<Class> resourceClasses = getResourceClasses(twilioClasses);\n    static final private List<Class> variantClasses = new ArrayList<Class>(); // classes that do not follow the generic template\n\n    private static DescribedPredicate<JavaClass> areNotInVariantList() {\n        return new DescribedPredicate<JavaClass>(\"classes that follow the same template pattern\") {\n            @Override\n            public boolean apply(final JavaClass input) {\n                return !variantClasses.contains(input.getName());\n            }\n        };\n    }\n\n    @Before\n    public void setUp() {\n        assertTrue(twilioClasses.size() > 0);\n        assertTrue(resourceClasses.size() > 1);\n        variantClasses.add(com.twilio.rest.voice.v1.ArchivedCall.class);\n    }\n\n    @Test\n    public void testEqualsMethods() {\n        List <Class> eligibleResourceClasses = resourceClasses.stream().filter( c -> !variantClasses.contains(c)).collect(Collectors.toList());\n        for (Class clazz : eligibleResourceClasses) {\n            EqualsVerifier.forClass(clazz)\n                    .usingGetClass()\n                    .verify();\n        }\n    }\n    @Test\n    public void noClassesShouldUseJavaUtilLogging() {\n        NO_CLASSES_SHOULD_USE_JAVA_UTIL_LOGGING.check(twilioClasses);\n    }\n\n    @Test\n    public void noClassesShouldUseLog4j() {\n        // disallow Log4j version 1.x\n        disallowPackage(\"org.apache.log4j\").check(twilioClasses);\n        // disallow Log4j version 2.x\n        disallowPackage(\"org.apache.logging.log4j\").check(twilioClasses);\n    }\n\n    @Test\n    public void noClassesShouldUseJodaTime() {\n        NO_CLASSES_SHOULD_USE_JODATIME.check(twilioClasses);\n    }\n\n    @Test\n    public void resourceClassSanityCheck() {\n\n        GivenClasses filteredClasses = (GivenClasses) classes().that(areNotInVariantList());\n        GivenClassesConjunction resourceClasses = filteredClasses.that().areAssignableTo(Resource.class).and()\n                .doNotHaveFullyQualifiedName(Resource.class.getName()).and().\n                doNotBelongToAnyOf(variantClasses.get(0));\n\n        resourceClasses.should()\n                .beAnnotatedWith(com.fasterxml.jackson.annotation.JsonIgnoreProperties.class)\n                .andShould()\n                .haveOnlyFinalFields()\n                .andShould()\n                .haveOnlyPrivateConstructors()\n                .check(twilioClasses);\n    }\n\n    private static List<Class> getResourceClasses(final JavaClasses jclasses) {\n        List<Class> builder = new ArrayList<>();\n        for (JavaClass jclass : jclasses) {\n            if (jclass.isAssignableTo(com.twilio.base.Resource.class)\n                    && (!jclass.getModifiers().contains(JavaModifier.ABSTRACT))) {\n                builder.add(jclass.reflect());\n            }\n        }\n        return Collections.unmodifiableList(builder);\n    }\n\n    private static ArchRule disallowPackage(final String packageIdentifier) {\n        return noClasses()\n                .should(dependOnClassesThat(resideInAPackage(packageIdentifier)));\n    }\n}\n","Smelly Sample":"package com.twilio.compliance;\n\nimport com.tngtech.archunit.core.domain.JavaClass;\nimport com.tngtech.archunit.core.domain.JavaClasses;\nimport com.tngtech.archunit.core.domain.JavaModifier;\nimport com.tngtech.archunit.core.importer.ClassFileImporter;\nimport com.tngtech.archunit.core.importer.ImportOption;\nimport com.tngtech.archunit.core.importer.ImportOptions;\nimport com.tngtech.archunit.lang.ArchRule;\nimport com.tngtech.archunit.lang.syntax.elements.GivenClassesConjunction;\n\nimport nl.jqno.equalsverifier.EqualsVerifier;\n\nimport static com.tngtech.archunit.core.domain.JavaClass.Predicates.resideInAPackage;\nimport static com.tngtech.archunit.lang.conditions.ArchConditions.dependOnClassesThat;\nimport static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.noClasses;\nimport static com.tngtech.archunit.library.GeneralCodingRules.*;\nimport static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.classes;\nimport static org.junit.Assert.assertTrue;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class ComplianceTest {\n    static final private ImportOptions importOpts = new ImportOptions().with(ImportOption.Predefined.DO_NOT_INCLUDE_TESTS);\n    static final private JavaClasses twilioClasses = new ClassFileImporter(importOpts).importPackages(\"com.twilio\");\n    static final private List<Class> resourceClasses = getResourceClasses(twilioClasses);\n\n    @Before\n    public void setUp() {\n        assertTrue(twilioClasses.size() > 0);\n        assertTrue(resourceClasses.size() > 1);\n    }\n\n    @Test\n    public void testEqualsMethods() {\n        for (Class clazz : resourceClasses) {\n            EqualsVerifier.forClass(clazz)\n                    .usingGetClass()\n                    .verify();\n        }\n    }\n\n    @Test\n    public void noClassesShouldUseJavaUtilLogging() {\n        NO_CLASSES_SHOULD_USE_JAVA_UTIL_LOGGING.check(twilioClasses);\n    }\n\n    @Test\n    public void noClassesShouldUseLog4j() {\n        // disallow Log4j version 1.x\n        disallowPackage(\"org.apache.log4j\").check(twilioClasses);\n        // disallow Log4j version 2.x\n        disallowPackage(\"org.apache.logging.log4j\").check(twilioClasses);\n    }\n\n    @Test\n    public void noClassesShouldUseJodaTime() {\n        NO_CLASSES_SHOULD_USE_JODATIME.check(twilioClasses);\n    }\n\n    @Test\n    public void resourceClassSanityCheck() {\n        GivenClassesConjunction resourceClasses = classes().that().areAssignableTo(com.twilio.base.Resource.class).and().doNotHaveFullyQualifiedName(com.twilio.base.Resource.class.getName());\n\n        resourceClasses.should()\n            .beAnnotatedWith(com.fasterxml.jackson.annotation.JsonIgnoreProperties.class)\n            .andShould()\n            .haveOnlyFinalFields()\n            .andShould()\n            .haveOnlyPrivateConstructors()\n            .check(twilioClasses);\n    }\n\n    private static List<Class> getResourceClasses(final JavaClasses jclasses) {\n        List<Class> builder = new ArrayList<>();\n        for (JavaClass jclass : jclasses) {\n          if (jclass.isAssignableTo(com.twilio.base.Resource.class)\n              && (!jclass.getModifiers().contains(JavaModifier.ABSTRACT))) {\n              builder.add(jclass.reflect());\n            }\n        }\n        return Collections.unmodifiableList(builder);\n    }\n\n    private static ArchRule disallowPackage(final String packageIdentifier) {\n        return noClasses()\n                .should(dependOnClassesThat(resideInAPackage(packageIdentifier)));\n    }\n}\n","lineNo":55}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.twilio.exception.ApiConnectionException;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.StatusLine;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.Spy;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\n\nimport static org.junit.Assert.*;\nimport static org.mockito.Matchers.any;\nimport static org.mockito.Mockito.*;\n\npublic class NetworkHttpClientTest {\n\n    private NetworkHttpClient client;\n\n    @Mock\n    private NetworkHttpClient mockedNetworkHttpClient;\n\n    @Mock\n    private Request mockRequest;\n\n    @Spy\n    private HttpClientBuilder mockBuilder;\n\n    @Mock\n    private CloseableHttpClient mockClient;\n\n    @Mock\n    private CloseableHttpResponse mockResponse;\n\n    @Mock\n    private StatusLine mockStatusLine;\n\n    @Mock\n    private HttpEntity mockEntity;\n\n    @Before\n    public void setUp() {\n\n        MockitoAnnotations.initMocks(this);\n        doReturn(mockClient).when(mockBuilder).build();\n        client = new NetworkHttpClient(mockBuilder);\n    }\n\n    private void setup(\n        final int statusCode,\n        final String content,\n        final HttpMethod method,\n        final Boolean requiresAuthentication\n    ) throws IOException {\n        final InputStream stream = new ByteArrayInputStream(content.getBytes(\"UTF-8\"));\n\n        when(mockRequest.getMethod()).thenReturn(method);\n        when(mockRequest.constructURL()).thenReturn(new URL(\"http://foo.com/hello\"));\n        when(mockRequest.requiresAuthentication()).thenReturn(requiresAuthentication);\n        when(mockRequest.getAuthString()).thenReturn(\"foo:bar\");\n        when(mockClient.execute(any())).thenReturn(mockResponse);\n        when(mockEntity.isRepeatable()).thenReturn(true);\n        when(mockEntity.getContentLength()).thenReturn(1L);\n        when(mockEntity.getContent()).thenReturn(stream);\n        when(mockResponse.getStatusLine()).thenReturn(mockStatusLine);\n        when(mockResponse.getEntity()).thenReturn(mockEntity);\n        when(mockStatusLine.getStatusCode()).thenReturn(statusCode);\n\n    }\n\n    @Test\n    public void testGet() throws IOException {\n        setup(200, \"frobozz\", HttpMethod.GET, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 200);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test(expected = ApiConnectionException.class)\n    public void testMakeRequestIOException() throws IOException {\n\n        when(mockBuilder.build()).thenReturn(mockClient);\n        when(mockRequest.getMethod()).thenReturn(HttpMethod.GET);\n        when(mockRequest.constructURL()).thenReturn(new URL(\"http://foo.com/hello\"));\n        when(mockRequest.requiresAuthentication()).thenReturn(true);\n        when(mockRequest.getAuthString()).thenReturn(\"foo:bar\");\n        when(mockClient.execute(any())).thenThrow(new ApiConnectionException(\"foo\"));\n        client = new NetworkHttpClient(mockBuilder);\n        client.makeRequest(mockRequest);\n        fail(\"ApiConnectionException was expected\");\n    }\n\n    @Test\n    public void testPost() throws IOException {\n        setup(201, \"frobozz\", HttpMethod.POST, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 201);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test\n    public void testReliableRequest() {\n        Request request = new Request(HttpMethod.GET, \"http://foo.com/hello\");\n\n        NetworkHttpClient clientSpy = spy(client);\n        doReturn(new Response(\"\", TwilioRestClient.HTTP_STATUS_CODE_NO_CONTENT)).when(clientSpy).makeRequest(request);\n        clientSpy.reliableRequest(request);\n        assertNotNull(clientSpy.getLastRequest());\n        assertNotNull(clientSpy.getLastResponse());\n    }\n\n    @Test\n    public void testReliableRequestWithRetries() {\n        Request request = new Request(HttpMethod.GET, \"http://foo.com/hello\");\n        NetworkHttpClient clientSpy = spy(client);\n        doReturn(null).when(clientSpy).makeRequest(request);\n        clientSpy.reliableRequest(request);\n        assertNull(clientSpy.getLastResponse());\n    }\n\n    @Test\n    public void testReliableRequestWithRetries100() {\n        Request request = new Request(HttpMethod.GET, \"/uri\");\n\n        when(mockedNetworkHttpClient.makeRequest(request)).thenReturn(new Response(\"\", 500));\n\n        mockedNetworkHttpClient.reliableRequest(request);\n    }\n\n    @Test\n    public void testDelete() throws IOException {\n        setup(204, \"\", HttpMethod.DELETE, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 204);\n        assertEquals(resp.getContent(), \"\");\n    }\n\n    @Test\n    public void testAuthedGet() throws IOException {\n        setup(200, \"frobozz\", HttpMethod.GET, true);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 200);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test\n    public void testErrorResponse() throws IOException {\n        setup(404, \"womp\", HttpMethod.GET, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 404);\n        assertEquals(resp.getContent(), \"womp\");\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.twilio.exception.ApiConnectionException;\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.StatusLine;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpUriRequest;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.util.Collection;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.fail;\n\npublic class NetworkHttpClientTest {\n\n    private NetworkHttpClient client;\n\n    @Mocked\n    private Request mockRequest;\n\n    @Mocked\n    private URL mockUrl;\n\n    @Mocked\n    private HttpClientBuilder mockBuilder;\n\n    @Mocked\n    private CloseableHttpClient mockClient;\n\n    @Mocked\n    private CloseableHttpResponse mockResponse;\n\n    @Mocked\n    private StatusLine mockStatusLine;\n\n    @Mocked\n    private HttpEntity mockEntity;\n\n    @Before\n    public void setUp() {\n        new NonStrictExpectations() {{\n            mockBuilder.setDefaultHeaders((Collection<Header>) any);\n            result = mockBuilder;\n\n            mockBuilder.build();\n            result = mockClient;\n        }};\n\n        client = new NetworkHttpClient(mockBuilder);\n    }\n\n    private void setup(\n        final int statusCode,\n        final String content,\n        final HttpMethod method,\n        final Boolean requiresAuthentication\n    ) throws IOException {\n        final InputStream stream = new ByteArrayInputStream(content.getBytes(\"UTF-8\"));\n\n        new NonStrictExpectations() {{\n            mockRequest.getMethod();\n            result = method;\n\n            mockRequest.constructURL();\n            result = mockUrl;\n\n            mockRequest.requiresAuthentication();\n            result = requiresAuthentication;\n\n            mockRequest.getAuthString();\n            result = \"foo:bar\";\n\n            mockRequest.getPostParams();\n\n            mockClient.execute((HttpUriRequest) any);\n            result = mockResponse;\n\n            mockResponse.getEntity();\n            result = mockEntity;\n\n            mockEntity.isRepeatable();\n            result = true;\n\n            mockEntity.getContentLength();\n            result = 1;\n\n            mockEntity.getContent();\n            result = stream;\n\n            mockResponse.getStatusLine();\n            result = mockStatusLine;\n\n            mockStatusLine.getStatusCode();\n            result = statusCode;\n        }};\n    }\n\n    @Test\n    public void testGet() throws IOException {\n        setup(200, \"frobozz\", HttpMethod.GET, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 200);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test(expected = ApiConnectionException.class)\n    public void testMakeRequestIOException() throws IOException {\n        new NonStrictExpectations() {{\n            mockBuilder.setDefaultHeaders((Collection<Header>) any);\n            result = mockBuilder;\n\n            mockBuilder.build();\n            result = mockClient;\n\n            mockRequest.getMethod();\n            result = HttpMethod.GET;\n\n            mockRequest.constructURL();\n            result = mockUrl;\n\n            mockRequest.requiresAuthentication();\n            result = true;\n\n            mockRequest.getAuthString();\n            result = \"foo:bar\";\n\n            mockClient.execute((HttpUriRequest) any);\n            result = new ApiConnectionException(\"foo\");\n        }};\n\n        client.makeRequest(mockRequest);\n        fail(\"ApiConnectionException was expected\");\n    }\n\n    @Test\n    public void testPost() throws IOException {\n        setup(201, \"frobozz\", HttpMethod.POST, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 201);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test\n    public void testReliableRequest() {\n        Request request = new Request(HttpMethod.GET, \"/uri\");\n\n        new NonStrictExpectations(client) {{\n            client.makeRequest((Request) any);\n            result = new Response(\"\", TwilioRestClient.HTTP_STATUS_CODE_NO_CONTENT);\n        }};\n\n        client.reliableRequest(request);\n        assertNotNull(client.getLastRequest());\n        assertNotNull(client.getLastResponse());\n    }\n\n    @Test\n    public void testReliableRequestWithRetries() {\n        Request request = new Request(HttpMethod.GET, \"/uri\");\n\n        new NonStrictExpectations(client) {{\n            client.makeRequest((Request) any);\n            result = null;\n            times = 3;\n        }};\n\n        client.reliableRequest(request);\n    }\n\n    @Test\n    public void testReliableRequestWithRetries100() {\n        Request request = new Request(HttpMethod.GET, \"/uri\");\n\n        new NonStrictExpectations(client) {{\n            client.makeRequest((Request) any);\n            result = new Response(\"\", 500);\n        }};\n\n        client.reliableRequest(request);\n    }\n\n    @Test\n    public void testDelete() throws IOException {\n        setup(204, \"\", HttpMethod.DELETE, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 204);\n        assertEquals(resp.getContent(), \"\");\n    }\n\n    @Test\n    public void testAuthedGet() throws IOException {\n        setup(200, \"frobozz\", HttpMethod.GET, true);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 200);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test\n    public void testErrorResponse() throws IOException {\n        setup(404, \"womp\", HttpMethod.GET, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 404);\n        assertEquals(resp.getContent(), \"womp\");\n    }\n}\n","lineNo":117}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.twilio.exception.ApiConnectionException;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.StatusLine;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport org.mockito.Spy;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\n\nimport static org.junit.Assert.*;\nimport static org.mockito.Matchers.any;\nimport static org.mockito.Mockito.*;\n\npublic class NetworkHttpClientTest {\n\n    private NetworkHttpClient client;\n\n    @Mock\n    private NetworkHttpClient mockedNetworkHttpClient;\n\n    @Mock\n    private Request mockRequest;\n\n    @Spy\n    private HttpClientBuilder mockBuilder;\n\n    @Mock\n    private CloseableHttpClient mockClient;\n\n    @Mock\n    private CloseableHttpResponse mockResponse;\n\n    @Mock\n    private StatusLine mockStatusLine;\n\n    @Mock\n    private HttpEntity mockEntity;\n\n    @Before\n    public void setUp() {\n\n        MockitoAnnotations.initMocks(this);\n        doReturn(mockClient).when(mockBuilder).build();\n        client = new NetworkHttpClient(mockBuilder);\n    }\n\n    private void setup(\n        final int statusCode,\n        final String content,\n        final HttpMethod method,\n        final Boolean requiresAuthentication\n    ) throws IOException {\n        final InputStream stream = new ByteArrayInputStream(content.getBytes(\"UTF-8\"));\n\n        when(mockRequest.getMethod()).thenReturn(method);\n        when(mockRequest.constructURL()).thenReturn(new URL(\"http://foo.com/hello\"));\n        when(mockRequest.requiresAuthentication()).thenReturn(requiresAuthentication);\n        when(mockRequest.getAuthString()).thenReturn(\"foo:bar\");\n        when(mockClient.execute(any())).thenReturn(mockResponse);\n        when(mockEntity.isRepeatable()).thenReturn(true);\n        when(mockEntity.getContentLength()).thenReturn(1L);\n        when(mockEntity.getContent()).thenReturn(stream);\n        when(mockResponse.getStatusLine()).thenReturn(mockStatusLine);\n        when(mockResponse.getEntity()).thenReturn(mockEntity);\n        when(mockStatusLine.getStatusCode()).thenReturn(statusCode);\n\n    }\n\n    @Test\n    public void testGet() throws IOException {\n        setup(200, \"frobozz\", HttpMethod.GET, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 200);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test(expected = ApiConnectionException.class)\n    public void testMakeRequestIOException() throws IOException {\n\n        when(mockBuilder.build()).thenReturn(mockClient);\n        when(mockRequest.getMethod()).thenReturn(HttpMethod.GET);\n        when(mockRequest.constructURL()).thenReturn(new URL(\"http://foo.com/hello\"));\n        when(mockRequest.requiresAuthentication()).thenReturn(true);\n        when(mockRequest.getAuthString()).thenReturn(\"foo:bar\");\n        when(mockClient.execute(any())).thenThrow(new ApiConnectionException(\"foo\"));\n        client = new NetworkHttpClient(mockBuilder);\n        client.makeRequest(mockRequest);\n        fail(\"ApiConnectionException was expected\");\n    }\n\n    @Test\n    public void testPost() throws IOException {\n        setup(201, \"frobozz\", HttpMethod.POST, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 201);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test\n    public void testReliableRequest() {\n        Request request = new Request(HttpMethod.GET, \"http://foo.com/hello\");\n\n        NetworkHttpClient clientSpy = spy(client);\n        doReturn(new Response(\"\", TwilioRestClient.HTTP_STATUS_CODE_NO_CONTENT)).when(clientSpy).makeRequest(request);\n        clientSpy.reliableRequest(request);\n        assertNotNull(clientSpy.getLastRequest());\n        assertNotNull(clientSpy.getLastResponse());\n    }\n\n    @Test\n    public void testReliableRequestWithRetries() {\n        Request request = new Request(HttpMethod.GET, \"http://foo.com/hello\");\n        NetworkHttpClient clientSpy = spy(client);\n        doReturn(null).when(clientSpy).makeRequest(request);\n        clientSpy.reliableRequest(request);\n        assertNull(clientSpy.getLastResponse());\n    }\n\n    @Test\n    public void testReliableRequestWithRetries100() {\n        Request request = new Request(HttpMethod.GET, \"/uri\");\n\n        when(mockedNetworkHttpClient.makeRequest(request)).thenReturn(new Response(\"\", 500));\n\n        mockedNetworkHttpClient.reliableRequest(request);\n    }\n\n    @Test\n    public void testDelete() throws IOException {\n        setup(204, \"\", HttpMethod.DELETE, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 204);\n        assertEquals(resp.getContent(), \"\");\n    }\n\n    @Test\n    public void testAuthedGet() throws IOException {\n        setup(200, \"frobozz\", HttpMethod.GET, true);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 200);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test\n    public void testErrorResponse() throws IOException {\n        setup(404, \"womp\", HttpMethod.GET, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 404);\n        assertEquals(resp.getContent(), \"womp\");\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.twilio.exception.ApiConnectionException;\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.StatusLine;\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpUriRequest;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.util.Collection;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.fail;\n\npublic class NetworkHttpClientTest {\n\n    private NetworkHttpClient client;\n\n    @Mocked\n    private Request mockRequest;\n\n    @Mocked\n    private URL mockUrl;\n\n    @Mocked\n    private HttpClientBuilder mockBuilder;\n\n    @Mocked\n    private CloseableHttpClient mockClient;\n\n    @Mocked\n    private CloseableHttpResponse mockResponse;\n\n    @Mocked\n    private StatusLine mockStatusLine;\n\n    @Mocked\n    private HttpEntity mockEntity;\n\n    @Before\n    public void setUp() {\n        new NonStrictExpectations() {{\n            mockBuilder.setDefaultHeaders((Collection<Header>) any);\n            result = mockBuilder;\n\n            mockBuilder.build();\n            result = mockClient;\n        }};\n\n        client = new NetworkHttpClient(mockBuilder);\n    }\n\n    private void setup(\n        final int statusCode,\n        final String content,\n        final HttpMethod method,\n        final Boolean requiresAuthentication\n    ) throws IOException {\n        final InputStream stream = new ByteArrayInputStream(content.getBytes(\"UTF-8\"));\n\n        new NonStrictExpectations() {{\n            mockRequest.getMethod();\n            result = method;\n\n            mockRequest.constructURL();\n            result = mockUrl;\n\n            mockRequest.requiresAuthentication();\n            result = requiresAuthentication;\n\n            mockRequest.getAuthString();\n            result = \"foo:bar\";\n\n            mockRequest.getPostParams();\n\n            mockClient.execute((HttpUriRequest) any);\n            result = mockResponse;\n\n            mockResponse.getEntity();\n            result = mockEntity;\n\n            mockEntity.isRepeatable();\n            result = true;\n\n            mockEntity.getContentLength();\n            result = 1;\n\n            mockEntity.getContent();\n            result = stream;\n\n            mockResponse.getStatusLine();\n            result = mockStatusLine;\n\n            mockStatusLine.getStatusCode();\n            result = statusCode;\n        }};\n    }\n\n    @Test\n    public void testGet() throws IOException {\n        setup(200, \"frobozz\", HttpMethod.GET, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 200);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test(expected = ApiConnectionException.class)\n    public void testMakeRequestIOException() throws IOException {\n        new NonStrictExpectations() {{\n            mockBuilder.setDefaultHeaders((Collection<Header>) any);\n            result = mockBuilder;\n\n            mockBuilder.build();\n            result = mockClient;\n\n            mockRequest.getMethod();\n            result = HttpMethod.GET;\n\n            mockRequest.constructURL();\n            result = mockUrl;\n\n            mockRequest.requiresAuthentication();\n            result = true;\n\n            mockRequest.getAuthString();\n            result = \"foo:bar\";\n\n            mockClient.execute((HttpUriRequest) any);\n            result = new ApiConnectionException(\"foo\");\n        }};\n\n        client.makeRequest(mockRequest);\n        fail(\"ApiConnectionException was expected\");\n    }\n\n    @Test\n    public void testPost() throws IOException {\n        setup(201, \"frobozz\", HttpMethod.POST, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 201);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test\n    public void testReliableRequest() {\n        Request request = new Request(HttpMethod.GET, \"/uri\");\n\n        new NonStrictExpectations(client) {{\n            client.makeRequest((Request) any);\n            result = new Response(\"\", TwilioRestClient.HTTP_STATUS_CODE_NO_CONTENT);\n        }};\n\n        client.reliableRequest(request);\n        assertNotNull(client.getLastRequest());\n        assertNotNull(client.getLastResponse());\n    }\n\n    @Test\n    public void testReliableRequestWithRetries() {\n        Request request = new Request(HttpMethod.GET, \"/uri\");\n\n        new NonStrictExpectations(client) {{\n            client.makeRequest((Request) any);\n            result = null;\n            times = 3;\n        }};\n\n        client.reliableRequest(request);\n    }\n\n    @Test\n    public void testReliableRequestWithRetries100() {\n        Request request = new Request(HttpMethod.GET, \"/uri\");\n\n        new NonStrictExpectations(client) {{\n            client.makeRequest((Request) any);\n            result = new Response(\"\", 500);\n        }};\n\n        client.reliableRequest(request);\n    }\n\n    @Test\n    public void testDelete() throws IOException {\n        setup(204, \"\", HttpMethod.DELETE, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 204);\n        assertEquals(resp.getContent(), \"\");\n    }\n\n    @Test\n    public void testAuthedGet() throws IOException {\n        setup(200, \"frobozz\", HttpMethod.GET, true);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 200);\n        assertEquals(resp.getContent(), \"frobozz\");\n    }\n\n    @Test\n    public void testErrorResponse() throws IOException {\n        setup(404, \"womp\", HttpMethod.GET, false);\n\n        Response resp = client.makeRequest(mockRequest);\n\n        assertEquals(resp.getStatusCode(), 404);\n        assertEquals(resp.getContent(), \"womp\");\n    }\n}\n","lineNo":127}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.config.SocketConfig;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.PrivateKey;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\npublic class ValidationClient extends HttpClient {\n\n    private final org.apache.http.client.HttpClient client;\n\n    /**\n     * Create a new ValidationClient.\n     *\n     * @param accountSid    Twilio Account SID\n     * @param credentialSid Twilio Credential SID\n     * @param signingKey    Twilio Signing key\n     * @param privateKey    Private Key\n     */\n    public ValidationClient(final String accountSid,\n                            final String credentialSid,\n                            final String signingKey,\n                            final PrivateKey privateKey) {\n        this(accountSid, credentialSid, signingKey, privateKey, DEFAULT_REQUEST_CONFIG);\n    }\n\n    /**\n     * Create a new ValidationClient.\n     *\n     * @param accountSid    Twilio Account SID\n     * @param credentialSid Twilio Credential SID\n     * @param signingKey    Twilio Signing key\n     * @param privateKey    Private Key\n     * @param requestConfig HTTP Request Config\n     */\n    public ValidationClient(final String accountSid,\n                            final String credentialSid,\n                            final String signingKey,\n                            final PrivateKey privateKey,\n                            final RequestConfig requestConfig) {\n        this(accountSid, credentialSid, signingKey, privateKey, requestConfig, DEFAULT_SOCKET_CONFIG);\n    }\n\n    /**\n     * Create a new ValidationClient.\n     *\n     * @param accountSid    Twilio Account SID\n     * @param credentialSid Twilio Credential SID\n     * @param signingKey    Twilio Signing key\n     * @param privateKey    Private Key\n     * @param requestConfig HTTP Request Config\n     * @param socketConfig  HTTP Socket Config\n     */\n    public ValidationClient(final String accountSid,\n                            final String credentialSid,\n                            final String signingKey,\n                            final PrivateKey privateKey,\n                            final RequestConfig requestConfig,\n                            final SocketConfig socketConfig) {\n        Collection<BasicHeader> headers = Arrays.asList(\n            new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n            new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n            new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        final PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setDefaultSocketConfig(socketConfig);\n\n        client = HttpClientBuilder.create()\n            .setConnectionManager(connectionManager)\n            .setDefaultRequestConfig(requestConfig)\n            .setDefaultHeaders(headers)\n            .setMaxConnPerRoute(10)\n            .addInterceptorLast(new ValidationInterceptor(accountSid, credentialSid, signingKey, privateKey))\n            .setRedirectStrategy(this.getRedirectStrategy())\n            .build();\n    }\n\n    @Override\n    public Response makeRequest(Request request) {\n        RequestBuilder builder = RequestBuilder.create(request.getMethod().toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        HttpMethod method = request.getMethod();\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry<String, List<String>> entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        try {\n            HttpResponse response = client.execute(builder.build());\n            return new Response(\n                response.getEntity() == null ? null : response.getEntity().getContent(),\n                response.getStatusLine().getStatusCode(),\n                response.getAllHeaders()\n            );\n        } catch (IOException e) {\n            throw new ApiException(e.getMessage(), e);\n        }\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.security.PrivateKey;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\npublic class ValidationClient extends HttpClient {\n\n    private static final int CONNECTION_TIMEOUT = 10000;\n    private static final int SOCKET_TIMEOUT = 30500;\n    private static final RequestConfig DEFAULT_REQUEST_CONFIG = RequestConfig.custom()\n            .setConnectTimeout(CONNECTION_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();;\n\n    private final org.apache.http.client.HttpClient client;\n\n    /**\n     * Create a new ValidationClient.\n     *\n     * @param  accountSid Twilio Account SID\n     * @param  credentialSid Twilio Credential SID\n     * @param  signingKey Twilio Signing key\n     * @param  privateKey Private Key\n     */\n    public ValidationClient(String accountSid, String credentialSid, String signingKey, PrivateKey privateKey) {\n        this(accountSid, credentialSid, signingKey, privateKey, DEFAULT_REQUEST_CONFIG);\n    }\n\n    /**\n     * Create a new ValidationClient.\n     *\n     * @param  accountSid Twilio Account SID\n     * @param  credentialSid Twilio Credential SID\n     * @param  signingKey Twilio Signing key\n     * @param  privateKey Private Key\n     * @param  config HTTP Request Config\n     */\n    public ValidationClient(String accountSid, String credentialSid, String signingKey, PrivateKey privateKey, RequestConfig config) {\n        Collection<BasicHeader> headers = Arrays.asList(\n            new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n            new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n            new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = HttpClientBuilder.create()\n            .setConnectionManager(new PoolingHttpClientConnectionManager())\n            .setDefaultRequestConfig(config)\n            .setDefaultHeaders(headers)\n            .setMaxConnPerRoute(10)\n            .addInterceptorLast(new ValidationInterceptor(accountSid, credentialSid, signingKey, privateKey))\n            .setRedirectStrategy(this.getRedirectStrategy())\n            .build();\n    }\n\n    @Override\n    public Response makeRequest(Request request) {\n        RequestBuilder builder = RequestBuilder.create(request.getMethod().toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        HttpMethod method = request.getMethod();\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry<String, List<String>> entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        try {\n            HttpResponse response = client.execute(builder.build());\n            return new Response(\n                response.getEntity() == null ? null : response.getEntity().getContent(),\n                response.getStatusLine().getStatusCode(),\n                response.getAllHeaders()\n            );\n        } catch (IOException e) {\n            throw new ApiException(e.getMessage(), e);\n        }\n    }\n}\n","lineNo":82}
{"Refactored Sample":"package com.twilio.twiml;\n\nimport lombok.ToString;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport java.io.StringWriter;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\n\n@SuppressWarnings(\"checkstyle:abbreviationaswordinname\")\n@ToString\npublic abstract class TwiML {\n    private final String tagName;\n    private final Builder builder;\n    private static final Map<String, String> attrNameMapper = Collections.singletonMap(\"for_\", \"for\");\n\n    /**\n     * @param tagName Element tag name\n     * @param builder Builder data for the element\n     */\n    protected TwiML(String tagName, Builder builder) {\n        this.tagName = tagName;\n        this.builder = builder;\n    }\n\n    /**\n     * The body of the TwiML element\n     *\n     * @return Element body as a string if present else null\n     */\n    protected String getElementBody() {\n        return null;\n    }\n\n    /**\n     * Attributes to set on the generated XML element\n     *\n     * @return A Map of attribute keys to values\n     */\n    protected Map<String, String> getElementAttributes() {\n        return new HashMap<>();\n    }\n\n    /**\n     * Get tag name of this TwiML Element.\n     */\n    public String getTagName() {\n        return this.tagName;\n    }\n\n    /**\n     * Get children elements of this TwiML element.\n     */\n    public List<TwiML> getChildren() {\n        return this.builder.children;\n    }\n\n    /**\n     * Get additional options set on this TwiML's generated XML.\n     */\n    public Map<String, String> getOptions() {\n        return this.builder.options;\n    }\n\n    /**\n     * Get transformed attribute name for this Twiml element.\n     */\n    private String getTransformedAttrName(final String attrName) {\n        return attrNameMapper.containsKey(attrName) ? attrNameMapper.get(attrName) : attrName;\n    }\n\n    /**\n     * @param parentDoc Root XML Document\n     */\n    protected Node buildXmlElement(Document parentDoc) {\n        Element node = parentDoc.createElement(this.getTagName());\n\n        String body = this.getElementBody();\n        if (body != null) {\n            node.appendChild(parentDoc.createTextNode(body));\n        }\n\n        for (Map.Entry<String, String> attr : this.getElementAttributes().entrySet()) {\n            node.setAttribute(getTransformedAttrName(attr.getKey()), attr.getValue());\n        }\n\n        for (TwiML child : this.getChildren()) {\n            node.appendChild(child.buildXmlElement(parentDoc));\n        }\n\n        for (Map.Entry<String, String> option : this.getOptions().entrySet()) {\n            node.setAttribute(option.getKey(), option.getValue());\n        }\n        return node;\n    }\n\n    /**\n     * Convert TwiML object to XML.\n     *\n     * @return XML string of TwiML object\n     * @throws TwiMLException if cannot generate XML\n     */\n    public String toXml() throws TwiMLException {\n        try {\n            Document doc = DocumentBuilderFactory\n                .newInstance()\n                .newDocumentBuilder()\n                .newDocument();\n            doc.setXmlStandalone(true);\n            doc.appendChild(this.buildXmlElement(doc));\n\n            TransformerFactory tFact = TransformerFactory.newInstance();\n            tFact.setAttribute(XMLConstants.ACCESS_EXTERNAL_DTD, \"\");\n            tFact.setAttribute(XMLConstants.ACCESS_EXTERNAL_STYLESHEET, \"\");\n            Transformer transformer = tFact.newTransformer();\n            transformer.setOutputProperty(OutputKeys.INDENT, \"no\");\n            DOMSource source = new DOMSource(doc);\n            StreamResult output = new StreamResult(new StringWriter());\n            transformer.transform(source, output);\n            return output.getWriter().toString().trim();\n        } catch (TransformerException te) {\n            throw new TwiMLException(\"Exception serializing TwiML: \" + te.getMessage());\n        } catch (Exception e) {\n            throw new TwiMLException(\"Unhandled exception: \" + e.getMessage());\n        }\n    }\n\n    /**\n     * Convert TwiML object to URL.\n     *\n     * @return URL string of TwiML object\n     * @throws TwiMLException if cannot generate URL\n     */\n    public String toUrl() throws TwiMLException {\n        try {\n            return URLEncoder.encode(toXml(), \"UTF-8\");\n        } catch (UnsupportedEncodingException e) {\n            throw new TwiMLException(e.getMessage());\n        }\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        TwiML twiml = (TwiML) o;\n        return Objects.equals(this.getTagName(), twiml.getTagName()) &&\n            Objects.equals(this.getElementBody(), twiml.getElementBody()) &&\n            Objects.equals(this.getElementAttributes(), twiml.getElementAttributes()) &&\n            Objects.equals(this.getOptions(), twiml.getOptions()) &&\n            Objects.equals(this.getChildren(), twiml.getChildren());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(\n            this.getTagName(),\n            this.getElementBody(),\n            this.getElementAttributes(),\n            this.getChildren(),\n            this.getOptions()\n        );\n    }\n\n    /**\n     * Create a new {@code TwiML} node\n     */\n    public static class Builder<T extends Builder<T>> {\n        protected Map<String, String> options = new HashMap<>();\n        protected List<TwiML> children = new ArrayList<>();\n\n        /**\n         * Set additional attributes on this TwiML element that will appear in generated\n         * XML.\n         */\n        public T option(String key, String value) {\n            this.options.put(key, value);\n            return (T) this;\n        }\n\n        /**\n         * Add a text node as a child element\n         */\n        public T addText(String text) {\n            this.children.add(new Text(text));\n            return (T) this;\n        }\n\n        /**\n         * @return TwiML object\n         */\n        public T addChild(GenericNode node) {\n            this.children.add(node);\n            return (T) this;\n        }\n    }\n}\n","Smelly Sample":"package com.twilio.twiml;\n\nimport lombok.ToString;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Node;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport java.io.StringWriter;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\n\n@SuppressWarnings(\"checkstyle:abbreviationaswordinname\")\n@ToString\npublic abstract class TwiML {\n    private final String tagName;\n    private final Builder builder;\n    private static final Map<String, String> attrNameMapper = Collections.singletonMap(\"for_\", \"for\");\n\n    /**\n     * @param tagName Element tag name\n     * @param builder Builder data for the element\n     */\n    protected TwiML(String tagName, Builder builder) {\n        this.tagName = tagName;\n        this.builder = builder;\n    }\n\n    /**\n     * The body of the TwiML element\n     *\n     * @return Element body as a string if present else null\n     */\n    protected String getElementBody() {\n        return null;\n    }\n\n    /**\n     * Attributes to set on the generated XML element\n     *\n     * @return A Map of attribute keys to values\n     */\n    protected Map<String, String> getElementAttributes() {\n        return new HashMap<>();\n    }\n\n    /**\n     * Get tag name of this TwiML Element.\n     */\n    public String getTagName() {\n        return this.tagName;\n    }\n\n    /**\n     * Get children elements of this TwiML element.\n     */\n    public List<TwiML> getChildren() {\n        return this.builder.children;\n    }\n\n    /**\n     * Get additional options set on this TwiML's generated XML.\n     */\n    public Map<String, String> getOptions() {\n        return this.builder.options;\n    }\n\n    /**\n     * Get transformed attribute name for this Twiml element.\n     */\n    private String getTransformedAttrName(final String attrName) {\n        return attrNameMapper.containsKey(attrName) ? attrNameMapper.get(attrName) : attrName;\n    }\n\n    /**\n     * @param parentDoc Root XML Document\n     */\n    protected Node buildXmlElement(Document parentDoc) {\n        Element node = parentDoc.createElement(this.getTagName());\n\n        String body = this.getElementBody();\n        if (body != null) {\n            node.appendChild(parentDoc.createTextNode(body));\n        }\n\n        for (Map.Entry<String, String> attr : this.getElementAttributes().entrySet()) {\n            node.setAttribute(getTransformedAttrName(attr.getKey()), attr.getValue());\n        }\n\n        for (TwiML child : this.getChildren()) {\n            node.appendChild(child.buildXmlElement(parentDoc));\n        }\n\n        for (Map.Entry<String, String> option : this.getOptions().entrySet()) {\n            node.setAttribute(option.getKey(), option.getValue());\n        }\n        return node;\n    }\n\n    /**\n     * Convert TwiML object to XML.\n     *\n     * @return XML string of TwiML object\n     * @throws TwiMLException if cannot generate XML\n     */\n    public String toXml() throws TwiMLException {\n        try {\n            Document doc = DocumentBuilderFactory\n                .newInstance()\n                .newDocumentBuilder()\n                .newDocument();\n            doc.setXmlStandalone(true);\n            doc.appendChild(this.buildXmlElement(doc));\n\n            Transformer transformer = TransformerFactory.newInstance().newTransformer();\n            transformer.setOutputProperty(OutputKeys.INDENT, \"no\");\n            DOMSource source = new DOMSource(doc);\n            StreamResult output = new StreamResult(new StringWriter());\n            transformer.transform(source, output);\n            return output.getWriter().toString().trim();\n        } catch (TransformerException te) {\n            throw new TwiMLException(\"Exception serializing TwiML: \" + te.getMessage());\n        } catch (Exception e) {\n            throw new TwiMLException(\"Unhandled exception: \" + e.getMessage());\n        }\n    }\n\n    /**\n     * Convert TwiML object to URL.\n     *\n     * @return URL string of TwiML object\n     * @throws TwiMLException if cannot generate URL\n     */\n    public String toUrl() throws TwiMLException {\n        try {\n            return URLEncoder.encode(toXml(), \"UTF-8\");\n        } catch (UnsupportedEncodingException e) {\n            throw new TwiMLException(e.getMessage());\n        }\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        TwiML twiml = (TwiML) o;\n        return Objects.equals(this.getTagName(), twiml.getTagName()) &&\n            Objects.equals(this.getElementBody(), twiml.getElementBody()) &&\n            Objects.equals(this.getElementAttributes(), twiml.getElementAttributes()) &&\n            Objects.equals(this.getOptions(), twiml.getOptions()) &&\n            Objects.equals(this.getChildren(), twiml.getChildren());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(\n            this.getTagName(),\n            this.getElementBody(),\n            this.getElementAttributes(),\n            this.getChildren(),\n            this.getOptions()\n        );\n    }\n\n    /**\n     * Create a new {@code TwiML} node\n     */\n    public static class Builder<T extends Builder<T>> {\n        protected Map<String, String> options = new HashMap<>();\n        protected List<TwiML> children = new ArrayList<>();\n\n        /**\n         * Set additional attributes on this TwiML element that will appear in generated\n         * XML.\n         */\n        public T option(String key, String value) {\n            this.options.put(key, value);\n            return (T) this;\n        }\n\n        /**\n         * Add a text node as a child element\n         */\n        public T addText(String text) {\n            this.children.add(new Text(text));\n            return (T) this;\n        }\n\n        /**\n         * @return TwiML object\n         */\n        public T addChild(GenericNode node) {\n            this.children.add(node);\n            return (T) this;\n        }\n    }\n}\n","lineNo":128}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.rest.Domains;\nimport java.time.ZonedDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport org.junit.Test;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport static com.twilio.Assert.assertQueryStringsEqual;\nimport static com.twilio.Assert.assertUrlsEqual;\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotEquals;\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class RequestTest {\n\n    @Test\n    public void testConstructorWithDomain() {\n        Request request = new Request(HttpMethod.GET, Domains.IPMESSAGING.toString(), \"/v1/uri\");\n        assertNotNull(request);\n        assertEquals(HttpMethod.GET, request.getMethod());\n        assertEquals(\"https://chat.twilio.com/v1/uri\", request.getUrl());\n    }\n\n    @Test\n    public void testConstructURL() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test(expected = ApiException.class)\n    public void testConstructURLURISyntaxException() {\n        Request request = new Request(HttpMethod.DELETE, \"http://{\");\n        request.constructURL();\n        fail(\"ApiException was expected\");\n    }\n\n    @Test\n    public void testConstructURLWithPipe() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foo|bar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foo%7Cbar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithMultipleSlashes() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foo|bar/bar|foo\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foo%7Cbar/bar%7Cfoo\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithCredentials() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, \"user:pass@\" + Domains.API.toString(), \"/2010-04-01/foobar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://user:pass@api.twilio.com/2010-04-01/foobar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithParams() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        r.addQueryParam(\"garply\", \"xyzzy\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux&garply=xyzzy\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithPlusPrefix() {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"To\", \"+18888888888\");\n        URL url = r.constructURL();\n        String expected = \"https://api.twilio.com/2010-04-01/foobar?To=%2B18888888888\";\n        assertEquals(expected, url.toString());\n    }\n\n    @Test\n    public void testConstructURLWithMultivaluedParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        r.addQueryParam(\"baz\", \"xyzzy\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux&baz=xyzzy\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithInequalityParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz>\", \"3\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=3\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeLowerBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", LocalDate.of(2014, 1, 1), null);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeUpperBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", null, LocalDate.of(2014, 1, 1));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz<=2014-01-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeClosed() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", LocalDate.of(2014, 1, 10), LocalDate.of(2014, 6, 1));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10&baz<=2014-06-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeMismatchedBounds() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        LocalDate wrongLowerBound = LocalDate.of(2020, 6, 1);\n        LocalDate wrongUpperBound = LocalDate.of(2014, 1, 10);\n        r.addQueryDateRange(\"baz\", wrongLowerBound, wrongUpperBound);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10&baz<=2020-06-01\");\n        assertNotEquals(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeLowerBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", ZonedDateTime.of(2014, 1, 1, 0, 0, 0, 0, ZoneOffset.UTC), null);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-01T00:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeUpperBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", null, ZonedDateTime.of(2014, 1, 1, 22, 0, 0, 0, ZoneOffset.UTC));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz<=2014-01-01T22:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeClosed() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, ZoneOffset.UTC),\n            ZonedDateTime.of(2014, 6, 1, 16, 0, 0, 0, ZoneOffset.UTC));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T14:00:00&baz<=2014-06-01T16:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeClosedNotUTC() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        ZoneId z = ZoneId.of(\"America/Chicago\");\n        ZonedDateTime begin = ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, z);\n        ZonedDateTime end = ZonedDateTime.of(2014, 6, 1, 16, 0, 0, 0, z);\n        r.addQueryDateTimeRange(\"baz\", begin, end);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T20:00:00&baz<=2014-06-01T21:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeMismatchedBounds() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        ZonedDateTime wrongLowerBound = ZonedDateTime.of(2020, 6, 1, 16, 0, 0, 0, ZoneOffset.UTC);\n        ZonedDateTime wrongUpperBound = ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, ZoneOffset.UTC);\n        r.addQueryDateTimeRange(\"baz\", wrongLowerBound, wrongUpperBound);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T14:00:00&baz<=2020-06-01T16:00:00\");\n        assertNotEquals(expected, url);\n    }\n\n    @Test\n    public void testNoEdgeOrRegionInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.us1.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.urlRegion.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.urlRegion.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.urlRegion.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionAndEdgeInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.urlEdge.urlRegion.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.urlEdge.urlRegion.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.urlEdge.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.urlRegion.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionInConstructor() {\n        final Request request = new Request(HttpMethod.GET, Domains.ACCOUNTS.toString(), \"/path/to/something.json?foo=12.34#bar\", \"region\");\n\n        assertUrlsEqual(\"https://accounts.region.twilio.com/path/to/something.json?foo=12.34#bar\", request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(\"https://accounts.edge.region.twilio.com/path/to/something.json?foo=12.34#bar\", request.constructURL());\n    }\n\n    @Test\n    public void testEncodeFormBody() {\n        Request r = new Request(HttpMethod.POST, \"http://example.com/foobar\");\n        r.addPostParam(\"baz\", \"quux\");\n        r.addPostParam(\"garply\", \"xyzzy\");\n        String encoded = r.encodeFormBody();\n        assertQueryStringsEqual(\"baz=quux&garply=xyzzy\", encoded);\n    }\n\n    @Test\n    public void testGetPassword() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertEquals(\"password\", request.getPassword());\n    }\n\n    @Test\n    public void testGetUsername() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertEquals(\"username\", request.getUsername());\n    }\n\n    @Test\n    public void testRequiresAuthentication() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        assertFalse(request.requiresAuthentication());\n        request.setAuth(\"username\", \"password\");\n        assertTrue(request.requiresAuthentication());\n    }\n\n    @Test\n    public void testEquals() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertNotEquals(request, new Object());\n        assertNotEquals(null, request);\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.google.common.collect.Range;\nimport com.twilio.exception.ApiException;\nimport com.twilio.rest.Domains;\nimport java.time.ZonedDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport org.junit.Test;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport static com.twilio.Assert.assertQueryStringsEqual;\nimport static com.twilio.Assert.assertUrlsEqual;\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotEquals;\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class RequestTest {\n\n    @Test\n    public void testConstructorWithDomain() {\n        Request request = new Request(HttpMethod.GET, Domains.IPMESSAGING.toString(), \"/v1/uri\");\n        assertNotNull(request);\n        assertEquals(HttpMethod.GET, request.getMethod());\n        assertEquals(\"https://chat.twilio.com/v1/uri\", request.getUrl());\n    }\n\n    @Test\n    public void testConstructURL() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test(expected = ApiException.class)\n    public void testConstructURLURISyntaxException() {\n        Request request = new Request(HttpMethod.DELETE, \"http://{\");\n        request.constructURL();\n        fail(\"ApiException was expected\");\n    }\n\n    @Test\n    public void testConstructURLWithPipe() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foo|bar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foo%7Cbar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithMultipleSlashes() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foo|bar/bar|foo\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foo%7Cbar/bar%7Cfoo\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithCredentials() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, \"user:pass@\" + Domains.API.toString(), \"/2010-04-01/foobar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://user:pass@api.twilio.com/2010-04-01/foobar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithParams() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        r.addQueryParam(\"garply\", \"xyzzy\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux&garply=xyzzy\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithPlusPrefix() {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"To\", \"+18888888888\");\n        URL url = r.constructURL();\n        String expected = \"https://api.twilio.com/2010-04-01/foobar?To=%2B18888888888\";\n        assertEquals(expected, url.toString());\n    }\n\n    @Test\n    public void testConstructURLWithMultivaluedParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        r.addQueryParam(\"baz\", \"xyzzy\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux&baz=xyzzy\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithInequalityParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz>\", \"3\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=3\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeLowerBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", Range.greaterThan(LocalDate.of(2014, 1, 1)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeUpperBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", Range.lessThan(LocalDate.of(2014, 1, 1)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz<=2014-01-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeClosed() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", Range.closed(LocalDate.of(2014, 1, 10), LocalDate.of(2014, 6, 1)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10&baz<=2014-06-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeLowerBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", Range.greaterThan(ZonedDateTime.of(2014, 1, 1, 0, 0, 0, 0, ZoneOffset.UTC)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-01T00:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeUpperBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", Range.lessThan(ZonedDateTime.of(2014, 1, 1, 22, 0, 0, 0, ZoneOffset.UTC)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz<=2014-01-01T22:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeClosed() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", Range.closed(ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, ZoneOffset.UTC),\n            ZonedDateTime.of(2014, 6, 1, 16, 0, 0, 0, ZoneOffset.UTC)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T14:00:00&baz<=2014-06-01T16:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeClosedNotUTC() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", Range.closed(\n            ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, ZoneId.of(\"America/Chicago\")),\n            ZonedDateTime.of(2014, 6, 1, 16, 0, 0, 0, ZoneId.of(\"America/Chicago\"))));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T20:00:00&baz<=2014-06-01T21:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testNoEdgeOrRegionInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.us1.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.urlRegion.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.urlRegion.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.urlRegion.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionAndEdgeInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.urlEdge.urlRegion.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.urlEdge.urlRegion.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.urlEdge.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.urlRegion.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionInConstructor() {\n        final Request request = new Request(HttpMethod.GET, Domains.ACCOUNTS.toString(), \"/path/to/something.json?foo=12.34#bar\", \"region\");\n\n        assertUrlsEqual(\"https://accounts.region.twilio.com/path/to/something.json?foo=12.34#bar\", request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(\"https://accounts.edge.region.twilio.com/path/to/something.json?foo=12.34#bar\", request.constructURL());\n    }\n\n    @Test\n    public void testEncodeFormBody() {\n        Request r = new Request(HttpMethod.POST, \"http://example.com/foobar\");\n        r.addPostParam(\"baz\", \"quux\");\n        r.addPostParam(\"garply\", \"xyzzy\");\n        String encoded = r.encodeFormBody();\n        assertQueryStringsEqual(\"baz=quux&garply=xyzzy\", encoded);\n    }\n\n    @Test\n    public void testGetPassword() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertEquals(\"password\", request.getPassword());\n    }\n\n    @Test\n    public void testGetUsername() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertEquals(\"username\", request.getUsername());\n    }\n\n    @Test\n    public void testRequiresAuthentication() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        assertFalse(request.requiresAuthentication());\n        request.setAuth(\"username\", \"password\");\n        assertTrue(request.requiresAuthentication());\n    }\n\n    @Test\n    public void testEquals() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertNotEquals(request, new Object());\n        assertNotEquals(null, request);\n    }\n}\n","lineNo":189}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.rest.Domains;\nimport java.time.ZonedDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport org.junit.Test;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport static com.twilio.Assert.assertQueryStringsEqual;\nimport static com.twilio.Assert.assertUrlsEqual;\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotEquals;\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class RequestTest {\n\n    @Test\n    public void testConstructorWithDomain() {\n        Request request = new Request(HttpMethod.GET, Domains.IPMESSAGING.toString(), \"/v1/uri\");\n        assertNotNull(request);\n        assertEquals(HttpMethod.GET, request.getMethod());\n        assertEquals(\"https://chat.twilio.com/v1/uri\", request.getUrl());\n    }\n\n    @Test\n    public void testConstructURL() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test(expected = ApiException.class)\n    public void testConstructURLURISyntaxException() {\n        Request request = new Request(HttpMethod.DELETE, \"http://{\");\n        request.constructURL();\n        fail(\"ApiException was expected\");\n    }\n\n    @Test\n    public void testConstructURLWithPipe() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foo|bar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foo%7Cbar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithMultipleSlashes() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foo|bar/bar|foo\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foo%7Cbar/bar%7Cfoo\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithCredentials() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, \"user:pass@\" + Domains.API.toString(), \"/2010-04-01/foobar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://user:pass@api.twilio.com/2010-04-01/foobar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithParams() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        r.addQueryParam(\"garply\", \"xyzzy\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux&garply=xyzzy\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithPlusPrefix() {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"To\", \"+18888888888\");\n        URL url = r.constructURL();\n        String expected = \"https://api.twilio.com/2010-04-01/foobar?To=%2B18888888888\";\n        assertEquals(expected, url.toString());\n    }\n\n    @Test\n    public void testConstructURLWithMultivaluedParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        r.addQueryParam(\"baz\", \"xyzzy\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux&baz=xyzzy\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithInequalityParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz>\", \"3\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=3\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeLowerBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", LocalDate.of(2014, 1, 1), null);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeUpperBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", null, LocalDate.of(2014, 1, 1));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz<=2014-01-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeClosed() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", LocalDate.of(2014, 1, 10), LocalDate.of(2014, 6, 1));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10&baz<=2014-06-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeMismatchedBounds() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        LocalDate wrongLowerBound = LocalDate.of(2020, 6, 1);\n        LocalDate wrongUpperBound = LocalDate.of(2014, 1, 10);\n        r.addQueryDateRange(\"baz\", wrongLowerBound, wrongUpperBound);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10&baz<=2020-06-01\");\n        assertNotEquals(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeLowerBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", ZonedDateTime.of(2014, 1, 1, 0, 0, 0, 0, ZoneOffset.UTC), null);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-01T00:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeUpperBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", null, ZonedDateTime.of(2014, 1, 1, 22, 0, 0, 0, ZoneOffset.UTC));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz<=2014-01-01T22:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeClosed() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, ZoneOffset.UTC),\n            ZonedDateTime.of(2014, 6, 1, 16, 0, 0, 0, ZoneOffset.UTC));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T14:00:00&baz<=2014-06-01T16:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeClosedNotUTC() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        ZoneId z = ZoneId.of(\"America/Chicago\");\n        ZonedDateTime begin = ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, z);\n        ZonedDateTime end = ZonedDateTime.of(2014, 6, 1, 16, 0, 0, 0, z);\n        r.addQueryDateTimeRange(\"baz\", begin, end);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T20:00:00&baz<=2014-06-01T21:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeMismatchedBounds() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        ZonedDateTime wrongLowerBound = ZonedDateTime.of(2020, 6, 1, 16, 0, 0, 0, ZoneOffset.UTC);\n        ZonedDateTime wrongUpperBound = ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, ZoneOffset.UTC);\n        r.addQueryDateTimeRange(\"baz\", wrongLowerBound, wrongUpperBound);\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T14:00:00&baz<=2020-06-01T16:00:00\");\n        assertNotEquals(expected, url);\n    }\n\n    @Test\n    public void testNoEdgeOrRegionInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.us1.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.urlRegion.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.urlRegion.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.urlRegion.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionAndEdgeInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.urlEdge.urlRegion.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.urlEdge.urlRegion.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.urlEdge.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.urlRegion.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionInConstructor() {\n        final Request request = new Request(HttpMethod.GET, Domains.ACCOUNTS.toString(), \"/path/to/something.json?foo=12.34#bar\", \"region\");\n\n        assertUrlsEqual(\"https://accounts.region.twilio.com/path/to/something.json?foo=12.34#bar\", request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(\"https://accounts.edge.region.twilio.com/path/to/something.json?foo=12.34#bar\", request.constructURL());\n    }\n\n    @Test\n    public void testEncodeFormBody() {\n        Request r = new Request(HttpMethod.POST, \"http://example.com/foobar\");\n        r.addPostParam(\"baz\", \"quux\");\n        r.addPostParam(\"garply\", \"xyzzy\");\n        String encoded = r.encodeFormBody();\n        assertQueryStringsEqual(\"baz=quux&garply=xyzzy\", encoded);\n    }\n\n    @Test\n    public void testGetPassword() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertEquals(\"password\", request.getPassword());\n    }\n\n    @Test\n    public void testGetUsername() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertEquals(\"username\", request.getUsername());\n    }\n\n    @Test\n    public void testRequiresAuthentication() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        assertFalse(request.requiresAuthentication());\n        request.setAuth(\"username\", \"password\");\n        assertTrue(request.requiresAuthentication());\n    }\n\n    @Test\n    public void testEquals() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertNotEquals(request, new Object());\n        assertNotEquals(null, request);\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.google.common.collect.Range;\nimport com.twilio.exception.ApiException;\nimport com.twilio.rest.Domains;\nimport java.time.ZonedDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport org.junit.Test;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport static com.twilio.Assert.assertQueryStringsEqual;\nimport static com.twilio.Assert.assertUrlsEqual;\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotEquals;\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class RequestTest {\n\n    @Test\n    public void testConstructorWithDomain() {\n        Request request = new Request(HttpMethod.GET, Domains.IPMESSAGING.toString(), \"/v1/uri\");\n        assertNotNull(request);\n        assertEquals(HttpMethod.GET, request.getMethod());\n        assertEquals(\"https://chat.twilio.com/v1/uri\", request.getUrl());\n    }\n\n    @Test\n    public void testConstructURL() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test(expected = ApiException.class)\n    public void testConstructURLURISyntaxException() {\n        Request request = new Request(HttpMethod.DELETE, \"http://{\");\n        request.constructURL();\n        fail(\"ApiException was expected\");\n    }\n\n    @Test\n    public void testConstructURLWithPipe() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foo|bar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foo%7Cbar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithMultipleSlashes() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foo|bar/bar|foo\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foo%7Cbar/bar%7Cfoo\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithCredentials() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, \"user:pass@\" + Domains.API.toString(), \"/2010-04-01/foobar\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://user:pass@api.twilio.com/2010-04-01/foobar\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithParams() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        r.addQueryParam(\"garply\", \"xyzzy\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux&garply=xyzzy\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithPlusPrefix() {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"To\", \"+18888888888\");\n        URL url = r.constructURL();\n        String expected = \"https://api.twilio.com/2010-04-01/foobar?To=%2B18888888888\";\n        assertEquals(expected, url.toString());\n    }\n\n    @Test\n    public void testConstructURLWithMultivaluedParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz\", \"quux\");\n        r.addQueryParam(\"baz\", \"xyzzy\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz=quux&baz=xyzzy\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testConstructURLWithInequalityParam() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryParam(\"baz>\", \"3\");\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=3\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeLowerBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", Range.greaterThan(LocalDate.of(2014, 1, 1)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeUpperBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", Range.lessThan(LocalDate.of(2014, 1, 1)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz<=2014-01-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateRangeClosed() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateRange(\"baz\", Range.closed(LocalDate.of(2014, 1, 10), LocalDate.of(2014, 6, 1)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10&baz<=2014-06-01\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeLowerBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", Range.greaterThan(ZonedDateTime.of(2014, 1, 1, 0, 0, 0, 0, ZoneOffset.UTC)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-01T00:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeUpperBound() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", Range.lessThan(ZonedDateTime.of(2014, 1, 1, 22, 0, 0, 0, ZoneOffset.UTC)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz<=2014-01-01T22:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeClosed() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", Range.closed(ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, ZoneOffset.UTC),\n            ZonedDateTime.of(2014, 6, 1, 16, 0, 0, 0, ZoneOffset.UTC)));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T14:00:00&baz<=2014-06-01T16:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testAddQueryDateTimeRangeClosedNotUTC() throws MalformedURLException {\n        Request r = new Request(HttpMethod.GET, Domains.API.toString(), \"/2010-04-01/foobar\");\n        r.addQueryDateTimeRange(\"baz\", Range.closed(\n            ZonedDateTime.of(2014, 1, 10, 14, 0, 0, 0, ZoneId.of(\"America/Chicago\")),\n            ZonedDateTime.of(2014, 6, 1, 16, 0, 0, 0, ZoneId.of(\"America/Chicago\"))));\n        URL url = r.constructURL();\n        URL expected = new URL(\"https://api.twilio.com/2010-04-01/foobar?baz>=2014-01-10T20:00:00&baz<=2014-06-01T21:00:00\");\n        assertUrlsEqual(expected, url);\n    }\n\n    @Test\n    public void testNoEdgeOrRegionInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.us1.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.urlRegion.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.urlRegion.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.urlRegion.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionAndEdgeInUrl() throws MalformedURLException {\n        final Request request = new Request(HttpMethod.GET, \"https://api.urlEdge.urlRegion.twilio.com\");\n\n        assertUrlsEqual(new URL(\"https://api.urlEdge.urlRegion.twilio.com\"), request.constructURL());\n\n        request.setRegion(\"region\");\n        assertUrlsEqual(new URL(\"https://api.urlEdge.region.twilio.com\"), request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(new URL(\"https://api.edge.region.twilio.com\"), request.constructURL());\n\n        request.setRegion(null);\n        assertUrlsEqual(new URL(\"https://api.edge.urlRegion.twilio.com\"), request.constructURL());\n    }\n\n    @Test\n    public void testRegionInConstructor() {\n        final Request request = new Request(HttpMethod.GET, Domains.ACCOUNTS.toString(), \"/path/to/something.json?foo=12.34#bar\", \"region\");\n\n        assertUrlsEqual(\"https://accounts.region.twilio.com/path/to/something.json?foo=12.34#bar\", request.constructURL());\n\n        request.setEdge(\"edge\");\n        assertUrlsEqual(\"https://accounts.edge.region.twilio.com/path/to/something.json?foo=12.34#bar\", request.constructURL());\n    }\n\n    @Test\n    public void testEncodeFormBody() {\n        Request r = new Request(HttpMethod.POST, \"http://example.com/foobar\");\n        r.addPostParam(\"baz\", \"quux\");\n        r.addPostParam(\"garply\", \"xyzzy\");\n        String encoded = r.encodeFormBody();\n        assertQueryStringsEqual(\"baz=quux&garply=xyzzy\", encoded);\n    }\n\n    @Test\n    public void testGetPassword() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertEquals(\"password\", request.getPassword());\n    }\n\n    @Test\n    public void testGetUsername() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertEquals(\"username\", request.getUsername());\n    }\n\n    @Test\n    public void testRequiresAuthentication() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        assertFalse(request.requiresAuthentication());\n        request.setAuth(\"username\", \"password\");\n        assertTrue(request.requiresAuthentication());\n    }\n\n    @Test\n    public void testEquals() {\n        Request request = new Request(HttpMethod.DELETE, \"/uri\");\n        request.setAuth(\"username\", \"password\");\n        assertNotEquals(request, new Object());\n        assertNotEquals(null, request);\n    }\n}\n","lineNo":191}
{"Refactored Sample":"package com.twilio;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.NetworkHttpClient;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\n\nimport org.junit.Test;\n\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class TwilioTest {\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mocked\n    private NetworkHttpClient networkHttpClient;\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        assertEquals(executorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 500);\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new ApiException(\"No\");\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 200);\n        }};\n\n        Twilio.validateSslCertificate();\n    }\n}\n","Smelly Sample":"package com.twilio;\n\nimport com.google.common.util.concurrent.ListeningExecutorService;\nimport com.google.common.util.concurrent.MoreExecutors;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.NetworkHttpClient;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\n\nimport org.junit.Test;\n\nimport java.util.List;\nimport java.util.concurrent.Executors;\n\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class TwilioTest {\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mocked\n    private NetworkHttpClient networkHttpClient;\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ListeningExecutorService listeningExecutorService = MoreExecutors.listeningDecorator(\n                Executors.newCachedThreadPool());\n        Twilio.setExecutorService(listeningExecutorService);\n        assertEquals(listeningExecutorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ListeningExecutorService listeningExecutorService = MoreExecutors.listeningDecorator(\n                Executors.newCachedThreadPool());\n        Twilio.setExecutorService(listeningExecutorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 500);\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new ApiException(\"No\");\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 200);\n        }};\n\n        Twilio.validateSslCertificate();\n    }\n}\n","lineNo":69}
{"Refactored Sample":"package com.twilio;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.NetworkHttpClient;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\n\nimport org.junit.Test;\n\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class TwilioTest {\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mocked\n    private NetworkHttpClient networkHttpClient;\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        assertEquals(executorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ExecutorService executorService = Executors.newCachedThreadPool();\n        Twilio.setExecutorService(executorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 500);\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new ApiException(\"No\");\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 200);\n        }};\n\n        Twilio.validateSslCertificate();\n    }\n}\n","Smelly Sample":"package com.twilio;\n\nimport com.google.common.util.concurrent.ListeningExecutorService;\nimport com.google.common.util.concurrent.MoreExecutors;\n\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.AuthenticationException;\nimport com.twilio.exception.CertificateValidationException;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.http.NetworkHttpClient;\nimport com.twilio.http.Request;\nimport com.twilio.http.Response;\nimport com.twilio.http.TwilioRestClient;\n\nimport org.junit.Test;\n\nimport java.util.List;\nimport java.util.concurrent.Executors;\n\nimport mockit.Mocked;\nimport mockit.NonStrictExpectations;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\nimport static org.junit.Assert.fail;\n\npublic class TwilioTest {\n\n    public static String serialize(Object object) {\n        return object.toString();\n    }\n\n    public static String serialize(List list) {\n        // NOTE: This relies on the fact that integration tests only ever generate single element lists.\n        return list.get(0).toString();\n    }\n\n    @Mocked\n    private NetworkHttpClient networkHttpClient;\n\n    @Test\n    public void testGetExecutorService() {\n        assertNotNull(Twilio.getExecutorService());\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testGetRestClientNullAccountSid() {\n        Twilio.setRestClient(null);\n        Twilio.setUsername(null);\n        Twilio.setPassword(null);\n\n        Twilio.getRestClient();\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAccountSidNull() {\n        Twilio.setUsername(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test(expected = AuthenticationException.class)\n    public void testSetAuthTokenNull() {\n        Twilio.setPassword(null);\n        fail(\"AuthenticationException was expected\");\n    }\n\n    @Test\n    public void testSetExecutorService() {\n        ListeningExecutorService listeningExecutorService = MoreExecutors.listeningDecorator(\n                Executors.newCachedThreadPool());\n        Twilio.setExecutorService(listeningExecutorService);\n        assertEquals(listeningExecutorService, Twilio.getExecutorService());\n    }\n\n    @Test\n    public void testDestroyExecutorService() {\n        ListeningExecutorService listeningExecutorService = MoreExecutors.listeningDecorator(\n                Executors.newCachedThreadPool());\n        Twilio.setExecutorService(listeningExecutorService);\n        Twilio.destroy();\n        assertTrue(Twilio.getExecutorService().isShutdown());\n    }\n\n    @Test\n    public void testSetRestClient() {\n        TwilioRestClient twilioRestClient = new TwilioRestClient.Builder(\"AC123\", \"AUTH TOKEN\").build();\n        Twilio.setRestClient(twilioRestClient);\n        assertEquals(twilioRestClient, Twilio.getRestClient());\n    }\n\n    @Test\n    public void testValidateSslCertificateError() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 500);\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Unexpected response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateException() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new ApiException(\"No\");\n        }};\n\n        try {\n            Twilio.validateSslCertificate();\n            fail(\"Excepted CertificateValidationException\");\n        } catch (final CertificateValidationException e) {\n            assertEquals(\"Could not get response from certificate endpoint\", e.getMessage());\n        }\n    }\n\n    @Test\n    public void testValidateSslCertificateSuccess() {\n        new NonStrictExpectations() {{\n            final Request request = new Request(HttpMethod.GET, \"https://api.twilio.com:8443\");\n            networkHttpClient.makeRequest(request);\n            times = 1;\n            result = new Response(\"\", 200);\n        }};\n\n        Twilio.validateSslCertificate();\n    }\n}\n","lineNo":76}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.google.common.collect.Range;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.InvalidRequestException;\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.LocalDate;\n\nimport javax.xml.bind.DatatypeConverter;\nimport java.io.UnsupportedEncodingException;\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\n\npublic class Request {\n\n    private static final String DEFAULT_REGION = \"us1\";\n\n    public static final String QUERY_STRING_DATE_TIME_FORMAT = \"yyyy-MM-dd'T'HH:mm:ss\";\n    public static final String QUERY_STRING_DATE_FORMAT = \"yyyy-MM-dd\";\n\n    private final HttpMethod method;\n    private final String url;\n    private final Map<String, List<String>> queryParams;\n    private final Map<String, List<String>> postParams;\n\n    private String region;\n    private String edge;\n    private String username;\n    private String password;\n\n    /**\n     * Create a new API request.\n     *\n     * @param method HTTP method\n     * @param url    url of request\n     */\n    public Request(final HttpMethod method, final String url) {\n        this.method = method;\n        this.url = url;\n        this.queryParams = new HashMap<>();\n        this.postParams = new HashMap<>();\n    }\n\n    /**\n     * Create a new API request.\n     *\n     * @param method HTTP method\n     * @param domain Twilio domain\n     * @param uri    uri of request\n     */\n    public Request(final HttpMethod method, final String domain, final String uri) {\n        this(method, domain, uri, null);\n    }\n\n    /**\n     * Create a new API request.\n     *\n     * @param method HTTP Method\n     * @param domain Twilio domain\n     * @param uri    uri of request\n     * @param region region to make request\n     */\n    public Request(\n        final HttpMethod method,\n        final String domain,\n        final String uri,\n        final String region\n    ) {\n        this.method = method;\n        this.url = \"https://\" + domain + \".twilio.com\" + uri;\n        this.region = region;\n        this.queryParams = new HashMap<>();\n        this.postParams = new HashMap<>();\n    }\n\n    public HttpMethod getMethod() {\n        return method;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setAuth(final String username, final String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    public void setRegion(final String region) {\n        this.region = region;\n    }\n\n    public void setEdge(final String edge) {\n        this.edge = edge;\n    }\n\n    /**\n     * Create auth string from username and password.\n     *\n     * @return basic authentication string\n     */\n    public String getAuthString() {\n        final String credentials = this.username + \":\" + this.password;\n        final String encoded = DatatypeConverter.printBase64Binary(credentials.getBytes(StandardCharsets.US_ASCII));\n        return \"Basic \" + encoded;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public boolean requiresAuthentication() {\n        return username != null || password != null;\n    }\n\n    /**\n     * Build the URL for the request.\n     *\n     * @return URL for the request\n     */\n    public URL constructURL() {\n        String params = encodeQueryParams();\n        String stringUri = buildURL();\n\n        if (params.length() > 0) {\n            stringUri += \"?\" + params;\n        }\n\n        try {\n            URI uri = new URI(stringUri);\n            return uri.toURL();\n        } catch (final URISyntaxException e) {\n            throw new ApiException(\"Bad URI: \" + stringUri, e);\n        } catch (final MalformedURLException e) {\n            throw new ApiException(\"Bad URL: \" + stringUri, e);\n        }\n    }\n\n    private String buildURL() {\n        try {\n            final URL parsedUrl = new URL(url);\n            String host = parsedUrl.getHost();\n            final String[] pieces = host.split(\"\\\\.\");\n\n            if (pieces.length > 1) {\n                final String product = pieces[0];\n                final String domain = joinIgnoreNull(\".\", pieces[pieces.length - 2], pieces[pieces.length - 1]);\n\n                String targetRegion = region;\n                String targetEdge = edge;\n\n                if (pieces.length == 4) { // product.region.twilio.com\n                    targetRegion = targetRegion != null ? targetRegion : pieces[1];\n                } else if (pieces.length == 5) { // product.edge.region.twilio.com\n                    targetEdge = targetEdge != null ? targetEdge : pieces[1];\n                    targetRegion = targetRegion != null ? targetRegion : pieces[2];\n                }\n\n                if (targetEdge != null && targetRegion == null)\n                    targetRegion = DEFAULT_REGION;\n\n                host = joinIgnoreNull(\".\", product, targetEdge, targetRegion, domain);\n            }\n\n            return new URI(parsedUrl.getProtocol(), parsedUrl.getUserInfo(), host, parsedUrl.getPort(),\n                    parsedUrl.getPath(), parsedUrl.getQuery(), parsedUrl.getRef()).toURL().toString();\n        } catch (final MalformedURLException | URISyntaxException e) {\n            throw new ApiException(\"Bad URL: \" + url, e);\n        }\n    }\n\n    /**\n     * Add query parameters for date ranges.\n     *\n     * @param name  name of query parameter\n     * @param range date range\n     */\n    public void addQueryDateRange(final String name, final Range<LocalDate> range) {\n        if (range.hasLowerBound()) {\n            String value = range.lowerEndpoint().toString(QUERY_STRING_DATE_FORMAT);\n            addQueryParam(name + \">\", value);\n        }\n\n        if (range.hasUpperBound()) {\n            String value = range.upperEndpoint().toString(QUERY_STRING_DATE_FORMAT);\n            addQueryParam(name + \"<\", value);\n        }\n    }\n\n    /**\n     * Add query parameters for date ranges.\n     *\n     * @param name  name of query parameter\n     * @param range date range\n     */\n    public void addQueryDateTimeRange(final String name, final Range<DateTime> range) {\n        if (range.hasLowerBound()) {\n            String value = range.lowerEndpoint().withZone(DateTimeZone.UTC).toString(QUERY_STRING_DATE_TIME_FORMAT);\n            addQueryParam(name + \">\", value);\n        }\n\n        if (range.hasUpperBound()) {\n            String value = range.upperEndpoint().withZone(DateTimeZone.UTC).toString(QUERY_STRING_DATE_TIME_FORMAT);\n            addQueryParam(name + \"<\", value);\n        }\n    }\n\n    /**\n     * Add a query parameter.\n     *\n     * @param name  name of parameter\n     * @param value value of parameter\n     */\n    public void addQueryParam(final String name, final String value) {\n        addParam(queryParams, name, value);\n    }\n\n    /**\n     * Add a form parameter.\n     *\n     * @param name  name of parameter\n     * @param value value of parameter\n     */\n    public void addPostParam(final String name, final String value) {\n        addParam(postParams, name, value);\n    }\n\n    private void addParam(final Map<String, List<String>> params, final String name, final String value) {\n        if (!params.containsKey(name)) {\n            params.put(name, new ArrayList<String>());\n        }\n\n        params.get(name).add(value);\n    }\n\n    /**\n     * Encode the form body.\n     *\n     * @return url encoded form body\n     */\n    public String encodeFormBody() {\n        return encodeParameters(postParams);\n    }\n\n    /**\n     * Encode the query parameters.\n     *\n     * @return url encoded query parameters\n     */\n    public String encodeQueryParams() {\n        return encodeParameters(queryParams);\n    }\n\n    private static String encodeParameters(final Map<String, List<String>> params) {\n        List<String> parameters = new ArrayList<>();\n\n        for (final Map.Entry<String, List<String>> entry : params.entrySet()) {\n            try {\n                String encodedName = URLEncoder.encode(entry.getKey(), \"UTF-8\");\n                for (final String value : entry.getValue()) {\n                    if (value == null) {\n                        continue;\n                    }\n\n                    String encodedValue = URLEncoder.encode(value, \"UTF-8\");\n                    parameters.add(encodedName + \"=\" + encodedValue);\n                }\n            } catch (final UnsupportedEncodingException e) {\n                throw new InvalidRequestException(\"Couldn't encode params\", entry.getKey(), e);\n            }\n        }\n        return joinIgnoreNull(\"&\", parameters);\n    }\n\n    private static String joinIgnoreNull(final String separator, final String... items) {\n        return joinIgnoreNull(separator, Arrays.asList(items));\n    }\n\n    private static String joinIgnoreNull(final String separator, final List<String> items) {\n        final StringBuilder builder = new StringBuilder();\n\n        for (final String item : items) {\n            if (item != null) {\n                if (builder.length() > 0) {\n                    builder.append(separator);\n                }\n\n                builder.append(item);\n            }\n        }\n\n        return builder.toString();\n    }\n\n    public Map<String, List<String>> getQueryParams() {\n        return queryParams;\n    }\n\n    public Map<String, List<String>> getPostParams() {\n        return postParams;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        Request other = (Request) o;\n        return Objects.equals(this.method, other.method) &&\n               Objects.equals(this.buildURL(), other.buildURL()) &&\n               Objects.equals(this.username, other.username) &&\n               Objects.equals(this.password, other.password) &&\n               Objects.equals(this.queryParams, other.queryParams) &&\n               Objects.equals(this.postParams, other.postParams);\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.google.common.collect.Range;\nimport com.twilio.exception.ApiException;\nimport com.twilio.exception.InvalidRequestException;\nimport org.joda.time.DateTime;\nimport org.joda.time.DateTimeZone;\nimport org.joda.time.LocalDate;\n\nimport javax.xml.bind.DatatypeConverter;\nimport java.io.UnsupportedEncodingException;\nimport java.net.MalformedURLException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\n\npublic class Request {\n\n    private static final String DEFAULT_REGION = \"us1\";\n\n    public static final String QUERY_STRING_DATE_TIME_FORMAT = \"yyyy-MM-dd'T'HH:mm:ss\";\n    public static final String QUERY_STRING_DATE_FORMAT = \"yyyy-MM-dd\";\n\n    private final HttpMethod method;\n    private final String url;\n    private final Map<String, List<String>> queryParams;\n    private final Map<String, List<String>> postParams;\n\n    private String region;\n    private String edge;\n    private String username;\n    private String password;\n\n    /**\n     * Create a new API request.\n     *\n     * @param method HTTP method\n     * @param url    url of request\n     */\n    public Request(final HttpMethod method, final String url) {\n        this.method = method;\n        this.url = url;\n        this.queryParams = new HashMap<>();\n        this.postParams = new HashMap<>();\n    }\n\n    /**\n     * Create a new API request.\n     *\n     * @param method HTTP method\n     * @param domain Twilio domain\n     * @param uri    uri of request\n     */\n    public Request(final HttpMethod method, final String domain, final String uri) {\n        this(method, domain, uri, null);\n    }\n\n    /**\n     * Create a new API request.\n     *\n     * @param method HTTP Method\n     * @param domain Twilio domain\n     * @param uri    uri of request\n     * @param region region to make request\n     */\n    public Request(\n        final HttpMethod method,\n        final String domain,\n        final String uri,\n        final String region\n    ) {\n        this.method = method;\n        this.url = \"https://\" + domain + \".twilio.com\" + uri;\n        this.region = region;\n        this.queryParams = new HashMap<>();\n        this.postParams = new HashMap<>();\n    }\n\n    public HttpMethod getMethod() {\n        return method;\n    }\n\n    public String getUrl() {\n        return url;\n    }\n\n    public void setAuth(final String username, final String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    public void setRegion(final String region) {\n        this.region = region;\n    }\n\n    public void setEdge(final String edge) {\n        this.edge = edge;\n    }\n\n    /**\n     * Create auth string from username and password.\n     *\n     * @return basic authentication string\n     */\n    public String getAuthString() {\n        final String credentials = this.username + \":\" + this.password;\n        final String encoded = DatatypeConverter.printBase64Binary(credentials.getBytes(StandardCharsets.US_ASCII));\n        return \"Basic \" + encoded;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public boolean requiresAuthentication() {\n        return username != null || password != null;\n    }\n\n    /**\n     * Build the URL for the request.\n     *\n     * @return URL for the request\n     */\n    public URL constructURL() {\n        String params = encodeQueryParams();\n        String stringUri = buildURL();\n\n        if (params.length() > 0) {\n            stringUri += \"?\" + params;\n        }\n\n        try {\n            URI uri = new URI(stringUri);\n            return uri.toURL();\n        } catch (final URISyntaxException e) {\n            throw new ApiException(\"Bad URI: \" + stringUri, e);\n        } catch (final MalformedURLException e) {\n            throw new ApiException(\"Bad URL: \" + stringUri, e);\n        }\n    }\n\n    private String buildURL() {\n        if (region != null || edge != null) {\n            try {\n                final URL parsedUrl = new URL(url);\n                final String[] pieces = parsedUrl.getHost().split(\"\\\\.\");\n                final String product = pieces[0];\n                final String domain = joinIgnoreNull(\".\", pieces[pieces.length - 2], pieces[pieces.length - 1]);\n\n                String targetRegion = region;\n                String targetEdge = edge;\n\n                if (pieces.length == 4) { // product.region.twilio.com\n                    targetRegion = targetRegion != null ? targetRegion : pieces[1];\n                } else if (pieces.length == 5) { // product.edge.region.twilio.com\n                    targetEdge = targetEdge != null ? targetEdge : pieces[1];\n                    targetRegion = targetRegion != null ? targetRegion : pieces[2];\n                }\n\n                if (targetEdge != null && targetRegion == null)\n                    targetRegion = DEFAULT_REGION;\n\n                final String host = joinIgnoreNull(\".\", product, targetEdge, targetRegion, domain);\n\n                return new URL(parsedUrl.getProtocol(), host, parsedUrl.getPort(), parsedUrl.getFile()).toString();\n            } catch (final MalformedURLException e) {\n                throw new ApiException(\"Bad URL: \" + url, e);\n            }\n        }\n\n        return url;\n    }\n\n    /**\n     * Add query parameters for date ranges.\n     *\n     * @param name  name of query parameter\n     * @param range date range\n     */\n    public void addQueryDateRange(final String name, final Range<LocalDate> range) {\n        if (range.hasLowerBound()) {\n            String value = range.lowerEndpoint().toString(QUERY_STRING_DATE_FORMAT);\n            addQueryParam(name + \">\", value);\n        }\n\n        if (range.hasUpperBound()) {\n            String value = range.upperEndpoint().toString(QUERY_STRING_DATE_FORMAT);\n            addQueryParam(name + \"<\", value);\n        }\n    }\n\n    /**\n     * Add query parameters for date ranges.\n     *\n     * @param name  name of query parameter\n     * @param range date range\n     */\n    public void addQueryDateTimeRange(final String name, final Range<DateTime> range) {\n        if (range.hasLowerBound()) {\n            String value = range.lowerEndpoint().withZone(DateTimeZone.UTC).toString(QUERY_STRING_DATE_TIME_FORMAT);\n            addQueryParam(name + \">\", value);\n        }\n\n        if (range.hasUpperBound()) {\n            String value = range.upperEndpoint().withZone(DateTimeZone.UTC).toString(QUERY_STRING_DATE_TIME_FORMAT);\n            addQueryParam(name + \"<\", value);\n        }\n    }\n\n    /**\n     * Add a query parameter.\n     *\n     * @param name  name of parameter\n     * @param value value of parameter\n     */\n    public void addQueryParam(final String name, final String value) {\n        addParam(queryParams, name, value);\n    }\n\n    /**\n     * Add a form parameter.\n     *\n     * @param name  name of parameter\n     * @param value value of parameter\n     */\n    public void addPostParam(final String name, final String value) {\n        addParam(postParams, name, value);\n    }\n\n    private void addParam(final Map<String, List<String>> params, final String name, final String value) {\n        if (!params.containsKey(name)) {\n            params.put(name, new ArrayList<String>());\n        }\n\n        params.get(name).add(value);\n    }\n\n    /**\n     * Encode the form body.\n     *\n     * @return url encoded form body\n     */\n    public String encodeFormBody() {\n        return encodeParameters(postParams);\n    }\n\n    /**\n     * Encode the query parameters.\n     *\n     * @return url encoded query parameters\n     */\n    public String encodeQueryParams() {\n        return encodeParameters(queryParams);\n    }\n\n    private static String encodeParameters(final Map<String, List<String>> params) {\n        List<String> parameters = new ArrayList<>();\n\n        for (final Map.Entry<String, List<String>> entry : params.entrySet()) {\n            try {\n                String encodedName = URLEncoder.encode(entry.getKey(), \"UTF-8\");\n                for (final String value : entry.getValue()) {\n                    if (value == null) {\n                        continue;\n                    }\n\n                    String encodedValue = URLEncoder.encode(value, \"UTF-8\");\n                    parameters.add(encodedName + \"=\" + encodedValue);\n                }\n            } catch (final UnsupportedEncodingException e) {\n                throw new InvalidRequestException(\"Couldn't encode params\", entry.getKey(), e);\n            }\n        }\n        return joinIgnoreNull(\"&\", parameters);\n    }\n\n    private static String joinIgnoreNull(final String separator, final String... items) {\n        return joinIgnoreNull(separator, Arrays.asList(items));\n    }\n\n    private static String joinIgnoreNull(final String separator, final List<String> items) {\n        final StringBuilder builder = new StringBuilder();\n\n        for (final String item : items) {\n            if (item != null) {\n                if (builder.length() > 0) {\n                    builder.append(separator);\n                }\n\n                builder.append(item);\n            }\n        }\n\n        return builder.toString();\n    }\n\n    public Map<String, List<String>> getQueryParams() {\n        return queryParams;\n    }\n\n    public Map<String, List<String>> getPostParams() {\n        return postParams;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        Request other = (Request) o;\n        return Objects.equals(this.method, other.method) &&\n               Objects.equals(this.buildURL(), other.buildURL()) &&\n               Objects.equals(this.username, other.username) &&\n               Objects.equals(this.password, other.password) &&\n               Objects.equals(this.queryParams, other.queryParams) &&\n               Objects.equals(this.postParams, other.postParams);\n    }\n}\n","lineNo":152}
{"Refactored Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.twiml;\n\nimport com.twilio.http.HttpMethod;\nimport com.twilio.twiml.fax.Receive;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.net.URI;\n\n/**\n * Test class for {@link FaxResponse}\n */\npublic class FaxResponseTest {\n    @Test\n    public void testEmptyElement() {\n        FaxResponse elem = new FaxResponse.Builder().build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testEmptyElementUrl() {\n        FaxResponse elem = new FaxResponse.Builder().build();\n\n        Assert.assertEquals(\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%3CResponse%2F%3E\", elem.toUrl());\n    }\n\n    @Test\n    public void testElementWithExtraAttributes() {\n        FaxResponse elem = new FaxResponse.Builder().option(\"foo\", \"bar\").option(\"a\", \"b\").build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response a=\\\"b\\\" foo=\\\"bar\\\"/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithChildren() {\n        FaxResponse.Builder builder = new FaxResponse.Builder();\n\n        builder.receive(new Receive.Builder().action(URI.create(\"https://example.com\")).method(HttpMethod.GET).build());\n\n        FaxResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n                \"<Receive action=\\\"https://example.com\\\" method=\\\"GET\\\"/>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithTextNode() {\n        FaxResponse.Builder builder = new FaxResponse.Builder();\n\n        builder.addText(\"Hey no tags!\");\n\n        FaxResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"Hey no tags!\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNode() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        genericBuilder.addText(\"Some text\");\n        GenericNode node = genericBuilder.build();\n\n        FaxResponse.Builder builder = new FaxResponse.Builder();\n        FaxResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"<genericTag>\" +\n            \"Some text\" +\n            \"<\/genericTag>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNodeAttributes() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        GenericNode node = genericBuilder.option(\"key\", \"value\").addText(\"someText\").build();\n\n        FaxResponse.Builder builder = new FaxResponse.Builder();\n        FaxResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"<genericTag key=\\\"value\\\">\" +\n            \"someText\" +\n            \"<\/genericTag>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.twiml;\n\nimport com.twilio.http.HttpMethod;\nimport com.twilio.twiml.fax.Receive;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.net.URI;\n\n/**\n * Test class for {@link FaxResponse}\n */\npublic class FaxResponseTest {\n    @Test\n    public void testEmptyElement() {\n        FaxResponse elem = new FaxResponse.Builder().build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testEmptyElementUrl() {\n        FaxResponse elem = new FaxResponse.Builder().build();\n\n        Assert.assertEquals(\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%3CResponse%2F%3E\", elem.toUrl());\n    }\n\n    @Test\n    public void testElementWithExtraAttributes() {\n        FaxResponse elem = new FaxResponse.Builder().option(\"foo\", \"bar\").option(\"a\", \"b\").build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response a=\\\"b\\\" foo=\\\"bar\\\"/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithChildren() {\n        FaxResponse.Builder builder = new FaxResponse.Builder();\n\n        builder.receive(new Receive.Builder().action(URI.create(\"https://example.com\")).method(HttpMethod.GET).build());\n\n        FaxResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n                \"<Receive action=\\\"https://example.com\\\" method=\\\"GET\\\"/>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithTextNode() {\n        FaxResponse.Builder builder = new FaxResponse.Builder();\n\n        builder.addText(\"Hey no tags!\");\n\n        FaxResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"Hey no tags!\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n\n    @Test\n    public void testElementWithGenericNode() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\").addText(\"Some text\");\n        GenericNode node = genericBuilder.build();\n\n        FaxResponse.Builder builder = new FaxResponse.Builder();\n        FaxResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n        \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n                \"<Response>\" +\n                \"<genericTag>\" +\n                \"Some text\" +\n                \"<\/genericTag>\" +\n                \"<\/Response>\",\n                elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNodeAttributes() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        GenericNode node = genericBuilder.option(\"key\", \"value\").addText(\"someText\").build();\n\n        FaxResponse.Builder builder = new FaxResponse.Builder();\n        FaxResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n        \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n                \"<Response>\" +\n                \"<genericTag key=\\\"value\\\">\" +\n                \"someText\" +\n                \"<\/genericTag>\" +\n                \"<\/Response>\",\n                elem.toXml()\n        );\n    }\n}\n","lineNo":86}
{"Refactored Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.twiml;\n\nimport com.twilio.http.HttpMethod;\nimport com.twilio.twiml.messaging.Message;\nimport com.twilio.twiml.messaging.Redirect;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.net.URI;\n\n/**\n * Test class for {@link MessagingResponse}\n */\npublic class MessagingResponseTest {\n    @Test\n    public void testEmptyElement() {\n        MessagingResponse elem = new MessagingResponse.Builder().build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testEmptyElementUrl() {\n        MessagingResponse elem = new MessagingResponse.Builder().build();\n\n        Assert.assertEquals(\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%3CResponse%2F%3E\", elem.toUrl());\n    }\n\n    @Test\n    public void testElementWithExtraAttributes() {\n        MessagingResponse elem = new MessagingResponse.Builder().option(\"foo\", \"bar\").option(\"a\", \"b\").build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response a=\\\"b\\\" foo=\\\"bar\\\"/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithChildren() {\n        MessagingResponse.Builder builder = new MessagingResponse.Builder();\n\n        builder.message(new Message.Builder(\"body\")\n                    .to(\"to\")\n                    .from(\"from\")\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .statusCallback(URI.create(\"https://example.com\"))\n                    .build());\n\n        builder.redirect(new Redirect.Builder(URI.create(\"https://example.com\")).method(HttpMethod.GET).build());\n\n        MessagingResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n                \"<Message action=\\\"https://example.com\\\" from=\\\"from\\\" method=\\\"GET\\\" statusCallback=\\\"https://example.com\\\" to=\\\"to\\\">body<\/Message>\" +\n                \"<Redirect method=\\\"GET\\\">https://example.com<\/Redirect>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithTextNode() {\n        MessagingResponse.Builder builder = new MessagingResponse.Builder();\n\n        builder.addText(\"Hey no tags!\");\n\n        MessagingResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"Hey no tags!\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNode() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        genericBuilder.addText(\"Some text\");\n        GenericNode node = genericBuilder.build();\n\n        MessagingResponse.Builder builder = new MessagingResponse.Builder();\n        MessagingResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"<genericTag>\" +\n            \"Some text\" +\n            \"<\/genericTag>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNodeAttributes() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        GenericNode node = genericBuilder.option(\"key\", \"value\").addText(\"someText\").build();\n\n        MessagingResponse.Builder builder = new MessagingResponse.Builder();\n        MessagingResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"<genericTag key=\\\"value\\\">\" +\n            \"someText\" +\n            \"<\/genericTag>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.twiml;\n\nimport com.twilio.http.HttpMethod;\nimport com.twilio.twiml.messaging.Message;\nimport com.twilio.twiml.messaging.Redirect;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.net.URI;\n\n/**\n * Test class for {@link MessagingResponse}\n */\npublic class MessagingResponseTest {\n    @Test\n    public void testEmptyElement() {\n        MessagingResponse elem = new MessagingResponse.Builder().build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testEmptyElementUrl() {\n        MessagingResponse elem = new MessagingResponse.Builder().build();\n\n        Assert.assertEquals(\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%3CResponse%2F%3E\", elem.toUrl());\n    }\n\n    @Test\n    public void testElementWithExtraAttributes() {\n        MessagingResponse elem = new MessagingResponse.Builder().option(\"foo\", \"bar\").option(\"a\", \"b\").build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response a=\\\"b\\\" foo=\\\"bar\\\"/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithChildren() {\n        MessagingResponse.Builder builder = new MessagingResponse.Builder();\n\n        builder.message(new Message.Builder(\"body\")\n                    .to(\"to\")\n                    .from(\"from\")\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .statusCallback(URI.create(\"https://example.com\"))\n                    .build());\n\n        builder.redirect(new Redirect.Builder(URI.create(\"https://example.com\")).method(HttpMethod.GET).build());\n\n        MessagingResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n                \"<Message action=\\\"https://example.com\\\" from=\\\"from\\\" method=\\\"GET\\\" statusCallback=\\\"https://example.com\\\" to=\\\"to\\\">body<\/Message>\" +\n                \"<Redirect method=\\\"GET\\\">https://example.com<\/Redirect>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithTextNode() {\n        MessagingResponse.Builder builder = new MessagingResponse.Builder();\n\n        builder.addText(\"Hey no tags!\");\n\n        MessagingResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"Hey no tags!\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNode() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\").addText(\"Some text\");\n        GenericNode node = genericBuilder.build();\n\n        MessagingResponse.Builder builder = new MessagingResponse.Builder();\n        MessagingResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n        \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n                \"<Response>\" +\n                \"<genericTag>\" +\n                \"Some text\" +\n                \"<\/genericTag>\" +\n                \"<\/Response>\",\n                elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNodeAttributes() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        GenericNode node = genericBuilder.option(\"key\", \"value\").addText(\"someText\").build();\n\n        MessagingResponse.Builder builder = new MessagingResponse.Builder();\n        MessagingResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n        \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n                \"<Response>\" +\n                \"<genericTag key=\\\"value\\\">\" +\n                \"someText\" +\n                \"<\/genericTag>\" +\n                \"<\/Response>\",\n                elem.toXml()\n        );\n    }\n}\n","lineNo":96}
{"Refactored Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.twiml;\n\nimport com.twilio.converter.Promoter;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.twiml.voice.Dial;\nimport com.twilio.twiml.voice.Echo;\nimport com.twilio.twiml.voice.Enqueue;\nimport com.twilio.twiml.voice.Gather;\nimport com.twilio.twiml.voice.Hangup;\nimport com.twilio.twiml.voice.Leave;\nimport com.twilio.twiml.voice.Pause;\nimport com.twilio.twiml.voice.Play;\nimport com.twilio.twiml.voice.Queue;\nimport com.twilio.twiml.voice.Record;\nimport com.twilio.twiml.voice.Redirect;\nimport com.twilio.twiml.voice.Reject;\nimport com.twilio.twiml.voice.Say;\nimport com.twilio.twiml.voice.Sms;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.net.URI;\nimport java.util.List;\n\n/**\n * Test class for {@link VoiceResponse}\n */\npublic class VoiceResponseTest {\n    @Test\n    public void testEmptyElement() {\n        VoiceResponse elem = new VoiceResponse.Builder().build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testEmptyElementUrl() {\n        VoiceResponse elem = new VoiceResponse.Builder().build();\n\n        Assert.assertEquals(\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%3CResponse%2F%3E\", elem.toUrl());\n    }\n\n    @Test\n    public void testElementWithExtraAttributes() {\n        VoiceResponse elem = new VoiceResponse.Builder().option(\"foo\", \"bar\").option(\"a\", \"b\").build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response a=\\\"b\\\" foo=\\\"bar\\\"/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithChildren() {\n        VoiceResponse.Builder builder = new VoiceResponse.Builder();\n\n        builder.dial(new Dial.Builder(\"number\")\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .timeout(1)\n                    .hangupOnStar(true)\n                    .timeLimit(1)\n                    .callerId(\"caller_id\")\n                    .record(Dial.Record.DO_NOT_RECORD)\n                    .trim(Dial.Trim.TRIM_SILENCE)\n                    .recordingStatusCallback(URI.create(\"https://example.com\"))\n                    .recordingStatusCallbackMethod(HttpMethod.GET)\n                    .recordingStatusCallbackEvents(Promoter.listOfOne(Dial.RecordingEvent.IN_PROGRESS))\n                    .answerOnBridge(true)\n                    .ringTone(Dial.RingTone.AT)\n                    .build());\n\n        builder.echo(new Echo.Builder().build());\n\n        builder.enqueue(new Enqueue.Builder(\"name\")\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .waitUrl(URI.create(\"https://example.com\"))\n                    .waitUrlMethod(HttpMethod.GET)\n                    .workflowSid(\"workflow_sid\")\n                    .build());\n\n        builder.gather(new Gather.Builder()\n                    .inputs(Promoter.listOfOne(Gather.Input.DTMF))\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .timeout(1)\n                    .speechTimeout(\"speech_timeout\")\n                    .maxSpeechTime(1)\n                    .profanityFilter(true)\n                    .finishOnKey(\"finish_on_key\")\n                    .numDigits(1)\n                    .partialResultCallback(URI.create(\"https://example.com\"))\n                    .partialResultCallbackMethod(HttpMethod.GET)\n                    .language(Gather.Language.AF_ZA)\n                    .hints(\"hints\")\n                    .bargeIn(true)\n                    .build());\n\n        builder.hangup(new Hangup.Builder().build());\n\n        builder.leave(new Leave.Builder().build());\n\n        builder.pause(new Pause.Builder().length(1).build());\n\n        builder.play(new Play.Builder(URI.create(\"https://example.com\")).loop(1).digits(\"digits\").build());\n\n        builder.queue(new Queue.Builder(\"name\")\n                    .url(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .reservationSid(\"reservation_sid\")\n                    .postWorkActivitySid(\"post_work_activity_sid\")\n                    .build());\n\n        builder.record(new Record.Builder()\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .timeout(1)\n                    .finishOnKey(\"finish_on_key\")\n                    .maxLength(1)\n                    .playBeep(true)\n                    .trim(Record.Trim.TRIM_SILENCE)\n                    .recordingStatusCallback(URI.create(\"https://example.com\"))\n                    .recordingStatusCallbackMethod(HttpMethod.GET)\n                    .transcribe(true)\n                    .transcribeCallback(URI.create(\"https://example.com\"))\n                    .build());\n\n        builder.redirect(new Redirect.Builder(URI.create(\"https://example.com\")).method(HttpMethod.GET).build());\n\n        builder.reject(new Reject.Builder().reason(Reject.Reason.REJECTED).build());\n\n        builder.say(new Say.Builder(\"message\").voice(Say.Voice.MAN).loop(1).language(Say.Language.DA_DK).build());\n\n        builder.sms(new Sms.Builder(\"message\")\n                    .to(new com.twilio.type.PhoneNumber(\"+15558675310\"))\n                    .from(new com.twilio.type.PhoneNumber(\"+15017122661\"))\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .statusCallback(URI.create(\"https://example.com\"))\n                    .build());\n\n        VoiceResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n                \"<Dial action=\\\"https://example.com\\\" answerOnBridge=\\\"true\\\" callerId=\\\"caller_id\\\" hangupOnStar=\\\"true\\\" method=\\\"GET\\\" record=\\\"do-not-record\\\" recordingStatusCallback=\\\"https://example.com\\\" recordingStatusCallbackEvent=\\\"in-progress\\\" recordingStatusCallbackMethod=\\\"GET\\\" ringTone=\\\"at\\\" timeLimit=\\\"1\\\" timeout=\\\"1\\\" trim=\\\"trim-silence\\\">number<\/Dial>\" +\n                \"<Echo/>\" +\n                \"<Enqueue action=\\\"https://example.com\\\" method=\\\"GET\\\" waitUrl=\\\"https://example.com\\\" waitUrlMethod=\\\"GET\\\" workflowSid=\\\"workflow_sid\\\">name<\/Enqueue>\" +\n                \"<Gather action=\\\"https://example.com\\\" bargeIn=\\\"true\\\" finishOnKey=\\\"finish_on_key\\\" hints=\\\"hints\\\" input=\\\"dtmf\\\" language=\\\"af-ZA\\\" maxSpeechTime=\\\"1\\\" method=\\\"GET\\\" numDigits=\\\"1\\\" partialResultCallback=\\\"https://example.com\\\" partialResultCallbackMethod=\\\"GET\\\" profanityFilter=\\\"true\\\" speechTimeout=\\\"speech_timeout\\\" timeout=\\\"1\\\"/>\" +\n                \"<Hangup/>\" +\n                \"<Leave/>\" +\n                \"<Pause length=\\\"1\\\"/>\" +\n                \"<Play digits=\\\"digits\\\" loop=\\\"1\\\">https://example.com<\/Play>\" +\n                \"<Queue method=\\\"GET\\\" postWorkActivitySid=\\\"post_work_activity_sid\\\" reservationSid=\\\"reservation_sid\\\" url=\\\"https://example.com\\\">name<\/Queue>\" +\n                \"<Record action=\\\"https://example.com\\\" finishOnKey=\\\"finish_on_key\\\" maxLength=\\\"1\\\" method=\\\"GET\\\" playBeep=\\\"true\\\" recordingStatusCallback=\\\"https://example.com\\\" recordingStatusCallbackMethod=\\\"GET\\\" timeout=\\\"1\\\" transcribe=\\\"true\\\" transcribeCallback=\\\"https://example.com\\\" trim=\\\"trim-silence\\\"/>\" +\n                \"<Redirect method=\\\"GET\\\">https://example.com<\/Redirect>\" +\n                \"<Reject reason=\\\"rejected\\\"/>\" +\n                \"<Say language=\\\"da-DK\\\" loop=\\\"1\\\" voice=\\\"man\\\">message<\/Say>\" +\n                \"<Sms action=\\\"https://example.com\\\" from=\\\"+15017122661\\\" method=\\\"GET\\\" statusCallback=\\\"https://example.com\\\" to=\\\"+15558675310\\\">message<\/Sms>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithTextNode() {\n        VoiceResponse.Builder builder = new VoiceResponse.Builder();\n\n        builder.addText(\"Hey no tags!\");\n\n        VoiceResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"Hey no tags!\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNode() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        genericBuilder.addText(\"Some text\");\n        GenericNode node = genericBuilder.build();\n\n        VoiceResponse.Builder builder = new VoiceResponse.Builder();\n        VoiceResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"<genericTag>\" +\n            \"Some text\" +\n            \"<\/genericTag>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNodeAttributes() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        GenericNode node = genericBuilder.option(\"key\", \"value\").addText(\"someText\").build();\n\n        VoiceResponse.Builder builder = new VoiceResponse.Builder();\n        VoiceResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"<genericTag key=\\\"value\\\">\" +\n            \"someText\" +\n            \"<\/genericTag>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n}\n","Smelly Sample":"/**\n * This code was generated by\n * \\ / _    _  _|   _  _\n *  | (_)\\/(_)(_|\\/| |(/_  v1.0.0\n *       /       /\n */\n\npackage com.twilio.twiml;\n\nimport com.twilio.converter.Promoter;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.twiml.voice.Dial;\nimport com.twilio.twiml.voice.Echo;\nimport com.twilio.twiml.voice.Enqueue;\nimport com.twilio.twiml.voice.Gather;\nimport com.twilio.twiml.voice.Hangup;\nimport com.twilio.twiml.voice.Leave;\nimport com.twilio.twiml.voice.Pause;\nimport com.twilio.twiml.voice.Play;\nimport com.twilio.twiml.voice.Queue;\nimport com.twilio.twiml.voice.Record;\nimport com.twilio.twiml.voice.Redirect;\nimport com.twilio.twiml.voice.Reject;\nimport com.twilio.twiml.voice.Say;\nimport com.twilio.twiml.voice.Sms;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.net.URI;\nimport java.util.List;\n\n/**\n * Test class for {@link VoiceResponse}\n */\npublic class VoiceResponseTest {\n    @Test\n    public void testEmptyElement() {\n        VoiceResponse elem = new VoiceResponse.Builder().build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testEmptyElementUrl() {\n        VoiceResponse elem = new VoiceResponse.Builder().build();\n\n        Assert.assertEquals(\"%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%3CResponse%2F%3E\", elem.toUrl());\n    }\n\n    @Test\n    public void testElementWithExtraAttributes() {\n        VoiceResponse elem = new VoiceResponse.Builder().option(\"foo\", \"bar\").option(\"a\", \"b\").build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response a=\\\"b\\\" foo=\\\"bar\\\"/>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithChildren() {\n        VoiceResponse.Builder builder = new VoiceResponse.Builder();\n\n        builder.dial(new Dial.Builder(\"number\")\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .timeout(1)\n                    .hangupOnStar(true)\n                    .timeLimit(1)\n                    .callerId(\"caller_id\")\n                    .record(Dial.Record.DO_NOT_RECORD)\n                    .trim(Dial.Trim.TRIM_SILENCE)\n                    .recordingStatusCallback(URI.create(\"https://example.com\"))\n                    .recordingStatusCallbackMethod(HttpMethod.GET)\n                    .recordingStatusCallbackEvents(Promoter.listOfOne(Dial.RecordingEvent.IN_PROGRESS))\n                    .answerOnBridge(true)\n                    .ringTone(Dial.RingTone.AT)\n                    .build());\n\n        builder.echo(new Echo.Builder().build());\n\n        builder.enqueue(new Enqueue.Builder(\"name\")\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .waitUrl(URI.create(\"https://example.com\"))\n                    .waitUrlMethod(HttpMethod.GET)\n                    .workflowSid(\"workflow_sid\")\n                    .build());\n\n        builder.gather(new Gather.Builder()\n                    .inputs(Promoter.listOfOne(Gather.Input.DTMF))\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .timeout(1)\n                    .speechTimeout(\"speech_timeout\")\n                    .maxSpeechTime(1)\n                    .profanityFilter(true)\n                    .finishOnKey(\"finish_on_key\")\n                    .numDigits(1)\n                    .partialResultCallback(URI.create(\"https://example.com\"))\n                    .partialResultCallbackMethod(HttpMethod.GET)\n                    .language(Gather.Language.AF_ZA)\n                    .hints(\"hints\")\n                    .bargeIn(true)\n                    .build());\n\n        builder.hangup(new Hangup.Builder().build());\n\n        builder.leave(new Leave.Builder().build());\n\n        builder.pause(new Pause.Builder().length(1).build());\n\n        builder.play(new Play.Builder(URI.create(\"https://example.com\")).loop(1).digits(\"digits\").build());\n\n        builder.queue(new Queue.Builder(\"name\")\n                    .url(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .reservationSid(\"reservation_sid\")\n                    .postWorkActivitySid(\"post_work_activity_sid\")\n                    .build());\n\n        builder.record(new Record.Builder()\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .timeout(1)\n                    .finishOnKey(\"finish_on_key\")\n                    .maxLength(1)\n                    .playBeep(true)\n                    .trim(Record.Trim.TRIM_SILENCE)\n                    .recordingStatusCallback(URI.create(\"https://example.com\"))\n                    .recordingStatusCallbackMethod(HttpMethod.GET)\n                    .transcribe(true)\n                    .transcribeCallback(URI.create(\"https://example.com\"))\n                    .build());\n\n        builder.redirect(new Redirect.Builder(URI.create(\"https://example.com\")).method(HttpMethod.GET).build());\n\n        builder.reject(new Reject.Builder().reason(Reject.Reason.REJECTED).build());\n\n        builder.say(new Say.Builder(\"message\").voice(Say.Voice.MAN).loop(1).language(Say.Language.DA_DK).build());\n\n        builder.sms(new Sms.Builder(\"message\")\n                    .to(new com.twilio.type.PhoneNumber(\"+15558675310\"))\n                    .from(new com.twilio.type.PhoneNumber(\"+15017122661\"))\n                    .action(URI.create(\"https://example.com\"))\n                    .method(HttpMethod.GET)\n                    .statusCallback(URI.create(\"https://example.com\"))\n                    .build());\n\n        VoiceResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n                \"<Dial action=\\\"https://example.com\\\" answerOnBridge=\\\"true\\\" callerId=\\\"caller_id\\\" hangupOnStar=\\\"true\\\" method=\\\"GET\\\" record=\\\"do-not-record\\\" recordingStatusCallback=\\\"https://example.com\\\" recordingStatusCallbackEvent=\\\"in-progress\\\" recordingStatusCallbackMethod=\\\"GET\\\" ringTone=\\\"at\\\" timeLimit=\\\"1\\\" timeout=\\\"1\\\" trim=\\\"trim-silence\\\">number<\/Dial>\" +\n                \"<Echo/>\" +\n                \"<Enqueue action=\\\"https://example.com\\\" method=\\\"GET\\\" waitUrl=\\\"https://example.com\\\" waitUrlMethod=\\\"GET\\\" workflowSid=\\\"workflow_sid\\\">name<\/Enqueue>\" +\n                \"<Gather action=\\\"https://example.com\\\" bargeIn=\\\"true\\\" finishOnKey=\\\"finish_on_key\\\" hints=\\\"hints\\\" input=\\\"dtmf\\\" language=\\\"af-ZA\\\" maxSpeechTime=\\\"1\\\" method=\\\"GET\\\" numDigits=\\\"1\\\" partialResultCallback=\\\"https://example.com\\\" partialResultCallbackMethod=\\\"GET\\\" profanityFilter=\\\"true\\\" speechTimeout=\\\"speech_timeout\\\" timeout=\\\"1\\\"/>\" +\n                \"<Hangup/>\" +\n                \"<Leave/>\" +\n                \"<Pause length=\\\"1\\\"/>\" +\n                \"<Play digits=\\\"digits\\\" loop=\\\"1\\\">https://example.com<\/Play>\" +\n                \"<Queue method=\\\"GET\\\" postWorkActivitySid=\\\"post_work_activity_sid\\\" reservationSid=\\\"reservation_sid\\\" url=\\\"https://example.com\\\">name<\/Queue>\" +\n                \"<Record action=\\\"https://example.com\\\" finishOnKey=\\\"finish_on_key\\\" maxLength=\\\"1\\\" method=\\\"GET\\\" playBeep=\\\"true\\\" recordingStatusCallback=\\\"https://example.com\\\" recordingStatusCallbackMethod=\\\"GET\\\" timeout=\\\"1\\\" transcribe=\\\"true\\\" transcribeCallback=\\\"https://example.com\\\" trim=\\\"trim-silence\\\"/>\" +\n                \"<Redirect method=\\\"GET\\\">https://example.com<\/Redirect>\" +\n                \"<Reject reason=\\\"rejected\\\"/>\" +\n                \"<Say language=\\\"da-DK\\\" loop=\\\"1\\\" voice=\\\"man\\\">message<\/Say>\" +\n                \"<Sms action=\\\"https://example.com\\\" from=\\\"+15017122661\\\" method=\\\"GET\\\" statusCallback=\\\"https://example.com\\\" to=\\\"+15558675310\\\">message<\/Sms>\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithTextNode() {\n        VoiceResponse.Builder builder = new VoiceResponse.Builder();\n\n        builder.addText(\"Hey no tags!\");\n\n        VoiceResponse elem = builder.build();\n\n        Assert.assertEquals(\n            \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n            \"<Response>\" +\n            \"Hey no tags!\" +\n            \"<\/Response>\",\n            elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNode() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\").addText(\"Some text\");\n        GenericNode node = genericBuilder.build();\n\n        VoiceResponse.Builder builder = new VoiceResponse.Builder();\n        VoiceResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n        \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n                \"<Response>\" +\n                \"<genericTag>\" +\n                \"Some text\" +\n                \"<\/genericTag>\" +\n                \"<\/Response>\",\n                elem.toXml()\n        );\n    }\n\n    @Test\n    public void testElementWithGenericNodeAttributes() {\n        GenericNode.Builder genericBuilder = new GenericNode.Builder(\"genericTag\");\n        GenericNode node = genericBuilder.option(\"key\", \"value\").addText(\"someText\").build();\n\n        VoiceResponse.Builder builder = new VoiceResponse.Builder();\n        VoiceResponse elem = builder.addChild(node).build();\n\n        Assert.assertEquals(\n        \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\" +\n                \"<Response>\" +\n                \"<genericTag key=\\\"value\\\">\" +\n                \"someText\" +\n                \"<\/genericTag>\" +\n                \"<\/Response>\",\n                elem.toXml()\n        );\n    }\n}\n","lineNo":198}
{"Refactored Sample":"package com.twilio.jwt.validation;\n\nimport com.twilio.exception.InvalidRequestException;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.base.Function;\nimport com.google.common.base.Joiner;\nimport com.google.common.base.Strings;\nimport com.google.common.collect.Lists;\nimport com.google.common.hash.HashFunction;\n\nimport org.apache.http.Header;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URLEncoder;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n * Creates a canonical string out of HTTP request components.\n * <p>\n * The process of generating the canonical request is described <a href=\"https://www.twilio\n * .com/docs/api/credentials/public-key-client-validation-getting-started#3-create-hash-of-the-canonical-request\"\n * >here<\/a>.\n */\nclass RequestCanonicalizer {\n\n    private static final String NEW_LINE = \"\\n\";\n    private static final Pattern TOKEN_REPLACE_PATTERN =\n            Pattern.compile(String.format(\"%s|\\\\%s|\\\\%s|%s\", \"%7E\", \"+\", \"*\", \"%2F\"));\n\n    private final String method;\n    private final String uri;\n    private final String queryString;\n    private final String requestBody;\n    private final Header[] headers;\n\n    public RequestCanonicalizer(String method, String uri, String queryString, String requestBody, Header[] headers) {\n        this.method = method;\n        this.uri = uri;\n        this.queryString = queryString;\n        this.requestBody = requestBody;\n        this.headers = headers;\n    }\n\n    /**\n     * Creates a canonical request string out of HTTP request components.\n     *\n     * @param sortedIncludedHeaders the headers that should be included into canonical request string\n     * @param hashFunction          the hashing function applied to request payload\n     * @return a string representing the canonical request\n     */\n    public String create(List<String> sortedIncludedHeaders, HashFunction hashFunction) {\n        // Add the method and uri\n        StringBuilder canonicalRequest = new StringBuilder();\n        canonicalRequest.append(method).append(NEW_LINE);\n        String canonicalUri = CANONICALIZE_PATH.apply(uri);\n        canonicalRequest.append(canonicalUri).append(NEW_LINE);\n\n        // Get the query args, replace whitespace and values that should be not encoded, sort and rejoin\n        String canonicalQuery = CANONICALIZE_QUERY.apply(queryString);\n        canonicalRequest.append(canonicalQuery).append(NEW_LINE);\n\n        // Normalize all the headers\n        Header[] normalizedHeaders = NORMALIZE_HEADERS.apply(headers);\n        Map<String, List<String>> combinedHeaders = COMBINE_HEADERS.apply(normalizedHeaders);\n\n        // Add the headers that we care about\n        for (String header : sortedIncludedHeaders) {\n            String lowercase = header.toLowerCase().trim();\n\n            if (combinedHeaders.containsKey(lowercase)) {\n                List<String> values = combinedHeaders.get(lowercase);\n                Collections.sort(values);\n\n                canonicalRequest.append(lowercase)\n                         .append(\":\")\n                         .append(Joiner.on(',').join(values))\n                         .append(NEW_LINE);\n            }\n        }\n        canonicalRequest.append(NEW_LINE);\n\n        // Mark the headers that we care about\n        canonicalRequest.append(Joiner.on(\";\").join(sortedIncludedHeaders)).append(NEW_LINE);\n\n        // Hash and hex the request payload\n        if (!Strings.isNullOrEmpty(requestBody)) {\n            String hashedPayload = hashFunction.hashString(requestBody, Charsets.UTF_8).toString();\n            canonicalRequest.append(hashedPayload);\n        }\n        return canonicalRequest.toString();\n    }\n\n    private static Function<Header[], Map<String, List<String>>> COMBINE_HEADERS = new Function<Header[], Map<String, List<String>>>() {\n        @Override\n        public Map<String, List<String>> apply(Header[] headers) {\n            Map<String, List<String>> combinedHeaders = new HashMap<>();\n\n            for (Header header : headers)  {\n                if (combinedHeaders.containsKey(header.getName())) {\n                    combinedHeaders.get(header.getName()).add(header.getValue());\n                } else {\n                    combinedHeaders.put(header.getName(), Lists.newArrayList(header.getValue()));\n                }\n            }\n\n            return combinedHeaders;\n        }\n    };\n\n    /**\n     * Creates a canonical string out of the given valid URI path by:\n     * <ul>\n     * <li> Normalizing the path (remove redundant path elements)\n     * <li> URL-encodes the remaining path\n     * <li> Replaces a set of control characters with the values defined in the contract\n     *                 (e.g., space should be represented as %20 in the canonical request)\n     * <li> When no path is provided, returns '/'\n     * <\/ul>\n     */\n    private static Function<String, String> CANONICALIZE_PATH = new Function<String, String>() {\n        @Override\n        public String apply(String string) {\n            if (Strings.isNullOrEmpty(string)) {\n                return \"/\";\n            }\n\n            try {\n                URI normalizedUri = new URI(string).normalize();\n                String encoded = URLEncoder.encode(normalizedUri.getPath(), \"UTF-8\");\n                return replace(encoded, true);\n            } catch (URISyntaxException e) {\n                throw new InvalidRequestException(\"Bad URI path: '\" + string + \"'\", string, e);\n            } catch (UnsupportedEncodingException e) {\n                throw new InvalidRequestException(\"It must be possible to encode request path as ascii\", string, e);\n            }\n        }\n    };\n\n    /**\n     * Creates a canonical query string out of already URL encoded queryParams by:\n     * <ul>\n     * <li> Replaces a set of control characters with the values defined in the contract\n     *                 (e.g., space should be represented as %20 in the canonical request)\n     * <li> ASCII Sort the combined \u20ackey=value\u20ac? strings (not just the \u20ackeys\u20ac)\n     * <li> Join all key/value pairs with a \u20ac&\u20ac in between\n     * <\/ul>\n     */\n    private static Function<String, String> CANONICALIZE_QUERY = new Function<String, String>() {\n        @Override\n        public String apply(String string) {\n            String replacedQueryString = replace(string, false);\n            String[] queryArgs = replacedQueryString.split(\"&\");\n            Arrays.sort(queryArgs);\n\n            return Joiner.on(\"&\").join(queryArgs);\n        }\n    };\n\n    /**\n     * Normalizes the headers by setting all of the header keys to lower case and removing default ports from the host.\n     */\n    private static Function<Header[], Header[]> NORMALIZE_HEADERS = new Function<Header[], Header[]>() {\n        @Override\n        public Header[] apply(Header[] headers) {\n            Header[] normalizedHeaders = new Header[headers.length];\n            for (int i = 0; i < headers.length; i++) {\n                String headerName = headers[i].getName().toLowerCase();\n                String headerValue = headers[i].getValue();\n\n                if (headerName.equals(\"host\") && (headerValue.endsWith(\":443\") || headerValue.endsWith(\":80\"))) {\n                    headerValue = headerValue.split(\":\")[0];\n                }\n\n                normalizedHeaders[i] = new BasicHeader(headerName, headerValue);\n            }\n\n            return normalizedHeaders;\n        }\n    };\n\n    /**\n     * Replaces the special characters in the URLEncoded string with the replacement values defined by the spec.\n     *\n     * Partially copied from https://github.com/aws/aws-sdk-java: com.amazonaws.util.SdkHttpUtils (2017-05-19)\n     *\n     * @param string the string to replace characters in\n     * @param replaceSlash whether the encoded '/' should be replaced\n     * @return the string after replacements\n     */\n    private static String replace(String string, boolean replaceSlash) {\n        if (Strings.isNullOrEmpty(string)) {\n            return string;\n        }\n        StringBuffer buffer = new StringBuffer(string.length());\n        Matcher matcher = TOKEN_REPLACE_PATTERN.matcher(string);\n        while (matcher.find()) {\n            String replacement = matcher.group(0);\n\n            if (\"+\".equals(replacement)) {\n                replacement = \"%20\";\n            } else if (\"*\".equals(replacement)) {\n                replacement = \"%2A\";\n            } else if (\"%7E\".equals(replacement)) {\n                replacement = \"~\";\n            } else if (replaceSlash && \"%2F\".equals(replacement)) {\n                replacement = \"/\";\n            }\n\n            matcher.appendReplacement(buffer, replacement);\n        }\n\n        matcher.appendTail(buffer);\n        return buffer.toString();\n    }\n}\n","Smelly Sample":"package com.twilio.jwt.validation;\n\nimport com.twilio.exception.InvalidRequestException;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.base.Function;\nimport com.google.common.base.Joiner;\nimport com.google.common.base.Strings;\nimport com.google.common.collect.Lists;\nimport com.google.common.hash.HashFunction;\n\nimport org.apache.http.Header;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URLEncoder;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n * Creates a canonical string out of HTTP request components.\n * <p>\n * The process of generating the canonical request is described <a href=\"https://www.twilio\n * .com/docs/api/credentials/public-key-client-validation-getting-started#3-create-hash-of-the-canonical-request\"\n * >here<\/a>.\n */\nclass RequestCanonicalizer {\n\n    private static final String NEW_LINE = \"\\n\";\n    private static final Pattern TOKEN_REPLACE_PATTERN =\n            Pattern.compile(String.format(\"%s|\\\\%s|\\\\%s|%s\", \"%7E\", \"+\", \"*\", \"%2F\"));\n\n    private final String method;\n    private final String uri;\n    private final String queryString;\n    private final String requestBody;\n    private final Header[] headers;\n\n    public RequestCanonicalizer(String method, String uri, String queryString, String requestBody, Header[] headers) {\n        this.method = method;\n        this.uri = uri;\n        this.queryString = queryString;\n        this.requestBody = requestBody;\n        this.headers = headers;\n    }\n\n    /**\n     * Creates a canonical request string out of HTTP request components.\n     *\n     * @param sortedIncludedHeaders the headers that should be included into canonical request string\n     * @param hashFunction          the hashing function applied to request payload\n     * @return a string representing the canonical request\n     */\n    public String create(List<String> sortedIncludedHeaders, HashFunction hashFunction) {\n        // Add the method and uri\n        StringBuilder canonicalRequest = new StringBuilder();\n        canonicalRequest.append(method).append(NEW_LINE);\n        String canonicalUri = CANONICALIZE_PATH.apply(uri);\n        canonicalRequest.append(canonicalUri).append(NEW_LINE);\n\n        // Get the query args, replace whitespace and values that should be not encoded, sort and rejoin\n        String canonicalQuery = CANONICALIZE_QUERY.apply(queryString);\n        canonicalRequest.append(canonicalQuery).append(NEW_LINE);\n\n        // Normalize all the headers\n        Header[] lowercaseHeaders = LOWERCASE_KEYS.apply(headers);\n        Map<String, List<String>> combinedHeaders = COMBINE_HEADERS.apply(lowercaseHeaders);\n\n        // Add the headers that we care about\n        for (String header : sortedIncludedHeaders) {\n            String lowercase = header.toLowerCase().trim();\n\n            if (combinedHeaders.containsKey(lowercase)) {\n                List<String> values = combinedHeaders.get(lowercase);\n                Collections.sort(values);\n\n                canonicalRequest.append(lowercase)\n                         .append(\":\")\n                         .append(Joiner.on(',').join(values))\n                         .append(NEW_LINE);\n            }\n        }\n        canonicalRequest.append(NEW_LINE);\n\n        // Mark the headers that we care about\n        canonicalRequest.append(Joiner.on(\";\").join(sortedIncludedHeaders)).append(NEW_LINE);\n\n        // Hash and hex the request payload\n        if (!Strings.isNullOrEmpty(requestBody)) {\n            String hashedPayload = hashFunction.hashString(requestBody, Charsets.UTF_8).toString();\n            canonicalRequest.append(hashedPayload);\n        }\n        return canonicalRequest.toString();\n    }\n\n    private static Function<Header[], Map<String, List<String>>> COMBINE_HEADERS = new Function<Header[], Map<String, List<String>>>() {\n        @Override\n        public Map<String, List<String>> apply(Header[] headers) {\n            Map<String, List<String>> combinedHeaders = new HashMap<>();\n\n            for (Header header : headers)  {\n                if (combinedHeaders.containsKey(header.getName())) {\n                    combinedHeaders.get(header.getName()).add(header.getValue());\n                } else {\n                    combinedHeaders.put(header.getName(), Lists.newArrayList(header.getValue()));\n                }\n            }\n\n            return combinedHeaders;\n        }\n    };\n\n    /**\n     * Creates a canonical string out of the given valid URI path by:\n     * <ul>\n     * <li> Normalizing the path (remove redundant path elements)\n     * <li> URL-encodes the remaining path\n     * <li> Replaces a set of control characters with the values defined in the contract\n     *                 (e.g., space should be represented as %20 in the canonical request)\n     * <li> When no path is provided, returns '/'\n     * <\/ul>\n     */\n    private static Function<String, String> CANONICALIZE_PATH = new Function<String, String>() {\n        @Override\n        public String apply(String string) {\n            if (Strings.isNullOrEmpty(string)) {\n                return \"/\";\n            }\n\n            try {\n                URI normalizedUri = new URI(string).normalize();\n                String encoded = URLEncoder.encode(normalizedUri.getPath(), \"UTF-8\");\n                return replace(encoded, true);\n            } catch (URISyntaxException e) {\n                throw new InvalidRequestException(\"Bad URI path: '\" + string + \"'\", string, e);\n            } catch (UnsupportedEncodingException e) {\n                throw new InvalidRequestException(\"It must be possible to encode request path as ascii\", string, e);\n            }\n        }\n    };\n\n    /**\n     * Creates a canonical query string out of already URL encoded queryParams by:\n     * <ul>\n     * <li> Replaces a set of control characters with the values defined in the contract\n     *                 (e.g., space should be represented as %20 in the canonical request)\n     * <li> ASCII Sort the combined \u20ackey=value\u20ac? strings (not just the \u20ackeys\u20ac)\n     * <li> Join all key/value pairs with a \u20ac&\u20ac in between\n     * <\/ul>\n     */\n    private static Function<String, String> CANONICALIZE_QUERY = new Function<String, String>() {\n        @Override\n        public String apply(String string) {\n            String replacedQueryString = replace(string, false);\n            String[] queryArgs = replacedQueryString.split(\"&\");\n            Arrays.sort(queryArgs);\n\n            return Joiner.on(\"&\").join(queryArgs);\n        }\n    };\n\n    private static Function<Header[], Header[]> LOWERCASE_KEYS = new Function<Header[], Header[]>() {\n        @Override\n        public Header[] apply(Header[] headers) {\n            Header[] lowercaseHeaders = new Header[headers.length];\n            for (int i = 0; i < headers.length; i++) {\n                lowercaseHeaders[i] = new BasicHeader(headers[i].getName().toLowerCase(), headers[i].getValue());\n            }\n\n            return lowercaseHeaders;\n        }\n    };\n\n    /**\n     * Replaces the special characters in the URLEncoded string with the replacement values defined by the spec.\n     *\n     * Partially copied from https://github.com/aws/aws-sdk-java: com.amazonaws.util.SdkHttpUtils (2017-05-19)\n     *\n     * @param string the string to replace characters in\n     * @param replaceSlash whether the encoded '/' should be replaced\n     * @return the string after replacements\n     */\n    private static String replace(String string, boolean replaceSlash) {\n        if (Strings.isNullOrEmpty(string)) {\n            return string;\n        }\n        StringBuffer buffer = new StringBuffer(string.length());\n        Matcher matcher = TOKEN_REPLACE_PATTERN.matcher(string);\n        while (matcher.find()) {\n            String replacement = matcher.group(0);\n\n            if (\"+\".equals(replacement)) {\n                replacement = \"%20\";\n            } else if (\"*\".equals(replacement)) {\n                replacement = \"%2A\";\n            } else if (\"%7E\".equals(replacement)) {\n                replacement = \"~\";\n            } else if (replaceSlash && \"%2F\".equals(replacement)) {\n                replacement = \"/\";\n            }\n\n            matcher.appendReplacement(buffer, replacement);\n        }\n\n        matcher.appendTail(buffer);\n        return buffer.toString();\n    }\n}\n","lineNo":177}
{"Refactored Sample":"package com.twilio.jwt.validation;\n\nimport com.twilio.exception.InvalidRequestException;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.base.Function;\nimport com.google.common.base.Joiner;\nimport com.google.common.base.Strings;\nimport com.google.common.collect.Lists;\nimport com.google.common.hash.HashFunction;\n\nimport org.apache.http.Header;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URLEncoder;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n * Creates a canonical string out of HTTP request components.\n * <p>\n * The process of generating the canonical request is described <a href=\"https://www.twilio\n * .com/docs/api/credentials/public-key-client-validation-getting-started#3-create-hash-of-the-canonical-request\"\n * >here<\/a>.\n */\nclass RequestCanonicalizer {\n\n    private static final String NEW_LINE = \"\\n\";\n    private static final Pattern TOKEN_REPLACE_PATTERN =\n            Pattern.compile(String.format(\"%s|\\\\%s|\\\\%s|%s\", \"%7E\", \"+\", \"*\", \"%2F\"));\n\n    private final String method;\n    private final String uri;\n    private final String queryString;\n    private final String requestBody;\n    private final Header[] headers;\n\n    public RequestCanonicalizer(String method, String uri, String queryString, String requestBody, Header[] headers) {\n        this.method = method;\n        this.uri = uri;\n        this.queryString = queryString;\n        this.requestBody = requestBody;\n        this.headers = headers;\n    }\n\n    /**\n     * Creates a canonical request string out of HTTP request components.\n     *\n     * @param sortedIncludedHeaders the headers that should be included into canonical request string\n     * @param hashFunction          the hashing function applied to request payload\n     * @return a string representing the canonical request\n     */\n    public String create(List<String> sortedIncludedHeaders, HashFunction hashFunction) {\n        // Add the method and uri\n        StringBuilder canonicalRequest = new StringBuilder();\n        canonicalRequest.append(method).append(NEW_LINE);\n        String canonicalUri = CANONICALIZE_PATH.apply(uri);\n        canonicalRequest.append(canonicalUri).append(NEW_LINE);\n\n        // Get the query args, replace whitespace and values that should be not encoded, sort and rejoin\n        String canonicalQuery = CANONICALIZE_QUERY.apply(queryString);\n        canonicalRequest.append(canonicalQuery).append(NEW_LINE);\n\n        // Normalize all the headers\n        Header[] normalizedHeaders = NORMALIZE_HEADERS.apply(headers);\n        Map<String, List<String>> combinedHeaders = COMBINE_HEADERS.apply(normalizedHeaders);\n\n        // Add the headers that we care about\n        for (String header : sortedIncludedHeaders) {\n            String lowercase = header.toLowerCase().trim();\n\n            if (combinedHeaders.containsKey(lowercase)) {\n                List<String> values = combinedHeaders.get(lowercase);\n                Collections.sort(values);\n\n                canonicalRequest.append(lowercase)\n                         .append(\":\")\n                         .append(Joiner.on(',').join(values))\n                         .append(NEW_LINE);\n            }\n        }\n        canonicalRequest.append(NEW_LINE);\n\n        // Mark the headers that we care about\n        canonicalRequest.append(Joiner.on(\";\").join(sortedIncludedHeaders)).append(NEW_LINE);\n\n        // Hash and hex the request payload\n        if (!Strings.isNullOrEmpty(requestBody)) {\n            String hashedPayload = hashFunction.hashString(requestBody, Charsets.UTF_8).toString();\n            canonicalRequest.append(hashedPayload);\n        }\n        return canonicalRequest.toString();\n    }\n\n    private static Function<Header[], Map<String, List<String>>> COMBINE_HEADERS = new Function<Header[], Map<String, List<String>>>() {\n        @Override\n        public Map<String, List<String>> apply(Header[] headers) {\n            Map<String, List<String>> combinedHeaders = new HashMap<>();\n\n            for (Header header : headers)  {\n                if (combinedHeaders.containsKey(header.getName())) {\n                    combinedHeaders.get(header.getName()).add(header.getValue());\n                } else {\n                    combinedHeaders.put(header.getName(), Lists.newArrayList(header.getValue()));\n                }\n            }\n\n            return combinedHeaders;\n        }\n    };\n\n    /**\n     * Creates a canonical string out of the given valid URI path by:\n     * <ul>\n     * <li> Normalizing the path (remove redundant path elements)\n     * <li> URL-encodes the remaining path\n     * <li> Replaces a set of control characters with the values defined in the contract\n     *                 (e.g., space should be represented as %20 in the canonical request)\n     * <li> When no path is provided, returns '/'\n     * <\/ul>\n     */\n    private static Function<String, String> CANONICALIZE_PATH = new Function<String, String>() {\n        @Override\n        public String apply(String string) {\n            if (Strings.isNullOrEmpty(string)) {\n                return \"/\";\n            }\n\n            try {\n                URI normalizedUri = new URI(string).normalize();\n                String encoded = URLEncoder.encode(normalizedUri.getPath(), \"UTF-8\");\n                return replace(encoded, true);\n            } catch (URISyntaxException e) {\n                throw new InvalidRequestException(\"Bad URI path: '\" + string + \"'\", string, e);\n            } catch (UnsupportedEncodingException e) {\n                throw new InvalidRequestException(\"It must be possible to encode request path as ascii\", string, e);\n            }\n        }\n    };\n\n    /**\n     * Creates a canonical query string out of already URL encoded queryParams by:\n     * <ul>\n     * <li> Replaces a set of control characters with the values defined in the contract\n     *                 (e.g., space should be represented as %20 in the canonical request)\n     * <li> ASCII Sort the combined \u20ackey=value\u20ac? strings (not just the \u20ackeys\u20ac)\n     * <li> Join all key/value pairs with a \u20ac&\u20ac in between\n     * <\/ul>\n     */\n    private static Function<String, String> CANONICALIZE_QUERY = new Function<String, String>() {\n        @Override\n        public String apply(String string) {\n            String replacedQueryString = replace(string, false);\n            String[] queryArgs = replacedQueryString.split(\"&\");\n            Arrays.sort(queryArgs);\n\n            return Joiner.on(\"&\").join(queryArgs);\n        }\n    };\n\n    /**\n     * Normalizes the headers by setting all of the header keys to lower case and removing default ports from the host.\n     */\n    private static Function<Header[], Header[]> NORMALIZE_HEADERS = new Function<Header[], Header[]>() {\n        @Override\n        public Header[] apply(Header[] headers) {\n            Header[] normalizedHeaders = new Header[headers.length];\n            for (int i = 0; i < headers.length; i++) {\n                String headerName = headers[i].getName().toLowerCase();\n                String headerValue = headers[i].getValue();\n\n                if (headerName.equals(\"host\") && (headerValue.endsWith(\":443\") || headerValue.endsWith(\":80\"))) {\n                    headerValue = headerValue.split(\":\")[0];\n                }\n\n                normalizedHeaders[i] = new BasicHeader(headerName, headerValue);\n            }\n\n            return normalizedHeaders;\n        }\n    };\n\n    /**\n     * Replaces the special characters in the URLEncoded string with the replacement values defined by the spec.\n     *\n     * Partially copied from https://github.com/aws/aws-sdk-java: com.amazonaws.util.SdkHttpUtils (2017-05-19)\n     *\n     * @param string the string to replace characters in\n     * @param replaceSlash whether the encoded '/' should be replaced\n     * @return the string after replacements\n     */\n    private static String replace(String string, boolean replaceSlash) {\n        if (Strings.isNullOrEmpty(string)) {\n            return string;\n        }\n        StringBuffer buffer = new StringBuffer(string.length());\n        Matcher matcher = TOKEN_REPLACE_PATTERN.matcher(string);\n        while (matcher.find()) {\n            String replacement = matcher.group(0);\n\n            if (\"+\".equals(replacement)) {\n                replacement = \"%20\";\n            } else if (\"*\".equals(replacement)) {\n                replacement = \"%2A\";\n            } else if (\"%7E\".equals(replacement)) {\n                replacement = \"~\";\n            } else if (replaceSlash && \"%2F\".equals(replacement)) {\n                replacement = \"/\";\n            }\n\n            matcher.appendReplacement(buffer, replacement);\n        }\n\n        matcher.appendTail(buffer);\n        return buffer.toString();\n    }\n}\n","Smelly Sample":"package com.twilio.jwt.validation;\n\nimport com.twilio.exception.InvalidRequestException;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.base.Function;\nimport com.google.common.base.Joiner;\nimport com.google.common.base.Strings;\nimport com.google.common.collect.Lists;\nimport com.google.common.hash.HashFunction;\n\nimport org.apache.http.Header;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.UnsupportedEncodingException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.net.URLEncoder;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n/**\n * Creates a canonical string out of HTTP request components.\n * <p>\n * The process of generating the canonical request is described <a href=\"https://www.twilio\n * .com/docs/api/credentials/public-key-client-validation-getting-started#3-create-hash-of-the-canonical-request\"\n * >here<\/a>.\n */\nclass RequestCanonicalizer {\n\n    private static final String NEW_LINE = \"\\n\";\n    private static final Pattern TOKEN_REPLACE_PATTERN =\n            Pattern.compile(String.format(\"%s|\\\\%s|\\\\%s|%s\", \"%7E\", \"+\", \"*\", \"%2F\"));\n\n    private final String method;\n    private final String uri;\n    private final String queryString;\n    private final String requestBody;\n    private final Header[] headers;\n\n    public RequestCanonicalizer(String method, String uri, String queryString, String requestBody, Header[] headers) {\n        this.method = method;\n        this.uri = uri;\n        this.queryString = queryString;\n        this.requestBody = requestBody;\n        this.headers = headers;\n    }\n\n    /**\n     * Creates a canonical request string out of HTTP request components.\n     *\n     * @param sortedIncludedHeaders the headers that should be included into canonical request string\n     * @param hashFunction          the hashing function applied to request payload\n     * @return a string representing the canonical request\n     */\n    public String create(List<String> sortedIncludedHeaders, HashFunction hashFunction) {\n        // Add the method and uri\n        StringBuilder canonicalRequest = new StringBuilder();\n        canonicalRequest.append(method).append(NEW_LINE);\n        String canonicalUri = CANONICALIZE_PATH.apply(uri);\n        canonicalRequest.append(canonicalUri).append(NEW_LINE);\n\n        // Get the query args, replace whitespace and values that should be not encoded, sort and rejoin\n        String canonicalQuery = CANONICALIZE_QUERY.apply(queryString);\n        canonicalRequest.append(canonicalQuery).append(NEW_LINE);\n\n        // Normalize all the headers\n        Header[] lowercaseHeaders = LOWERCASE_KEYS.apply(headers);\n        Map<String, List<String>> combinedHeaders = COMBINE_HEADERS.apply(lowercaseHeaders);\n\n        // Add the headers that we care about\n        for (String header : sortedIncludedHeaders) {\n            String lowercase = header.toLowerCase().trim();\n\n            if (combinedHeaders.containsKey(lowercase)) {\n                List<String> values = combinedHeaders.get(lowercase);\n                Collections.sort(values);\n\n                canonicalRequest.append(lowercase)\n                         .append(\":\")\n                         .append(Joiner.on(',').join(values))\n                         .append(NEW_LINE);\n            }\n        }\n        canonicalRequest.append(NEW_LINE);\n\n        // Mark the headers that we care about\n        canonicalRequest.append(Joiner.on(\";\").join(sortedIncludedHeaders)).append(NEW_LINE);\n\n        // Hash and hex the request payload\n        if (!Strings.isNullOrEmpty(requestBody)) {\n            String hashedPayload = hashFunction.hashString(requestBody, Charsets.UTF_8).toString();\n            canonicalRequest.append(hashedPayload);\n        }\n        return canonicalRequest.toString();\n    }\n\n    private static Function<Header[], Map<String, List<String>>> COMBINE_HEADERS = new Function<Header[], Map<String, List<String>>>() {\n        @Override\n        public Map<String, List<String>> apply(Header[] headers) {\n            Map<String, List<String>> combinedHeaders = new HashMap<>();\n\n            for (Header header : headers)  {\n                if (combinedHeaders.containsKey(header.getName())) {\n                    combinedHeaders.get(header.getName()).add(header.getValue());\n                } else {\n                    combinedHeaders.put(header.getName(), Lists.newArrayList(header.getValue()));\n                }\n            }\n\n            return combinedHeaders;\n        }\n    };\n\n    /**\n     * Creates a canonical string out of the given valid URI path by:\n     * <ul>\n     * <li> Normalizing the path (remove redundant path elements)\n     * <li> URL-encodes the remaining path\n     * <li> Replaces a set of control characters with the values defined in the contract\n     *                 (e.g., space should be represented as %20 in the canonical request)\n     * <li> When no path is provided, returns '/'\n     * <\/ul>\n     */\n    private static Function<String, String> CANONICALIZE_PATH = new Function<String, String>() {\n        @Override\n        public String apply(String string) {\n            if (Strings.isNullOrEmpty(string)) {\n                return \"/\";\n            }\n\n            try {\n                URI normalizedUri = new URI(string).normalize();\n                String encoded = URLEncoder.encode(normalizedUri.getPath(), \"UTF-8\");\n                return replace(encoded, true);\n            } catch (URISyntaxException e) {\n                throw new InvalidRequestException(\"Bad URI path: '\" + string + \"'\", string, e);\n            } catch (UnsupportedEncodingException e) {\n                throw new InvalidRequestException(\"It must be possible to encode request path as ascii\", string, e);\n            }\n        }\n    };\n\n    /**\n     * Creates a canonical query string out of already URL encoded queryParams by:\n     * <ul>\n     * <li> Replaces a set of control characters with the values defined in the contract\n     *                 (e.g., space should be represented as %20 in the canonical request)\n     * <li> ASCII Sort the combined \u20ackey=value\u20ac? strings (not just the \u20ackeys\u20ac)\n     * <li> Join all key/value pairs with a \u20ac&\u20ac in between\n     * <\/ul>\n     */\n    private static Function<String, String> CANONICALIZE_QUERY = new Function<String, String>() {\n        @Override\n        public String apply(String string) {\n            String replacedQueryString = replace(string, false);\n            String[] queryArgs = replacedQueryString.split(\"&\");\n            Arrays.sort(queryArgs);\n\n            return Joiner.on(\"&\").join(queryArgs);\n        }\n    };\n\n    private static Function<Header[], Header[]> LOWERCASE_KEYS = new Function<Header[], Header[]>() {\n        @Override\n        public Header[] apply(Header[] headers) {\n            Header[] lowercaseHeaders = new Header[headers.length];\n            for (int i = 0; i < headers.length; i++) {\n                lowercaseHeaders[i] = new BasicHeader(headers[i].getName().toLowerCase(), headers[i].getValue());\n            }\n\n            return lowercaseHeaders;\n        }\n    };\n\n    /**\n     * Replaces the special characters in the URLEncoded string with the replacement values defined by the spec.\n     *\n     * Partially copied from https://github.com/aws/aws-sdk-java: com.amazonaws.util.SdkHttpUtils (2017-05-19)\n     *\n     * @param string the string to replace characters in\n     * @param replaceSlash whether the encoded '/' should be replaced\n     * @return the string after replacements\n     */\n    private static String replace(String string, boolean replaceSlash) {\n        if (Strings.isNullOrEmpty(string)) {\n            return string;\n        }\n        StringBuffer buffer = new StringBuffer(string.length());\n        Matcher matcher = TOKEN_REPLACE_PATTERN.matcher(string);\n        while (matcher.find()) {\n            String replacement = matcher.group(0);\n\n            if (\"+\".equals(replacement)) {\n                replacement = \"%20\";\n            } else if (\"*\".equals(replacement)) {\n                replacement = \"%2A\";\n            } else if (\"%7E\".equals(replacement)) {\n                replacement = \"~\";\n            } else if (replaceSlash && \"%2F\".equals(replacement)) {\n                replacement = \"/\";\n            }\n\n            matcher.appendReplacement(buffer, replacement);\n        }\n\n        matcher.appendTail(buffer);\n        return buffer.toString();\n    }\n}\n","lineNo":178}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.google.common.base.Strings;\nimport com.google.common.collect.Lists;\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.utils.HttpClientUtils;\nimport org.apache.http.entity.BufferedHttpEntity;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\npublic class NetworkHttpClient extends HttpClient {\n\n    private static final int CONNECTION_TIMEOUT = 10000;\n    private static final int SOCKET_TIMEOUT = 30500;\n\n    private final org.apache.http.client.HttpClient client;\n\n    /**\n     * Create a new HTTP Client.\n     */\n    public NetworkHttpClient() {\n        RequestConfig config = RequestConfig.custom()\n            .setConnectTimeout(CONNECTION_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();\n\n        Collection<Header> headers = Lists.<Header>newArrayList(\n            new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n            new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n            new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        String googleAppEngineVersion = System.getProperty(\"com.google.appengine.runtime.version\");\n        boolean isNotGoogleAppEngine = Strings.isNullOrEmpty(googleAppEngineVersion);\n\n        org.apache.http.impl.client.HttpClientBuilder clientBuilder = HttpClientBuilder.create();\n\n        if (isNotGoogleAppEngine) {\n            clientBuilder.useSystemProperties();\n        }\n      \n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n\t      connectionManager.setDefaultMaxPerRoute(10);\n\t      connectionManager.setMaxTotal(10*2);\n\n        clientBuilder\n            .setConnectionManager(connectionManager)\n            .setDefaultRequestConfig(config)\n            .setDefaultHeaders(headers)\n\n        client = clientBuilder.build();\n    }\n\n    /**\n     * Create a new HTTP Client using custom configuration.\n     * @param clientBuilder an HttpClientBuilder.\n     */\n    public NetworkHttpClient(HttpClientBuilder clientBuilder) {\n        Collection<Header> headers = Lists.<Header>newArrayList(\n                new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n                new BasicHeader(\n                    HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \") custom\"\n                ),\n                new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n                new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = clientBuilder\n                .setDefaultHeaders(headers)\n                .build();\n    }\n\n    /**\n     * Make a request.\n     *\n     * @param request request to make\n     * @return Response of the HTTP request\n     */\n    public Response makeRequest(final Request request) {\n\n        HttpMethod method = request.getMethod();\n        RequestBuilder builder = RequestBuilder.create(method.toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry<String, List<String>> entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        HttpResponse response = null;\n\n        try {\n            response = client.execute(builder.build());\n            HttpEntity entity = response.getEntity();\n            return new Response(\n                // Consume the entire HTTP response before returning the stream\n                entity == null ? null : new BufferedHttpEntity(entity).getContent(),\n                response.getStatusLine().getStatusCode()\n            );\n        } catch (IOException e) {\n            throw new ApiException(e.getMessage());\n        } finally {\n\n            // Ensure this response is properly closed\n            HttpClientUtils.closeQuietly(response);\n\n        }\n\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.google.common.base.Strings;\nimport com.google.common.collect.Lists;\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.utils.HttpClientUtils;\nimport org.apache.http.entity.BufferedHttpEntity;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\npublic class NetworkHttpClient extends HttpClient {\n\n    private static final int CONNECTION_TIMEOUT = 10000;\n    private static final int SOCKET_TIMEOUT = 30500;\n\n    private final org.apache.http.client.HttpClient client;\n\n    /**\n     * Create a new HTTP Client.\n     */\n    public NetworkHttpClient() {\n        RequestConfig config = RequestConfig.custom()\n            .setConnectTimeout(CONNECTION_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();\n\n        Collection<Header> headers = Lists.<Header>newArrayList(\n            new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n            new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n            new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        String googleAppEngineVersion = System.getProperty(\"com.google.appengine.runtime.version\");\n        boolean isNotGoogleAppEngine = Strings.isNullOrEmpty(googleAppEngineVersion);\n\n        org.apache.http.impl.client.HttpClientBuilder clientBuilder = HttpClientBuilder.create();\n\n        if (isNotGoogleAppEngine) {\n            clientBuilder.useSystemProperties();\n        }\n\n        clientBuilder\n            .setConnectionManager(new PoolingHttpClientConnectionManager())\n            .setDefaultRequestConfig(config)\n            .setDefaultHeaders(headers)\n            .setMaxConnPerRoute(10);\n\n        client = clientBuilder.build();\n    }\n\n    /**\n     * Create a new HTTP Client using custom configuration.\n     * @param clientBuilder an HttpClientBuilder.\n     */\n    public NetworkHttpClient(HttpClientBuilder clientBuilder) {\n        Collection<Header> headers = Lists.<Header>newArrayList(\n                new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n                new BasicHeader(\n                    HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \") custom\"\n                ),\n                new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n                new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = clientBuilder\n                .setDefaultHeaders(headers)\n                .build();\n    }\n\n    /**\n     * Make a request.\n     *\n     * @param request request to make\n     * @return Response of the HTTP request\n     */\n    public Response makeRequest(final Request request) {\n\n        HttpMethod method = request.getMethod();\n        RequestBuilder builder = RequestBuilder.create(method.toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry<String, List<String>> entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        HttpResponse response = null;\n\n        try {\n            response = client.execute(builder.build());\n            HttpEntity entity = response.getEntity();\n            return new Response(\n                // Consume the entire HTTP response before returning the stream\n                entity == null ? null : new BufferedHttpEntity(entity).getContent(),\n                response.getStatusLine().getStatusCode()\n            );\n        } catch (IOException e) {\n            throw new ApiException(e.getMessage());\n        } finally {\n\n            // Ensure this response is properly closed\n            HttpClientUtils.closeQuietly(response);\n\n        }\n\n    }\n}\n","lineNo":58}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.google.common.collect.Lists;\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.utils.HttpClientUtils;\nimport org.apache.http.entity.BufferedHttpEntity;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\npublic class NetworkHttpClient extends HttpClient {\n\n    private static final int CONNECTION_TIMEOUT = 10000;\n    private static final int SOCKET_TIMEOUT = 30500;\n\n    private final org.apache.http.client.HttpClient client;\n\n    /**\n     * Create a new HTTP Client.\n     */\n    public NetworkHttpClient() {\n        RequestConfig config = RequestConfig.custom()\n            .setConnectTimeout(CONNECTION_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();\n\n        Collection<Header> headers = Lists.<Header>newArrayList(\n            new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n            new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n            new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        String googleAppEngineVersion = System.getProperty(\"com.google.appengine.runtime.version\");\n        boolean isGoogleAppEngine = googleAppEngineVersion != null && !googleAppEngineVersion.isEmpty();\n\n        org.apache.http.impl.client.HttpClientBuilder clientBuilder = HttpClientBuilder.create();\n\n        if (!isGoogleAppEngine) {\n            clientBuilder.useSystemProperties();\n        }\n\n        clientBuilder\n            .setConnectionManager(new PoolingHttpClientConnectionManager())\n            .setDefaultRequestConfig(config)\n            .setDefaultHeaders(headers)\n            .setMaxConnPerRoute(10);\n\n        client = clientBuilder.build();\n    }\n\n    /**\n     * Create a new HTTP Client using custom configuration\n     * @param clientBuilder an HttpClientBuilder\n     */\n    public NetworkHttpClient(HttpClientBuilder clientBuilder) {\n        Collection<Header> headers = Lists.<Header>newArrayList(\n                new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n                new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \") custom\"),\n                new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n                new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = clientBuilder\n                .setDefaultHeaders(headers)\n                .build();\n    }\n\n    /**\n     * Make a request.\n     *\n     * @param request request to make\n     * @return Response of the HTTP request\n     */\n    public Response makeRequest(final Request request) {\n\n        HttpMethod method = request.getMethod();\n        RequestBuilder builder = RequestBuilder.create(method.toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry<String, List<String>> entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        HttpResponse response = null;\n\n        try {\n            response = client.execute(builder.build());\n            HttpEntity entity = response.getEntity();\n            return new Response(\n                // Consume the entire HTTP response before returning the stream\n                entity == null ? null : new BufferedHttpEntity(entity).getContent(),\n                response.getStatusLine().getStatusCode()\n            );\n        } catch (IOException e) {\n            throw new ApiException(e.getMessage());\n        } finally {\n\n            // Ensure this response is properly closed\n            HttpClientUtils.closeQuietly(response);\n\n        }\n\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.google.common.collect.Lists;\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.utils.HttpClientUtils;\nimport org.apache.http.entity.BufferedHttpEntity;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\npublic class NetworkHttpClient extends HttpClient {\n\n    private static final int CONNECTION_TIMEOUT = 10000;\n    private static final int SOCKET_TIMEOUT = 30500;\n\n    private final org.apache.http.client.HttpClient client;\n\n    /**\n     * Create a new HTTP Client.\n     */\n    public NetworkHttpClient() {\n        RequestConfig config = RequestConfig.custom()\n            .setConnectTimeout(CONNECTION_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();\n\n        Collection<Header> headers = Lists.<Header>newArrayList(\n            new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n            new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n            new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = HttpClientBuilder.create()\n            .useSystemProperties()\n            .setConnectionManager(new PoolingHttpClientConnectionManager())\n            .setDefaultRequestConfig(config)\n            .setDefaultHeaders(headers)\n            .setMaxConnPerRoute(10)\n            .build();\n    }\n\n    /**\n     * Create a new HTTP Client using custom configuration\n     * @param clientBuilder an HttpClientBuilder\n     */\n    public NetworkHttpClient(HttpClientBuilder clientBuilder) {\n        Collection<Header> headers = Lists.<Header>newArrayList(\n                new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n                new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \") custom\"),\n                new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n                new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = clientBuilder\n                .setDefaultHeaders(headers)\n                .build();\n    }\n\n    /**\n     * Make a request.\n     *\n     * @param request request to make\n     * @return Response of the HTTP request\n     */\n    public Response makeRequest(final Request request) {\n\n        HttpMethod method = request.getMethod();\n        RequestBuilder builder = RequestBuilder.create(method.toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry<String, List<String>> entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        HttpResponse response = null;\n\n        try {\n            response = client.execute(builder.build());\n            HttpEntity entity = response.getEntity();\n            return new Response(\n                // Consume the entire HTTP response before returning the stream\n                entity == null ? null : new BufferedHttpEntity(entity).getContent(),\n                response.getStatusLine().getStatusCode()\n            );\n        } catch (IOException e) {\n            throw new ApiException(e.getMessage());\n        } finally {\n\n            // Ensure this response is properly closed\n            HttpClientUtils.closeQuietly(response);\n\n        }\n\n    }\n}\n","lineNo":51}
{"Refactored Sample":"package com.twilio.http;\n\nimport com.google.common.collect.Lists;\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.utils.HttpClientUtils;\nimport org.apache.http.entity.BufferedHttpEntity;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\npublic class NetworkHttpClient extends HttpClient {\n\n    private static final int CONNECTION_TIMEOUT = 10000;\n    private static final int SOCKET_TIMEOUT = 30500;\n\n    private final org.apache.http.client.HttpClient client;\n\n    /**\n     * Create a new HTTP Client.\n     */\n    public NetworkHttpClient() {\n        RequestConfig config = RequestConfig.custom()\n            .setConnectTimeout(CONNECTION_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();\n        \n        Collection<Header> headers = Lists.<Header>newArrayList(\n            new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n            new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n            new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = HttpClientBuilder.create()\n            .useSystemProperties()\n            .setConnectionManager(new PoolingHttpClientConnectionManager())\n            .setDefaultRequestConfig(config)\n            .setDefaultHeaders(headers)\n            .setMaxConnPerRoute(10)\n            .build();\n    }\n\n    /**\n     * Create a new HTTP Client using custom configuration\n     */\n    public NetworkHttpClient(HttpClientBuilder clientBuilder) {\n        Collection<Header> headers = Lists.<Header>newArrayList(\n                new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n                new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \") custom\"),\n                new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n                new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = clientBuilder\n                .setDefaultHeaders(headers)\n                .build();\n    }\n\n    /**\n     * Make a request.\n     *\n     * @param request request to make\n     * @return Response of the HTTP request\n     */\n    public Response makeRequest(final Request request) {\n\n        HttpMethod method = request.getMethod();\n        RequestBuilder builder = RequestBuilder.create(method.toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry<String, List<String>> entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        HttpResponse response = null;\n\n        try {\n            response = client.execute(builder.build());\n            HttpEntity entity = response.getEntity();\n            return new Response(\n                // Consume the entire HTTP response before returning the stream\n                entity == null ? null : new BufferedHttpEntity(entity).getContent(),\n                response.getStatusLine().getStatusCode()\n            );\n        } catch (IOException e) {\n            throw new ApiException(e.getMessage());\n        } finally {\n\n            // Ensure this response is properly closed\n            HttpClientUtils.closeQuietly(response);\n\n        }\n\n    }\n}\n","Smelly Sample":"package com.twilio.http;\n\nimport com.google.common.collect.Lists;\nimport com.twilio.Twilio;\nimport com.twilio.exception.ApiException;\nimport org.apache.http.Header;\nimport org.apache.http.HttpHeaders;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.HttpVersion;\nimport org.apache.http.client.utils.HttpClientUtils;\nimport org.apache.http.entity.BufferedHttpEntity;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.RequestBuilder;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\n\npublic class NetworkHttpClient extends HttpClient {\n\n    private static final int CONNECTION_TIMEOUT = 10000;\n    private static final int SOCKET_TIMEOUT = 30500;\n\n    private final org.apache.http.client.HttpClient client;\n\n    /**\n     * Create a new HTTP Client.\n     */\n    public NetworkHttpClient() {\n        RequestConfig config = RequestConfig.custom()\n            .setConnectTimeout(CONNECTION_TIMEOUT)\n            .setSocketTimeout(SOCKET_TIMEOUT)\n            .build();\n        \n        Collection<Header> headers = Lists.<Header>newArrayList(\n            new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n            new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \")\"),\n            new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n            new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = HttpClientBuilder.create()\n            .useSystemProperties()\n            .setConnectionManager(new PoolingHttpClientConnectionManager())\n            .setDefaultRequestConfig(config)\n            .setDefaultHeaders(headers)\n            .setMaxConnPerRoute(10)\n            .build();\n    }\n\n    /**\n     * Create a new HTTP Client using custom configuration\n     */\n    public NetworkHttpClient(HttpClientBuilder clientBuilder){\n        Collection<Header> headers = Lists.<Header>newArrayList(\n                new BasicHeader(\"X-Twilio-Client\", \"java-\" + Twilio.VERSION),\n                new BasicHeader(HttpHeaders.USER_AGENT, \"twilio-java/\" + Twilio.VERSION + \" (\" + Twilio.JAVA_VERSION + \") custom\"),\n                new BasicHeader(HttpHeaders.ACCEPT, \"application/json\"),\n                new BasicHeader(HttpHeaders.ACCEPT_ENCODING, \"utf-8\")\n        );\n\n        client = clientBuilder\n                .setDefaultHeaders(headers)\n                .build();\n    }\n\n    /**\n     * Make a request.\n     *\n     * @param request request to make\n     * @return Response of the HTTP request\n     */\n    public Response makeRequest(final Request request) {\n\n        RequestBuilder builder = RequestBuilder.create(request.getMethod().toString())\n            .setUri(request.constructURL().toString())\n            .setVersion(HttpVersion.HTTP_1_1)\n            .setCharset(StandardCharsets.UTF_8);\n\n        if (request.requiresAuthentication()) {\n            builder.addHeader(HttpHeaders.AUTHORIZATION, request.getAuthString());\n        }\n\n        HttpMethod method = request.getMethod();\n        if (method == HttpMethod.POST) {\n            builder.addHeader(HttpHeaders.CONTENT_TYPE, \"application/x-www-form-urlencoded\");\n\n            for (Map.Entry<String, List<String>> entry : request.getPostParams().entrySet()) {\n                for (String value : entry.getValue()) {\n                    builder.addParameter(entry.getKey(), value);\n                }\n            }\n        }\n\n        HttpResponse response = null;\n\n        try {\n            response = client.execute(builder.build());\n            return new Response(\n\n                // Consume the entire HTTP response before returning the stream\n                response.getEntity() == null ? null : new BufferedHttpEntity(response.getEntity()).getContent(),\n                response.getStatusLine().getStatusCode()\n            );\n        } catch (IOException e) {\n            throw new ApiException(e.getMessage());\n        } finally {\n\n            // Ensure this response is properly closed\n            HttpClientUtils.closeQuietly(response);\n\n        }\n\n    }\n}\n","lineNo":105}
{"Refactored Sample":"package com.twilio.jwt.validation;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.base.Function;\nimport com.google.common.base.Joiner;\nimport com.google.common.collect.Lists;\nimport com.google.common.hash.HashFunction;\nimport com.google.common.hash.Hashing;\nimport com.google.common.io.CharStreams;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.jwt.Jwt;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpEntityEnclosingRequest;\nimport org.apache.http.HttpRequest;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.security.PrivateKey;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\npublic class ValidationToken extends Jwt {\n\n    private static final HashFunction HASH_FUNCTION = Hashing.sha256();\n    private static final String CTY = \"twilio-pkrv;v=1\";\n\n    private final String accountSid;\n    private final String credentialSid;\n    private final String signingKeySid;\n    private final String method;\n    private final String uri;\n    private final String queryString;\n    private final Header[] headers;\n    private final List<String> signedHeaders;\n    private final String requestBody;\n\n    private ValidationToken(Builder b) {\n        super(\n            SignatureAlgorithm.RS256,\n            b.privateKey,\n            b.credentialSid,\n            new Date(new Date().getTime() + b.ttl * 1000)\n        );\n        this.accountSid = b.accountSid;\n        this.credentialSid = b.credentialSid;\n        this.signingKeySid = b.signingKeySid;\n        this.method = b.method;\n        this.uri = b.uri;\n        this.queryString = b.queryString;\n        this.headers = b.headers;\n        this.signedHeaders = b.signedHeaders;\n        this.requestBody = b.requestBody;\n    }\n\n    @Override\n    public Map<String, Object> getHeaders() {\n        Map<String, Object> headers = new HashMap<>();\n        headers.put(\"cty\", CTY);\n        headers.put(\"kid\", this.credentialSid);\n        return headers;\n    }\n\n    @Override\n    public Map<String, Object> getClaims() {\n        Map<String, Object> payload = new HashMap<>();\n\n        payload.put(\"iss\", this.signingKeySid);\n        payload.put(\"sub\", this.accountSid);\n\n        // Sort the signed headers\n        Collections.sort(signedHeaders);\n        List<String> lowercaseSignedHeaders = Lists.transform(signedHeaders, LOWERCASE_STRING);\n        String includedHeaders = Joiner.on(\";\").join(lowercaseSignedHeaders);\n        payload.put(\"hrh\", includedHeaders);\n\n        String signature =\n                new SignatureCreator(method, uri, queryString, requestBody, headers).createSignature(\n                        lowercaseSignedHeaders, HASH_FUNCTION);\n\n        // Hash and hex the canonical request\n        String hashedSignature = HASH_FUNCTION.hashString(signature, Charsets.UTF_8).toString();\n        payload.put(\"rqh\", hashedSignature);\n\n        return payload;\n    }\n\n    public static ValidationToken fromHttpRequest(\n        String accountSid,\n        String credentialSid,\n        String signingKeySid,\n        PrivateKey privateKey,\n        HttpRequest request,\n        List<String> signedHeaders\n    ) throws IOException {\n        Builder builder = new Builder(accountSid, credentialSid, signingKeySid, privateKey);\n\n        String method = request.getRequestLine().getMethod();\n        builder.method(method);\n\n        String uri = request.getRequestLine().getUri();\n        if (uri.contains(\"?\")) {\n            String[] uriParts = uri.split(\"\\\\?\");\n            builder.uri(uriParts[0]);\n            builder.queryString(uriParts[1]);\n        } else {\n            builder.uri(uri);\n        }\n\n        builder.headers(request.getAllHeaders());\n        builder.signedHeaders(signedHeaders);\n\n        if (HttpMethod.POST.toString().equals(method.toUpperCase())) {\n            HttpEntity entity = ((HttpEntityEnclosingRequest)request).getEntity();\n            builder.requestBody(CharStreams.toString(new InputStreamReader(entity.getContent(), Charsets.UTF_8)));\n        }\n\n        return builder.build();\n    }\n\n\n    private static Function<String, String> LOWERCASE_STRING = new Function<String, String>() {\n        @Override\n        public String apply(String s) {\n            return s.toLowerCase();\n        }\n    };\n\n    public static class Builder {\n\n        private String accountSid;\n        private String credentialSid;\n        private String signingKeySid;\n        private PrivateKey privateKey;\n        private String method;\n        private String uri;\n        private String queryString = \"\";\n        private Header[] headers;\n        private List<String> signedHeaders = Collections.emptyList();\n        private String requestBody = \"\";\n        private int ttl = 300;\n\n        public Builder(String accountSid, String credentialSid, String signingKeySid, PrivateKey privateKey) {\n            this.accountSid = accountSid;\n            this.credentialSid = credentialSid;\n            this.signingKeySid = signingKeySid;\n            this.privateKey = privateKey;\n        }\n\n        public Builder method(String method) {\n            this.method = method;\n            return this;\n        }\n\n        public Builder uri(String uri) {\n            this.uri = uri;\n            return this;\n        }\n\n        public Builder queryString(String queryString) {\n            this.queryString = queryString;\n            return this;\n        }\n\n        public Builder headers(Header[] headers) {\n            this.headers = headers;\n            return this;\n        }\n\n        public Builder signedHeaders(List<String> signedHeaders) {\n            this.signedHeaders = signedHeaders;\n            return this;\n        }\n\n        public Builder requestBody(String requestBody) {\n            this.requestBody = requestBody;\n            return this;\n        }\n\n        public Builder ttl(int ttl) {\n            this.ttl = ttl;\n            return this;\n        }\n\n        public ValidationToken build() {\n            return new ValidationToken(this);\n        }\n    }\n\n}\n","Smelly Sample":"package com.twilio.jwt.validation;\n\nimport com.google.common.base.Charsets;\nimport com.google.common.base.Function;\nimport com.google.common.base.Joiner;\nimport com.google.common.base.Strings;\nimport com.google.common.collect.Lists;\nimport com.google.common.hash.HashFunction;\nimport com.google.common.hash.Hashing;\nimport com.google.common.io.CharStreams;\nimport com.twilio.http.HttpMethod;\nimport com.twilio.jwt.Jwt;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.apache.http.Header;\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpEntityEnclosingRequest;\nimport org.apache.http.HttpRequest;\nimport org.apache.http.message.BasicHeader;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.security.PrivateKey;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\npublic class ValidationToken extends Jwt {\n\n    private static final HashFunction HASH_FUNCTION = Hashing.sha256();\n    private static final String CTY = \"twilio-pkrv;v=1\";\n    private static final String NEW_LINE = \"\\n\";\n\n    private final String accountSid;\n    private final String credentialSid;\n    private final String signingKeySid;\n    private final String method;\n    private final String uri;\n    private final String queryString;\n    private final Header[] headers;\n    private final List<String> signedHeaders;\n    private final String requestBody;\n\n    private ValidationToken(Builder b) {\n        super(\n            SignatureAlgorithm.RS256,\n            b.privateKey,\n            b.credentialSid,\n            new Date(new Date().getTime() + b.ttl * 1000)\n        );\n        this.accountSid = b.accountSid;\n        this.credentialSid = b.credentialSid;\n        this.signingKeySid = b.signingKeySid;\n        this.method = b.method;\n        this.uri = b.uri;\n        this.queryString = b.queryString;\n        this.headers = b.headers;\n        this.signedHeaders = b.signedHeaders;\n        this.requestBody = b.requestBody;\n    }\n\n    @Override\n    public Map<String, Object> getHeaders() {\n        Map<String, Object> headers = new HashMap<>();\n        headers.put(\"cty\", CTY);\n        headers.put(\"kid\", this.credentialSid);\n        return headers;\n    }\n\n    @Override\n    public Map<String, Object> getClaims() {\n        Map<String, Object> payload = new HashMap<>();\n\n        payload.put(\"iss\", this.signingKeySid);\n        payload.put(\"sub\", this.accountSid);\n\n        // Sort the signed headers\n        Collections.sort(signedHeaders);\n        List<String> lowercaseSignedHeaders = Lists.transform(signedHeaders, LOWERCASE_STRING);\n        String includedHeaders = Joiner.on(\";\").join(lowercaseSignedHeaders);\n        payload.put(\"hrh\", includedHeaders);\n\n        // Add the method and uri\n        StringBuilder signature = new StringBuilder();\n        signature.append(method).append(NEW_LINE);\n        signature.append(uri).append(NEW_LINE);\n\n        // Get the query args, sort and rejoin\n        String[] queryArgs = queryString.split(\"&\");\n        Arrays.sort(queryArgs);\n        String sortedQueryString = Joiner.on(\"&\").join(queryArgs);\n        signature.append(sortedQueryString).append(NEW_LINE);\n\n        // Normalize all the headers\n        Header[] lowercaseHeaders = LOWERCASE_KEYS.apply(headers);\n        Map<String, List<String>> combinedHeaders = COMBINE_HEADERS.apply(lowercaseHeaders);\n\n        // Add the headers that we care about\n        for (String header : lowercaseSignedHeaders) {\n            String lowercase = header.toLowerCase().trim();\n\n            if (combinedHeaders.containsKey(lowercase)) {\n                List<String> values = combinedHeaders.get(lowercase);\n                Collections.sort(values);\n\n                signature.append(lowercase)\n                    .append(\":\")\n                    .append(Joiner.on(',').join(values))\n                    .append(NEW_LINE);\n            }\n        }\n        signature.append(NEW_LINE);\n\n        // Mark the headers that we care about\n        signature.append(includedHeaders).append(NEW_LINE);\n\n        // Hash and hex the request payload\n        if (!Strings.isNullOrEmpty(requestBody)) {\n            String hashedPayload = HASH_FUNCTION.hashString(requestBody, Charsets.UTF_8).toString();\n            signature.append(hashedPayload);\n        }\n\n        // Hash and hex the canonical request\n        String hashedSignature = HASH_FUNCTION.hashString(signature.toString(), Charsets.UTF_8).toString();\n        payload.put(\"rqh\", hashedSignature);\n\n        return payload;\n    }\n\n    public static ValidationToken fromHttpRequest(\n        String accountSid,\n        String credentialSid,\n        String signingKeySid,\n        PrivateKey privateKey,\n        HttpRequest request,\n        List<String> signedHeaders\n    ) throws IOException {\n        Builder builder = new Builder(accountSid, credentialSid, signingKeySid, privateKey);\n\n        String method = request.getRequestLine().getMethod();\n        builder.method(method);\n\n        String uri = request.getRequestLine().getUri();\n        if (uri.contains(\"?\")) {\n            String[] uriParts = uri.split(\"\\\\?\");\n            builder.uri(uriParts[0]);\n            builder.queryString(uriParts[1]);\n        } else {\n            builder.uri(uri);\n        }\n\n        builder.headers(request.getAllHeaders());\n        builder.signedHeaders(signedHeaders);\n\n        if (HttpMethod.POST.toString().equals(method.toUpperCase())) {\n            HttpEntity entity = ((HttpEntityEnclosingRequest)request).getEntity();\n            builder.requestBody(CharStreams.toString(new InputStreamReader(entity.getContent(), Charsets.UTF_8)));\n        }\n\n        return builder.build();\n    }\n\n    private static Function<Header[], Map<String, List<String>>> COMBINE_HEADERS = new Function<Header[], Map<String, List<String>>>() {\n        @Override\n        public Map<String, List<String>> apply(Header[] headers) {\n            Map<String, List<String>> combinedHeaders = new HashMap<>();\n\n            for (Header header : headers)  {\n                if (combinedHeaders.containsKey(header.getName())) {\n                    combinedHeaders.get(header.getName()).add(header.getValue());\n                } else {\n                    combinedHeaders.put(header.getName(), Lists.newArrayList(header.getValue()));\n                }\n            }\n\n            return combinedHeaders;\n        }\n    };\n\n    private static Function<Header[], Header[]> LOWERCASE_KEYS = new Function<Header[], Header[]>() {\n        @Override\n        public Header[] apply(Header[] headers) {\n            Header[] lowercaseHeaders = new Header[headers.length];\n            for (int i = 0; i < headers.length; i++) {\n                lowercaseHeaders[i] = new BasicHeader(headers[i].getName().toLowerCase(), headers[i].getValue());\n            }\n\n            return lowercaseHeaders;\n        }\n    };\n\n    private static Function<String, String> LOWERCASE_STRING = new Function<String, String>() {\n        @Override\n        public String apply(String s) {\n            return s.toLowerCase();\n        }\n    };\n\n    public static class Builder {\n\n        private String accountSid;\n        private String credentialSid;\n        private String signingKeySid;\n        private PrivateKey privateKey;\n        private String method;\n        private String uri;\n        private String queryString = \"\";\n        private Header[] headers;\n        private List<String> signedHeaders = Collections.emptyList();\n        private String requestBody = \"\";\n        private int ttl = 300;\n\n        public Builder(String accountSid, String credentialSid, String signingKeySid, PrivateKey privateKey) {\n            this.accountSid = accountSid;\n            this.credentialSid = credentialSid;\n            this.signingKeySid = signingKeySid;\n            this.privateKey = privateKey;\n        }\n\n        public Builder method(String method) {\n            this.method = method;\n            return this;\n        }\n\n        public Builder uri(String uri) {\n            this.uri = uri;\n            return this;\n        }\n\n        public Builder queryString(String queryString) {\n            this.queryString = queryString;\n            return this;\n        }\n\n        public Builder headers(Header[] headers) {\n            this.headers = headers;\n            return this;\n        }\n\n        public Builder signedHeaders(List<String> signedHeaders) {\n            this.signedHeaders = signedHeaders;\n            return this;\n        }\n\n        public Builder requestBody(String requestBody) {\n            this.requestBody = requestBody;\n            return this;\n        }\n\n        public Builder ttl(int ttl) {\n            this.ttl = ttl;\n            return this;\n        }\n\n        public ValidationToken build() {\n            return new ValidationToken(this);\n        }\n    }\n\n}\n","lineNo":82}
{"Refactored Sample":"package com.twilio.type;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.google.common.base.MoreObjects;\n\nimport java.util.Objects;\n\n/**\n * Object representation of a price of a phone number.\n *\n * <p>\n *  For more information see:\n *  <a href=https://www.twilio.com/voice/pricing>Pricing Docs<\/a>\n * <\/p>\n */\npublic class PhoneNumberPrice {\n\n    /**\n     * Possible phone number type.\n     */\n    public enum Type {\n        LOCAL(\"local\"),\n        MOBILE(\"mobile\"),\n        NATIONAL(\"national\"),\n        TOLLFREE(\"toll free\");\n\n        private final String value;\n\n        /**\n         * Initialize the phone number type.\n         *\n         * @param value name of phone number type\n         */\n        Type(final String value) {\n            this.value = value;\n        }\n\n        public String toString() {\n            return value;\n        }\n\n        /**\n         * Returns the type of phone number given a string value.\n         *\n         * @param value type of phone number\n         * @return the type of phone number if valid; null otherwise\n         */\n        @JsonCreator\n        public static Type forValue(final String value) {\n            if (value == null) {\n                return null;\n            }\n\n            String enum_value = value.toUpperCase().replaceAll(\" \", \"\");\n            return Type.valueOf(enum_value);\n        }\n    }\n\n    private final double basePrice;\n    private final double currentPrice;\n    private final Type type;\n\n    /**\n     * Initialize a PhoneNumberPrice.\n     *\n     * @param basePrice base price of the phone number\n     * @param currentPrice current price of the phone number\n     * @param type type of phone number\n     */\n    @JsonCreator\n    public PhoneNumberPrice(@JsonProperty(\"base_price\") final double basePrice,\n                            @JsonProperty(\"current_price\") final double currentPrice,\n                            @JsonProperty(\"number_type\") final Type type) {\n        this.basePrice = basePrice;\n        this.currentPrice = currentPrice;\n        this.type = type;\n    }\n\n    /**\n     * Returns the base price of the phone number.\n     * @return the base price of the phone number\n     */\n    public double getBasePrice() {\n        return basePrice;\n    }\n\n    /**\n     * Returns the current price of the phone number.\n     * @return the current price of the phone number\n     */\n    public double getCurrentPrice() {\n        return currentPrice;\n    }\n\n    /**\n     * Returns the type of phone number.\n     * @return the type of phone number\n     */\n    public Type getType() {\n        return type;\n    }\n\n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        PhoneNumberPrice other = (PhoneNumberPrice) o;\n        return Objects.equals(this.basePrice, other.basePrice) &&\n               Objects.equals(this.currentPrice, other.currentPrice) &&\n               Objects.equals(this.type, other.type);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.basePrice, this.currentPrice, this.type);\n    }\n\n    @Override\n    public String toString() {\n        return MoreObjects.toStringHelper(this)\n                .add(\"base_price\", basePrice)\n                .add(\"current_price\", currentPrice)\n                .add(\"type\", type)\n                .toString();\n    }\n}\n","Smelly Sample":"package com.twilio.type;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.google.common.base.MoreObjects;\n\nimport java.util.Objects;\n\n/**\n * Object representation of a price of a phone number.\n *\n * <p>\n *  For more information see:\n *  <a href=https://www.twilio.com/voice/pricing>Pricing Docs<\/a>\n * <\/p>\n */\npublic class PhoneNumberPrice {\n\n    /**\n     * Possible phone number type.\n     */\n    public enum Type {\n        LOCAL(\"local\"),\n        MOBILE(\"mobile\"),\n        NATIONAL(\"national\"),\n        TOLLFREE(\"toll free\");\n\n        private final String value;\n\n        /**\n         * Initialize the phone number type.\n         *\n         * @param value name of phone number type\n         */\n        Type(final String value) {\n            this.value = value;\n        }\n\n        public String toString() {\n            return value;\n        }\n\n        /**\n         * Returns the type of phone number given a string value.\n         *\n         * @param value type of phone number\n         * @return the type of phone number if valid; null otherwise\n         */\n        @JsonCreator\n        public static Type forValue(final String value) {\n            if (value == null) {\n                return null;\n            }\n\n            return Type.valueOf(value.toUpperCase());\n        }\n    }\n\n    private final double basePrice;\n    private final double currentPrice;\n    private final Type type;\n\n    /**\n     * Initialize a PhoneNumberPrice.\n     *\n     * @param basePrice base price of the phone number\n     * @param currentPrice current price of the phone number\n     * @param type type of phone number\n     */\n    @JsonCreator\n    public PhoneNumberPrice(@JsonProperty(\"base_price\") final double basePrice,\n                            @JsonProperty(\"current_price\") final double currentPrice,\n                            @JsonProperty(\"number_type\") final Type type) {\n        this.basePrice = basePrice;\n        this.currentPrice = currentPrice;\n        this.type = type;\n    }\n\n    /**\n     * Returns the base price of the phone number.\n     * @return the base price of the phone number\n     */\n    public double getBasePrice() {\n        return basePrice;\n    }\n\n    /**\n     * Returns the current price of the phone number.\n     * @return the current price of the phone number\n     */\n    public double getCurrentPrice() {\n        return currentPrice;\n    }\n\n    /**\n     * Returns the type of phone number.\n     * @return the type of phone number\n     */\n    public Type getType() {\n        return type;\n    }\n\n    @Override\n    public boolean equals(final Object o) {\n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        PhoneNumberPrice other = (PhoneNumberPrice) o;\n        return Objects.equals(this.basePrice, other.basePrice) &&\n               Objects.equals(this.currentPrice, other.currentPrice) &&\n               Objects.equals(this.type, other.type);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.basePrice, this.currentPrice, this.type);\n    }\n\n    @Override\n    public String toString() {\n        return MoreObjects.toStringHelper(this)\n                .add(\"base_price\", basePrice)\n                .add(\"current_price\", currentPrice)\n                .add(\"type\", type)\n                .toString();\n    }\n}\n","lineNo":55}
{"Refactored Sample":"package com.twilio.sdk.http;\n\nimport com.twilio.sdk.exceptions.ApiConnectionException;\nimport com.twilio.sdk.exceptions.ApiException;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.util.Scanner;\n\npublic class Response {\n\n    private final InputStream stream;\n    private final String content;\n    private final int statusCode;\n\n    /**\n     * Create a Response from content string and status code.\n     *\n     * @param content content string\n     * @param statusCode status code\n     */\n    public Response(final String content, final int statusCode) {\n        this.stream = null;\n        this.content = content;\n        this.statusCode = statusCode;\n    }\n\n    /**\n     * Create a Response from input stream and status code.\n     *\n     * @param stream input stream\n     * @param statusCode status code\n     */\n    public Response(final InputStream stream, final int statusCode) {\n        this.stream = stream;\n        this.content = null;\n        this.statusCode = statusCode;\n    }\n\n    /**\n     * Get the the content of the response.\n     *\n     * <p>\n     *     If there is a content string, that will be returned.\n     *     Otherwise, will get content from input stream\n     * <\/p>\n     *\n     * @return the content string\n     */\n    public String getContent() {\n        if (content != null) {\n            return content;\n        }\n        // XXX we probably don't need this and should convert strings into\n        // streams in the mock scaffolding\n        try {\n            if (stream.available() == 0) {\n                return \"\";\n            }\n        } catch (final IOException e) {\n            throw new ApiConnectionException(\"IOException during API request to Twilio\", e);\n        }\n\n        Scanner scanner = new Scanner(stream, \"UTF-8\").useDelimiter(\"\\\\A\");\n        String data = scanner.next();\n        scanner.close();\n\n        return data;\n    }\n\n    /**\n     * Get response data as stream.\n     *\n     * @return the response data as a stream\n     */\n    public InputStream getStream() {\n        if (stream != null) {\n            return stream;\n        }\n        try {\n            return new ByteArrayInputStream(content.getBytes(\"utf-8\"));\n        } catch (final UnsupportedEncodingException e) {\n            throw new ApiException(\"UTF-8 encoding not supported\", e);\n        }\n    }\n\n    public int getStatusCode() {\n        return statusCode;\n    }\n}\n","Smelly Sample":"package com.twilio.sdk.http;\n\nimport com.twilio.sdk.exceptions.ApiConnectionException;\nimport com.twilio.sdk.exceptions.ApiException;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.UnsupportedEncodingException;\nimport java.util.Scanner;\n\npublic class Response {\n\n    private final InputStream stream;\n    private final String content;\n    private final int statusCode;\n\n    public Response(final String content, final int statusCode) {\n        this.content = content;\n        stream = null;\n        this.statusCode = statusCode;\n    }\n\n    public Response(final InputStream stream, final int statusCode) {\n        this.stream = stream;\n        content = null;\n        this.statusCode = statusCode;\n    }\n\n    public String getContent() {\n        if (content != null) {\n            return content;\n        }\n        // XXX we probably don't need this and should convert strings into\n        // streams in the mock scaffolding\n        try {\n            if (stream.available() == 0) {\n                return \"\";\n            }\n        } catch (final IOException e) {\n            throw new ApiConnectionException(\"IOException during API request to Twilio\", e);\n        }\n        return (new Scanner(stream, \"UTF-8\").useDelimiter(\"\\\\A\")).next();\n\n    }\n\n    public InputStream getStream() {\n        if (stream != null) {\n            return stream;\n        }\n        try {\n            return new ByteArrayInputStream(content.getBytes(\"utf-8\"));\n        } catch (final UnsupportedEncodingException e) {\n            throw new ApiException(\"UTF-8 encoding not supported\", e);\n        }\n    }\n\n    public int getStatusCode() {\n        return statusCode;\n    }\n}\n","lineNo":66}
{"Refactored Sample":"package com.twilio.sdk.taskrouter;\n\nimport com.twilio.sdk.client.CapabilityToken;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.LinkedHashSet;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class TaskRouterCapability extends CapabilityToken {\n\n    private static final String TASKROUTER_BASE_URL = \"https://taskrouter.twilio.com\";\n    private static final String TASKROUTER_VERSION = \"v1\";\n    private static final String TASKROUTER_EVENT_URL = \"https://event-bridge.twilio.com/v1/wschannels\";\n\n    protected String accountSid;\n    protected String authToken;\n    protected Set<Policy> policies;\n    protected String version;\n    protected String friendlyName;\n    protected String workspaceSid;\n    protected String channelId;\n    protected String resourceUrl;\n    protected String baseUrl;\n\n    /**\n     * Create a new Capability object to authorize clients to interact with the\n     * TaskRouter service.\n     *\n     * @param accountSid\n     *            Account to authorize actions for\n     * @param authToken\n     *            Auth token for the account. Used to sign tokens and will not\n     *            be included in the generated tokens.\n     * @param workspaceSid\n     *            Workspace to authorize tokens for.\n     * @param channelId\n     *            Authorized Channel\n     */\n    public TaskRouterCapability(final String accountSid,\n                                final String authToken,\n                                final String workspaceSid,\n                                final String channelId) {\n\n        this.accountSid = accountSid;\n        this.authToken = authToken;\n        this.version = TASKROUTER_VERSION;\n        this.friendlyName = channelId;\n        this.workspaceSid = workspaceSid;\n        this.channelId = channelId;\n        this.policies = new LinkedHashSet<>();\n        this.baseUrl = TASKROUTER_BASE_URL + \"/\" + TASKROUTER_VERSION + \"/Workspaces/\" + workspaceSid;\n\n        validateJWT();\n\n        this.setupResource();\n\n        // add permissions to GET and POST to the event-bridge channel\n        addTaskRouterPolicies(channelId);\n        this.addPolicy(new Policy(resourceUrl, \"GET\", true));\n    }\n\n    protected void setupResource() {\n        if (channelId.startsWith(\"WS\")) {\n            resourceUrl = this.baseUrl;\n        } else if (channelId.startsWith(\"WK\")) {\n            resourceUrl = this.baseUrl + \"/Workers/\" + channelId;\n\n            final String activityUrl = this.baseUrl + \"/Activities\";\n            final String tasksUrl = this.baseUrl + \"/Tasks/**\";\n            final String workerReservationsUrl = this.resourceUrl + \"/Reservations/**\";\n\n            // add permissions to fetch the list of activities\n            this.allow(activityUrl, \"GET\", null, null);\n            this.allow(tasksUrl, \"GET\", null, null);\n            this.allow(workerReservationsUrl, \"GET\", null, null);\n        } else if (channelId.startsWith(\"WQ\")) {\n            resourceUrl = this.baseUrl + \"/TaskQueues/\" + channelId;\n        }\n    }\n\n    private void addTaskRouterPolicies(final String channelId) {\n        // Workers can GET and POST their own events\n        final String eventBridgeUrl = TASKROUTER_EVENT_URL + \"/\" + accountSid + \"/\" + channelId;\n        addPolicy(new Policy(eventBridgeUrl, \"GET\", true));\n        addPolicy(new Policy(eventBridgeUrl, \"POST\", true));\n    }\n\n    private void validateJWT() {\n        if (accountSid == null || !accountSid.startsWith(\"AC\")) {\n            throw new IllegalArgumentException(\"Invalid AccountSid provided: \" + accountSid);\n        }\n        if (workspaceSid == null || !workspaceSid.startsWith(\"WS\")) {\n            throw new IllegalArgumentException(\"Invalid WorkspaceSid provided: \" + workspaceSid);\n        }\n        if (channelId == null) {\n            throw new IllegalArgumentException(\"ChannelId not provided\");\n        }\n        if (!channelId.startsWith(\"WS\") && !channelId.startsWith(\"WK\") && !channelId.startsWith(\"WQ\")) {\n            throw new IllegalArgumentException(\"Invalid ChannelId provided: \" + channelId);\n        }\n    }\n\n    /**\n     * Allow fetching all subresources of the defined resource.\n     */\n    public void allowFetchSubresources() {\n        this.allow(this.resourceUrl + \"/**\", \"GET\", null, null);\n    }\n\n    /**\n     * Allow updating attributes of the defined resource.\n     */\n    public void allowUpdates() {\n        this.allow(this.resourceUrl, \"POST\", null, null);\n    }\n\n    /**\n     * Allow updating attributes of all subresources of the defined resource.\n     */\n    public void allowUpdatesSubresources() {\n        this.allow(this.resourceUrl + \"/**\", \"POST\", null, null);\n    }\n\n    /**\n     * Allow deletion of the defined resource.\n     */\n    public void allowDelete() {\n        this.allow(this.resourceUrl, \"DELETE\", null, null);\n    }\n\n    /**\n     * Allow deletion of any subresources of the defined resource.\n     */\n    public void allowDeleteSubresources() {\n        this.allow(this.resourceUrl + \"/**\", \"DELETE\", null, null);\n    }\n\n    /**\n     * Allow a worker to update its own activity status.\n     * \n     * @deprecated Please use {TaskRouterWorkerCapability.allowActivityUpdates}\n     *             instead\n     * @throws Exception\n     */\n    @Deprecated\n    public void allowWorkerActivityUpdates() {\n        if (channelId.startsWith(\"WK\")) {\n            final Policy update = new Policy(this.resourceUrl, \"POST\", true);\n            update.addPostFilterParam(\"ActivitySid\", FilterRequirement.REQUIRED);\n\n            this.addPolicy(update);\n        } else {\n            throw new UnsupportedOperationException(\"Deprecated function not applicable to non Worker\");\n        }\n    }\n\n    /**\n     * Allow a worker to read its own attributes.\n     * \n     * @deprecated Please use {TaskRouterWorkerCapability} instead; added\n     *             automatically in constructor\n     * @throws Exception\n     */\n    @Deprecated\n    public void allowWorkerFetchAttributes() {\n        if (channelId.startsWith(\"WK\")) {\n            this.addPolicy(new Policy(this.resourceUrl, \"GET\", true));\n        } else {\n            throw new UnsupportedOperationException(\"Deprecated function not applicable to non Worker\");\n        }\n    }\n\n    /**\n     * Allow a worker to update task reservation status.\n     * \n     * @deprecated Please use\n     *             {TaskRouterWorkerCapability.allowReservationUpdates} instead\n     * @throws Exception\n     */\n    @Deprecated\n    public void allowTaskReservationUpdates() {\n        if (channelId.startsWith(\"WK\")) {\n            final String tasksUrl = this.baseUrl + \"/Tasks/**\";\n            final Policy update = new Policy(tasksUrl, \"POST\", true);\n            this.addPolicy(update);\n        } else {\n            throw new UnsupportedOperationException(\"Deprecated function not applicable to non Worker\");\n        }\n\n    }\n\n    public TaskRouterCapability addPolicy(final Policy policy) {\n        this.policies.add(policy);\n        return this;\n    }\n\n    /**\n     * Add policy to list of access policies.\n     * \n     * @param url\n     *            url of the resource\n     * @param method\n     *            method to the resource\n     * @param queryFilter\n     *            query filter parameters\n     * @param postFilter\n     *            post filter parameters\n     * @param allow\n     *            whether or not to allow access on this policy\n     */\n\n    public void addPolicy(final String url,\n                          final String method,\n                          final Map<String, FilterRequirement> queryFilter,\n                          final Map<String, FilterRequirement> postFilter,\n                          final boolean allow) {\n        this.policies.add(new Policy(url, method, queryFilter, postFilter, allow));\n    }\n\n    /**\n     * Add Allow access policy.\n     * \n     * @param url\n     *            url of the resource\n     * @param method\n     *            method to the resource\n     * @param queryFilter\n     *            query filter parameters\n     * @param postFilter\n     *            post filter parameters\n     */\n\n    public void allow(final String url,\n                      final String method,\n                      final Map<String, FilterRequirement> queryFilter,\n                      final Map<String, FilterRequirement> postFilter) {\n        this.policies.add(new Policy(url, method, queryFilter, postFilter, true));\n    }\n\n    /**\n     * Add Deny access policy.\n     * \n     * @param url\n     *            url of the resource\n     * @param method\n     *            method to the resource\n     * @param queryFilter\n     *            query filter parameters\n     * @param postFilter\n     *            post filter parameters\n     */\n\n    public void deny(final String url,\n                     final String method,\n                     final Map<String, FilterRequirement> queryFilter,\n                     final Map<String, FilterRequirement> postFilter) {\n        this.policies.add(new Policy(url, method, queryFilter, postFilter, false));\n    }\n\n    /**\n     * Generate a capability token with the currently-configured policies on\n     * this object.\n     *\n     * @return JSON Web Token representing authorized capabilities\n     * @throws DomainException\n     */\n    public String generateToken() throws DomainException {\n        return generateToken(3600);\n    }\n\n    /**\n     * Generate a capability token with the currently-configured policies on\n     * this object.\n     *\n     * @param ttl\n     *            Expiration time in seconds\n     * @return JSON Web Token representing authorized capabilities\n     * @throws DomainException\n     */\n    public String generateToken(final long ttl) throws DomainException {\n\n        final Map<String, Object> payload = new HashMap<String, Object>();\n        payload.put(\"iss\", accountSid);\n        payload.put(\"exp\", (System.currentTimeMillis() / 1000L) + ttl);\n        payload.put(\"account_sid\", accountSid);\n        payload.put(\"friendly_name\", friendlyName);\n        payload.put(\"version\", version);\n        payload.put(\"policies\", new ArrayList<Policy>(policies));\n        payload.put(\"workspace_sid\", this.workspaceSid);\n        payload.put(\"channel\", this.channelId);\n\n        if (channelId.startsWith(\"WK\")) {\n            payload.put(\"worker_sid\", this.channelId);\n        } else if (channelId.startsWith(\"WQ\")) {\n            payload.put(\"taskqueue_sid\", this.channelId);\n        }\n\n        try {\n            return jwtEncode(payload, authToken);\n        } catch (final Exception e) {\n            throw new DomainException(e);\n        }\n\n    }\n\n}\n","Smelly Sample":"package com.twilio.sdk.taskrouter;\n\nimport com.twilio.sdk.client.CapabilityToken;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.LinkedHashSet;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class TaskRouterCapability extends CapabilityToken {\n\n    private final static String TASKROUTER_BASE_URL = \"https://taskrouter.twilio.com\";\n    private final static String TASKROUTER_VERSION = \"v1\";\n    private final static String TASKROUTER_EVENT_URL = \"https://event-bridge.twilio.com/v1/wschannels\";\n\n    protected String accountSid;\n    protected String authToken;\n    protected Set<Policy> policies;\n    protected String version;\n    protected String friendlyName;\n    protected String workspaceSid;\n    protected String channelId;\n    protected String resourceUrl;\n    protected String baseUrl;\n\n    /**\n     * Create a new Capability object to authorize clients to interact with the\n     * TaskRouter service.\n     *\n     * @param accountSid\n     *            Account to authorize actions for\n     * @param authToken\n     *            Auth token for the account. Used to sign tokens and will not\n     *            be included in the generated tokens.\n     * @param workspaceSid\n     *            Workspace to authorize tokens for.\n     * @param channelId\n     *            Authorized Channel\n     */\n    public TaskRouterCapability(final String accountSid, final String authToken, final String workspaceSid, final String channelId) {\n\n        this.accountSid = accountSid;\n        this.authToken = authToken;\n        this.version = TASKROUTER_VERSION;\n        this.friendlyName = channelId;\n        this.workspaceSid = workspaceSid;\n        this.channelId = channelId;\n        this.policies = new LinkedHashSet<Policy>();\n        this.baseUrl = TASKROUTER_BASE_URL + \"/\" + TASKROUTER_VERSION + \"/Workspaces/\" + workspaceSid;\n\n        validateJWT();\n\n        this.setupResource();\n\n        // add permissions to GET and POST to the event-bridge channel\n        addTaskRouterPolicies(channelId);\n        this.addPolicy(new Policy(resourceUrl, \"GET\", true));\n    }\n\n    protected void setupResource() {\n        if (channelId.startsWith(\"WS\")) {\n            resourceUrl = this.baseUrl;\n        } else if (channelId.startsWith(\"WK\")) {\n            resourceUrl = this.baseUrl + \"/Workers/\" + channelId;\n\n            final String activityUrl = this.baseUrl + \"/Activities\";\n            final String tasksUrl = this.baseUrl + \"/Tasks/**\";\n            final String workerReservationsUrl = this.resourceUrl + \"/Reservations/**\";\n\n            // add permissions to fetch the list of activities\n            this.allow(activityUrl, \"GET\", null, null);\n            this.allow(tasksUrl, \"GET\", null, null);\n            this.allow(workerReservationsUrl, \"GET\", null, null);\n        } else if (channelId.startsWith(\"WQ\")) {\n            resourceUrl = this.baseUrl + \"/TaskQueues/\" + channelId;\n        }\n    }\n\n    private void addTaskRouterPolicies(final String channelId) {\n        // Workers can GET and POST their own events\n        final String eventBridgeUrl = TASKROUTER_EVENT_URL + \"/\" + accountSid + \"/\" + channelId;\n        addPolicy(new Policy(eventBridgeUrl, \"GET\", true));\n        addPolicy(new Policy(eventBridgeUrl, \"POST\", true));\n    }\n\n    private void validateJWT() {\n        if (accountSid == null || !accountSid.startsWith(\"AC\")) {\n            throw new IllegalArgumentException(\"Invalid AccountSid provided: \" + accountSid);\n        }\n        if (workspaceSid == null || !workspaceSid.startsWith(\"WS\")) {\n            throw new IllegalArgumentException(\"Invalid WorkspaceSid provided: \" + workspaceSid);\n        }\n        if (channelId == null) {\n            throw new IllegalArgumentException(\"ChannelId not provided\");\n        }\n        if (!channelId.startsWith(\"WS\") && !channelId.startsWith(\"WK\") && !channelId.startsWith(\"WQ\")) {\n            throw new IllegalArgumentException(\"Invalid ChannelId provided: \" + channelId);\n        }\n    }\n\n    /**\n     * Allow fetching all subresources of the defined resource\n     */\n    public void allowFetchSubresources() {\n        this.allow(this.resourceUrl + \"/**\", \"GET\", null, null);\n    }\n\n    /**\n     * Allow updating attributes of the defined resource\n     */\n    public void allowUpdates() {\n        this.allow(this.resourceUrl, \"POST\", null, null);\n    }\n\n    /**\n     * Allow updating attributes of all subresources of the defined resource\n     */\n    public void allowUpdatesSubresources() {\n        this.allow(this.resourceUrl + \"/**\", \"POST\", null, null);\n    }\n\n    /**\n     * Allow deletion of the defined resource\n     */\n    public void allowDelete() {\n        this.allow(this.resourceUrl, \"DELETE\", null, null);\n    }\n\n    /**\n     * Allow deletion of any subresources of the defined resource\n     */\n    public void allowDeleteSubresources() {\n        this.allow(this.resourceUrl + \"/**\", \"DELETE\", null, null);\n    }\n\n    /**\n     * Allow a worker to update its own activity status\n     * \n     * @deprecated Please use {TaskRouterWorkerCapability.allowActivityUpdates}\n     *             instead\n     * @throws Exception\n     */\n    @Deprecated\n    public void allowWorkerActivityUpdates() {\n        if (channelId.startsWith(\"WK\")) {\n            final Policy update = new Policy(this.resourceUrl, \"POST\", true).addPostFilterParam(\"ActivitySid\", FilterRequirement.REQUIRED);\n            this.addPolicy(update);\n        } else {\n            throw new UnsupportedOperationException(\"Deprecated function not applicable to non Worker\");\n        }\n    }\n\n    /**\n     * Allow a worker to read its own attributes.\n     * \n     * @deprecated Please use {TaskRouterWorkerCapability} instead; added\n     *             automatically in constructor\n     * @throws Exception\n     */\n    @Deprecated\n    public void allowWorkerFetchAttributes() {\n        if (channelId.startsWith(\"WK\")) {\n            this.addPolicy(new Policy(this.resourceUrl, \"GET\", true));\n        } else {\n            throw new UnsupportedOperationException(\"Deprecated function not applicable to non Worker\");\n        }\n    }\n\n    /**\n     * Allow a worker to update task reservation status\n     * \n     * @deprecated Please use\n     *             {TaskRouterWorkerCapability.allowReservationUpdates} instead\n     * @throws Exception\n     */\n    @Deprecated\n    public void allowTaskReservationUpdates() {\n        if (channelId.startsWith(\"WK\")) {\n            final String tasksUrl = this.baseUrl + \"/Tasks/**\";\n            final Policy update = new Policy(tasksUrl, \"POST\", true);\n            this.addPolicy(update);\n        } else {\n            throw new UnsupportedOperationException(\"Deprecated function not applicable to non Worker\");\n        }\n\n    }\n\n    public TaskRouterCapability addPolicy(final Policy policy) {\n        this.policies.add(policy);\n        return this;\n    }\n\n    /**\n     * Add policy to list of access policies\n     * \n     * @param url\n     *            url of the resource\n     * @param method\n     *            method to the resource\n     * @param queryFilter\n     *            query filter parameters\n     * @param postFilter\n     *            post filter parameters\n     * @param allow\n     *            whether or not to allow access on this policy\n     */\n\n    public void addPolicy(final String url, final String method, final Map<String, FilterRequirement> queryFilter, final Map<String, FilterRequirement> postFilter, final boolean allow) {\n        this.policies.add(new Policy(url, method, queryFilter, postFilter, allow));\n    }\n\n    /**\n     * Add Allow access policy\n     * \n     * @param url\n     *            url of the resource\n     * @param method\n     *            method to the resource\n     * @param queryFilter\n     *            query filter parameters\n     * @param postFilter\n     *            post filter parameters\n     */\n\n    public void allow(final String url, final String method, final Map<String, FilterRequirement> queryFilter, final Map<String, FilterRequirement> postFilter) {\n        this.policies.add(new Policy(url, method, queryFilter, postFilter, true));\n    }\n\n    /**\n     * Add Deny access policy\n     * \n     * @param url\n     *            url of the resource\n     * @param method\n     *            method to the resource\n     * @param queryFilter\n     *            query filter parameters\n     * @param postFilter\n     *            post filter parameters\n     */\n\n    public void deny(final String url, final String method, final Map<String, FilterRequirement> queryFilter, final Map<String, FilterRequirement> postFilter) {\n        this.policies.add(new Policy(url, method, queryFilter, postFilter, false));\n    }\n\n    /**\n     * Generate a capability token with the currently-configured policies on\n     * this object.\n     *\n     * @return JSON Web Token representing authorized capabilities\n     * @throws DomainException\n     */\n    public String generateToken() throws DomainException {\n        return generateToken(3600);\n    }\n\n    /**\n     * Generate a capability token with the currently-configured policies on\n     * this object.\n     *\n     * @param ttl\n     *            Expiration time in seconds\n     * @return JSON Web Token representing authorized capabilities\n     * @throws DomainException\n     */\n    public String generateToken(final long ttl) throws DomainException {\n\n        final Map<String, Object> payload = new HashMap<String, Object>();\n        payload.put(\"iss\", accountSid);\n        payload.put(\"exp\", (System.currentTimeMillis() / 1000L) + ttl);\n        payload.put(\"account_sid\", accountSid);\n        payload.put(\"friendly_name\", friendlyName);\n        payload.put(\"version\", version);\n        payload.put(\"policies\", new ArrayList<Policy>(policies));\n        payload.put(\"workspace_sid\", this.workspaceSid);\n        payload.put(\"channel\", this.channelId);\n\n        if (channelId.startsWith(\"WK\")) {\n            payload.put(\"worker_sid\", this.channelId);\n        } else if (channelId.startsWith(\"WQ\")) {\n            payload.put(\"taskqueue_sid\", this.channelId);\n        }\n\n        try {\n            return jwtEncode(payload, authToken);\n        } catch (final Exception e) {\n            throw new DomainException(e);\n        }\n\n    }\n\n}\n","lineNo":150}
{"Refactored Sample":"package com.twilio.sdk;\n\nimport com.twilio.sdk.auth.AccessToken;\nimport com.twilio.sdk.auth.ConversationsGrant;\nimport com.twilio.sdk.auth.IpMessagingGrant;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport org.junit.Test;\n\nimport java.util.Date;\nimport java.util.Map;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\n\npublic class AccessTokenTest {\n\n\tpublic static final String SIGNING_KEY_SID = \"SK123\";\n\tpublic static final String ACCOUNT_SID = \"AC123\";\n\tpublic static final String SECRET = \"secret\";\n\n\tprotected void validateClaims(Claims claims) {\n\t\tassertEquals(SIGNING_KEY_SID, claims.getIssuer());\n\t\tassertEquals(ACCOUNT_SID, claims.getSubject());\n\n\t\tassertNotNull(claims.getExpiration());\n\t\tassertNotNull(claims.getId());\n\t\tassertNotNull(claims.get(\"grants\"));\n\n\t\tassertTrue(claims.getId().startsWith(claims.getIssuer() + \"-\"));\n\t\tassertTrue(claims.getExpiration().getTime() > new Date().getTime());\n\t}\n\n\t@Test\n\tpublic void testEmptyGrants() {\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.build();\n\n\t\tClaims claims =\n\t\t\tJwts.parser()\n\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\t}\n\n\t@Test\n\tpublic void testNbf() {\n\t\tDate now = new Date();\n\t\tint timestamp = (int) (Math.floor(now.getTime() / 1000.0f)) - 300;\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.nbf(timestamp)\n\t\t\t\t.build();\n\n\t\tClaims claims =\n\t\t\tJwts.parser()\n\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\n\t\t// Just check up to the second\n\t\tassertEquals(timestamp, (int) (claims.getNotBefore().getTime() / 1000));\n\t}\n\n\t@Test\n\tpublic void testSingleGrant() {\n\t\tIpMessagingGrant grant = new IpMessagingGrant();\n\t\tgrant.setPushCredentialSid(\"credentialSid\")\n\t\t\t\t.setEndpointId(\"endpointId\")\n\t\t\t\t.setDeploymentRoleSid(\"roleSid\")\n\t\t\t\t.setServiceSid(\"serviceSid\");\n\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.identity(\"ID@example.com\")\n\t\t\t\t.grant(grant)\n\t\t\t\t.build();\n\n\t\tClaims claims = Jwts.parser()\n\t\t\t\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\n\t\tMap<String, Object> decodedGrants = (Map<String, Object>) claims.get(\"grants\");\n\t\tassertEquals(2, decodedGrants.size());\n\n\t\tMap<String, Object> payload = (Map<String, Object>) decodedGrants.get(\"ip_messaging\");\n\t\tassertEquals(\"serviceSid\", payload.get(\"service_sid\"));\n\t\tassertEquals(\"roleSid\", payload.get(\"deployment_role_sid\"));\n\t\tassertEquals(\"endpointId\", payload.get(\"endpoint_id\"));\n\t\tassertEquals(\"credentialSid\", payload.get(\"push_credential_sid\"));\n\t}\n\n\t@Test\n\tpublic void testConversationGrant() {\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.grant(new ConversationsGrant())\n\t\t\t\t.build();\n\n\t\tClaims claims = Jwts.parser()\n\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\t\tMap<String, Object> decodedGrants = (Map<String, Object>) claims.get(\"grants\");\n\t\tassertEquals(1, decodedGrants.size());\n\n\t\tassertTrue(\"should be a rtc grant present\", decodedGrants.containsKey(\"rtc\"));\n\t}\n\n\t@Test\n\tpublic void testIpMessagingGrant() {\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.grant(new IpMessagingGrant())\n\t\t\t\t.build();\n\n\t\tClaims claims = Jwts.parser()\n\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\t\tMap<String, Object> decodedGrants = (Map<String, Object>) claims.get(\"grants\");\n\t\tassertEquals(1, decodedGrants.size());\n\n\t\tassertTrue(\"should be a ip_messaging grant present\", decodedGrants.containsKey(\"ip_messaging\"));\n\t}\n}\n","Smelly Sample":"package com.twilio.sdk;\n\nimport com.twilio.sdk.auth.AccessToken;\nimport com.twilio.sdk.auth.ConversationsGrant;\nimport com.twilio.sdk.auth.IpMessagingGrant;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport org.junit.Test;\n\nimport java.util.Date;\nimport java.util.Map;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNotNull;\nimport static org.junit.Assert.assertTrue;\n\npublic class AccessTokenTest {\n\n\tpublic static final String SIGNING_KEY_SID = \"SK123\";\n\tpublic static final String ACCOUNT_SID = \"AC123\";\n\tpublic static final String SECRET = \"secret\";\n\n\tprotected void validateClaims(Claims claims) {\n\t\tassertEquals(SIGNING_KEY_SID, claims.getIssuer());\n\t\tassertEquals(ACCOUNT_SID, claims.getSubject());\n\n\t\tassertNotNull(claims.getExpiration());\n\t\tassertNotNull(claims.getId());\n\t\tassertNotNull(claims.get(\"grants\"));\n\n\t\tassertTrue(claims.getId().startsWith(claims.getIssuer() + \"-\"));\n\t\tassertTrue(claims.getExpiration().getTime() > new Date().getTime());\n\t}\n\n\t@Test\n\tpublic void testEmptyGrants() {\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.build();\n\n\t\tClaims claims =\n\t\t\tJwts.parser()\n\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\t}\n\n\t@Test\n\tpublic void testNbf() {\n\t\tDate now = new Date();\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.nbf((int) (Math.floor(now.getTime() / 1000.0f)))\n\t\t\t\t.build();\n\n\t\tClaims claims =\n\t\t\tJwts.parser()\n\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\n\t\t// Just check up to the second\n\t\tassertEquals(\n\t\t\t(int)(Math.floor(now.getTime() / 1000.0f)),\n\t\t\t(int)(Math.floor(claims.getNotBefore().getTime() / 1000.0f))\n\t\t);\n\t}\n\n\t@Test\n\tpublic void testSingleGrant() {\n\t\tIpMessagingGrant grant = new IpMessagingGrant();\n\t\tgrant.setPushCredentialSid(\"credentialSid\")\n\t\t\t\t.setEndpointId(\"endpointId\")\n\t\t\t\t.setDeploymentRoleSid(\"roleSid\")\n\t\t\t\t.setServiceSid(\"serviceSid\");\n\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.identity(\"ID@example.com\")\n\t\t\t\t.grant(grant)\n\t\t\t\t.build();\n\n\t\tClaims claims = Jwts.parser()\n\t\t\t\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\n\t\tMap<String, Object> decodedGrants = (Map<String, Object>) claims.get(\"grants\");\n\t\tassertEquals(2, decodedGrants.size());\n\n\t\tMap<String, Object> payload = (Map<String, Object>) decodedGrants.get(\"ip_messaging\");\n\t\tassertEquals(\"serviceSid\", payload.get(\"service_sid\"));\n\t\tassertEquals(\"roleSid\", payload.get(\"deployment_role_sid\"));\n\t\tassertEquals(\"endpointId\", payload.get(\"endpoint_id\"));\n\t\tassertEquals(\"credentialSid\", payload.get(\"push_credential_sid\"));\n\t}\n\n\t@Test\n\tpublic void testConversationGrant() {\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.grant(new ConversationsGrant())\n\t\t\t\t.build();\n\n\t\tClaims claims = Jwts.parser()\n\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\t\tMap<String, Object> decodedGrants = (Map<String, Object>) claims.get(\"grants\");\n\t\tassertEquals(1, decodedGrants.size());\n\n\t\tassertTrue(\"should be a rtc grant present\", decodedGrants.containsKey(\"rtc\"));\n\t}\n\n\t@Test\n\tpublic void testIpMessagingGrant() {\n\t\tAccessToken accessToken =\n\t\t\tnew AccessToken.Builder(ACCOUNT_SID, SIGNING_KEY_SID, SECRET)\n\t\t\t\t.grant(new IpMessagingGrant())\n\t\t\t\t.build();\n\n\t\tClaims claims = Jwts.parser()\n\t\t\t\t.setSigningKey(SECRET.getBytes())\n\t\t\t\t.parseClaimsJws(accessToken.toJWT())\n\t\t\t\t.getBody();\n\n\t\tthis.validateClaims(claims);\n\t\tMap<String, Object> decodedGrants = (Map<String, Object>) claims.get(\"grants\");\n\t\tassertEquals(1, decodedGrants.size());\n\n\t\tassertTrue(\"should be a ip_messaging grant present\", decodedGrants.containsKey(\"ip_messaging\"));\n\t}\n}\n","lineNo":53}
{"Refactored Sample":"package com.twilio.sdk.resources;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.twilio.sdk.exceptions.ApiConnectionException;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Page<T> {\n    protected List<T> records;\n    protected String firstPageUri;\n    protected String nextPageUri;\n    protected String previousPageUri;\n    protected String uri;\n    protected int pageSize;\n\n    public List<T> getRecords() {\n        return records;\n    }\n\n    public String getFirstPageUri() {\n        return firstPageUri;\n    }\n\n    public String getNextPageUri() {\n        return nextPageUri;\n    }\n\n    public String getPreviousPageUri() {\n        return previousPageUri;\n    }\n\n    public int getPageSize() {\n        return pageSize;\n    }\n\n    public String getUri() {\n        return uri;\n    }\n\n    public void deserialize(final String recordKey, final String json, final Class<T> recordType,\n                            final ObjectMapper objectMapper) {\n        records = new ArrayList<>();\n\n        try {\n            JsonNode root = objectMapper.readTree(json);\n            JsonNode records = root.get(recordKey);\n            for (final JsonNode record : records) {\n                this.records.add(objectMapper.readValue(record.toString(), recordType));\n            }\n\n            JsonNode nextPageNode = root.get(\"next_page_uri\");\n            JsonNode previousPageNode = root.get(\"previous_page_uri\");\n\n            uri = root.get(\"uri\").asText();\n            firstPageUri = root.get(\"first_page_uri\").asText();\n            pageSize = root.get(\"page_size\").asInt();\n\n            nextPageUri = nextPageNode.isNull() ? null : nextPageNode.asText();\n            previousPageUri = previousPageNode.isNull() ? null : previousPageNode.asText();\n        } catch (final IOException e) {\n            throw new ApiConnectionException(\"Unable to deserialize response: \" + e.getMessage() + \"\\nJSON: \" + json, e);\n        }\n    }\n\n}\n","Smelly Sample":"package com.twilio.sdk.resources;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.twilio.sdk.exceptions.ApiConnectionException;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Page<T> {\n    protected List<T> records;\n    protected String firstPageUri;\n    protected String nextPageUri;\n    protected String previousPageUri;\n    protected String uri;\n    protected int pageSize;\n\n    public List<T> getRecords() {\n        return records;\n    }\n\n    public String getFirstPageUri() {\n        return firstPageUri;\n    }\n\n    public String getNextPageUri() {\n        return nextPageUri;\n    }\n\n    public String getPreviousPageUri() {\n        return previousPageUri;\n    }\n\n    public int getPageSize() {\n        return pageSize;\n    }\n\n    public String getUri() {\n        return uri;\n    }\n\n    public void deserialize(final String recordKey, final String json, final Class<T> recordType,\n                            final ObjectMapper objectMapper) {\n        records = new ArrayList<>();\n\n        try {\n            JsonNode root = objectMapper.readTree(json);\n            JsonNode records = root.get(recordKey);\n            for (final JsonNode record : records) {\n                this.records.add(objectMapper.readValue(record.toString(), recordType));\n            }\n            firstPageUri = root.get(\"first_page_uri\").asText();\n            nextPageUri = root.get(\"next_page_uri\").asText();\n            previousPageUri = root.get(\"previous_page_uri\").asText();\n            uri = root.get(\"uri\").asText();\n            pageSize = root.get(\"page_size\").asInt();\n        } catch (final IOException e) {\n            throw new ApiConnectionException(\"Unable to deserialize response: \" + e.getMessage(), e);\n        }\n    }\n\n}\n","lineNo":54}
{"Refactored Sample":"package com.twilio.sdk.resources;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.twilio.sdk.exceptions.ApiConnectionException;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Page<T> {\n    protected List<T> records;\n    protected String firstPageUri;\n    protected String nextPageUri;\n    protected String previousPageUri;\n    protected String uri;\n    protected int pageSize;\n\n    public List<T> getRecords() {\n        return records;\n    }\n\n    public String getFirstPageUri() {\n        return firstPageUri;\n    }\n\n    public String getNextPageUri() {\n        return nextPageUri;\n    }\n\n    public String getPreviousPageUri() {\n        return previousPageUri;\n    }\n\n    public int getPageSize() {\n        return pageSize;\n    }\n\n    public String getUri() {\n        return uri;\n    }\n\n    public void deserialize(final String recordKey, final String json, final Class<T> recordType,\n                            final ObjectMapper objectMapper) {\n        records = new ArrayList<>();\n\n        try {\n            JsonNode root = objectMapper.readTree(json);\n            JsonNode records = root.get(recordKey);\n            for (final JsonNode record : records) {\n                this.records.add(objectMapper.readValue(record.toString(), recordType));\n            }\n\n            JsonNode nextPageNode = root.get(\"next_page_uri\");\n            JsonNode previousPageNode = root.get(\"previous_page_uri\");\n\n            uri = root.get(\"uri\").asText();\n            firstPageUri = root.get(\"first_page_uri\").asText();\n            pageSize = root.get(\"page_size\").asInt();\n\n            nextPageUri = nextPageNode.isNull() ? null : nextPageNode.asText();\n            previousPageUri = previousPageNode.isNull() ? null : previousPageNode.asText();\n        } catch (final IOException e) {\n            throw new ApiConnectionException(\"Unable to deserialize response: \" + e.getMessage() + \"\\nJSON: \" + json, e);\n        }\n    }\n\n}\n","Smelly Sample":"package com.twilio.sdk.resources;\n\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.twilio.sdk.exceptions.ApiConnectionException;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Page<T> {\n    protected List<T> records;\n    protected String firstPageUri;\n    protected String nextPageUri;\n    protected String previousPageUri;\n    protected String uri;\n    protected int pageSize;\n\n    public List<T> getRecords() {\n        return records;\n    }\n\n    public String getFirstPageUri() {\n        return firstPageUri;\n    }\n\n    public String getNextPageUri() {\n        return nextPageUri;\n    }\n\n    public String getPreviousPageUri() {\n        return previousPageUri;\n    }\n\n    public int getPageSize() {\n        return pageSize;\n    }\n\n    public String getUri() {\n        return uri;\n    }\n\n    public void deserialize(final String recordKey, final String json, final Class<T> recordType,\n                            final ObjectMapper objectMapper) {\n        records = new ArrayList<>();\n\n        try {\n            JsonNode root = objectMapper.readTree(json);\n            JsonNode records = root.get(recordKey);\n            for (final JsonNode record : records) {\n                this.records.add(objectMapper.readValue(record.toString(), recordType));\n            }\n            firstPageUri = root.get(\"first_page_uri\").asText();\n            nextPageUri = root.get(\"next_page_uri\").asText();\n            previousPageUri = root.get(\"previous_page_uri\").asText();\n            uri = root.get(\"uri\").asText();\n            pageSize = root.get(\"page_size\").asInt();\n        } catch (final IOException e) {\n            throw new ApiConnectionException(\"Unable to deserialize response: \" + e.getMessage(), e);\n        }\n    }\n\n}\n","lineNo":55}
{"Refactored Sample":"package com.twilio.sdk.readers;\n\n\nimport com.twilio.sdk.clients.TwilioRestClient;\nimport com.twilio.sdk.exceptions.ApiException;\nimport com.twilio.sdk.http.HttpMethod;\nimport com.twilio.sdk.http.Request;\nimport com.twilio.sdk.http.Response;\nimport com.twilio.sdk.resources.*;\n\n\npublic class IncomingPhoneNumberReader extends Reader<IncomingPhoneNumber> {\n    private String phoneNumber;\n    private String friendlyName;\n    private PhoneNumberType type;\n\n    @Override\n    public ResourceSet<IncomingPhoneNumber> execute(final TwilioRestClient client) {\n        String url = \"/Accounts/{AccountSid}/IncomingPhoneNumbers\" + (type != null ? \"/\" + type.toString() : \"\") + \".json\";\n        Request request = new Request(HttpMethod.GET, url);\n        addQueryParams(request);\n\n        Page<IncomingPhoneNumber> page = pageForRequest(client, request);\n\n        return new ResourceSet<>(this, client, page);\n    }\n\n    @Override\n    public Page<IncomingPhoneNumber> nextPage(final String nextPageUri, final TwilioRestClient client) {\n        Request request = new Request(HttpMethod.GET, nextPageUri);\n        return pageForRequest(client, request);\n    }\n\n    protected Page<IncomingPhoneNumber> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response.getStatusCode() != TwilioRestClient.HTTP_STATUS_CODE_OK) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            throw new ApiException(restException.getMessage(), restException.getCode(), restException.getMoreInfo(),\n                                   restException.getStatus(), null);\n        }\n\n        Page<IncomingPhoneNumber> result = new Page<>();\n        result.deserialize(\"incoming_phone_numbers\", response.getContent(), IncomingPhoneNumber.class, client.getObjectMapper());\n\n        return result;\n    }\n\n    public IncomingPhoneNumberReader byPhoneNumber(final String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n        return this;\n    }\n\n    public IncomingPhoneNumberReader byFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    public IncomingPhoneNumberReader byType(final PhoneNumberType type) {\n        this.type = type;\n        return this;\n    }\n\n    private void addQueryParams(final Request request) {\n        if (phoneNumber != null) {\n            request.addQueryParam(\"PhoneNumber\", phoneNumber);\n        }\n        if (friendlyName != null) {\n            request.addQueryParam(\"FriendlyName\", friendlyName);\n        }\n    }\n}\n","Smelly Sample":"package com.twilio.sdk.readers;\n\n\nimport com.twilio.sdk.clients.TwilioRestClient;\nimport com.twilio.sdk.exceptions.ApiException;\nimport com.twilio.sdk.http.HttpMethod;\nimport com.twilio.sdk.http.Request;\nimport com.twilio.sdk.http.Response;\nimport com.twilio.sdk.resources.IncomingPhoneNumber;\nimport com.twilio.sdk.resources.Page;\nimport com.twilio.sdk.resources.ResourceSet;\nimport com.twilio.sdk.resources.RestException;\n\n\npublic class IncomingPhoneNumberReader extends Reader<IncomingPhoneNumber> {\n    private String phoneNumber;\n    private String friendlyName;\n\n    @Override\n    public ResourceSet<IncomingPhoneNumber> execute(final TwilioRestClient client) {\n        Request request = new Request(HttpMethod.GET, \"/Accounts/{AccountSid}/IncomingPhoneNumbers.json\");\n        addQueryParams(request);\n\n        Page<IncomingPhoneNumber> page = pageForRequest(client, request);\n\n        return new ResourceSet<>(this, client, page);\n    }\n\n    @Override\n    public Page<IncomingPhoneNumber> nextPage(final String nextPageUri, final TwilioRestClient client) {\n        Request request = new Request(HttpMethod.GET, nextPageUri);\n        return pageForRequest(client, request);\n    }\n\n    protected Page<IncomingPhoneNumber> pageForRequest(final TwilioRestClient client, final Request request) {\n        Response response = client.request(request);\n\n        if (response.getStatusCode() != TwilioRestClient.HTTP_STATUS_CODE_OK) {\n            RestException restException = RestException.fromJson(response.getStream(), client.getObjectMapper());\n            throw new ApiException(restException.getMessage(), restException.getCode(), restException.getMoreInfo(),\n                                   restException.getStatus(), null);\n        }\n\n        Page<IncomingPhoneNumber> result = new Page<>();\n        result.deserialize(\"incoming_phone_numbers\", response.getContent(), IncomingPhoneNumber.class, client.getObjectMapper());\n\n        return result;\n    }\n\n    public IncomingPhoneNumberReader byPhoneNumber(final String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n        return this;\n    }\n\n    public IncomingPhoneNumberReader byFriendlyName(final String friendlyName) {\n        this.friendlyName = friendlyName;\n        return this;\n    }\n\n    private void addQueryParams(final Request request) {\n        if (phoneNumber != null) {\n                request.addQueryParam(\"PhoneNumber\", phoneNumber);\n                }\n            if (friendlyName != null) {\n                request.addQueryParam(\"FriendlyName\", friendlyName);\n                }\n            }\n}\n","lineNo":19}
{"Refactored Sample":"package com.twilio.sdk.http;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class NetworkHttpClient extends HttpClient {\n\n    public Response makeRequest(Request request) {\n        try {\n            URL url = request.constructURL();\n            HttpMethod method = request.getMethod();\n            // TODO If we support proxying, plumb it through here.\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setAllowUserInteraction(false);\n            connection.addRequestProperty(\"Accept\", \"application/json\");\n            connection.addRequestProperty(\"Accept-Encoding\", \"utf-8\");\n            connection.setInstanceFollowRedirects(true);\n\n            connection.setRequestMethod(method.toString());\n\n            if (request.requiresAuthentication()) {\n                addAuth(request, connection);\n            }\n\n            if (method == HttpMethod.POST) {\n                connection.setDoOutput(true);\n                connection.addRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n            }\n\n            // TODO set up timeouts, caching, etc\n            connection.connect();\n\n            if (method == HttpMethod.POST) {\n                sendPostBody(request, connection);\n            }\n\n            int responseCode = connection.getResponseCode();\n            InputStream errorStream = connection.getErrorStream();\n\n            if (errorStream != null) {\n                return new Response(errorStream, responseCode);\n            }\n            InputStream stream = connection.getInputStream();\n\n            return new Response(stream, responseCode);\n\n        } catch(MalformedURLException e) {\n            // XXX womp womp\n            return null;\n        } catch(IOException e) {\n            return null;\n        }\n    }\n\n    private void addAuth(Request request, HttpURLConnection conn) {\n        String auth = this.authentication(request.getUsername(), request.getPassword());\n        conn.setRequestProperty(\"Authorization\", auth);\n    }\n\n    private void sendPostBody(Request request, HttpURLConnection conn) {\n        String postBody = request.encodeFormBody();\n        try {\n            OutputStreamWriter writer = new OutputStreamWriter(conn.getOutputStream());\n            writer.write(postBody);\n            writer.close();\n        } catch (IOException e) {\n            throw new RuntimeException(\"oops\"); // XXX needs improvement\n        }\n    }\n\n}\n","Smelly Sample":"package com.twilio.sdk.http;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class NetworkHttpClient extends HttpClient {\n\n    public Response makeRequest(Request request) {\n        try {\n            URL url = request.constructURL();\n            // TODO If we support proxying, plumb it through here.\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setAllowUserInteraction(false);\n            connection.addRequestProperty(\"Accept\", \"application/json\");\n            connection.addRequestProperty(\"Accept-Encoding\", \"utf-8\");\n            connection.setInstanceFollowRedirects(true);\n\n            connection.setRequestMethod(request.getMethod().toString());\n\n            if (request.requiresAuthentication()) {\n                addAuth(request, connection);\n            }\n\n            if (request.getMethod() == HttpMethod.POST) {\n                connection.setDoOutput(true);\n                connection.addRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n            }\n\n            // TODO set up timeouts, caching, etc\n            connection.connect();\n\n            if (request.getMethod() == HttpMethod.POST) {\n                sendPostBody(request, connection);\n            }\n\n            int responseCode = connection.getResponseCode();\n            InputStream errorStream = connection.getErrorStream();\n\n            if (errorStream != null) {\n                return new Response(errorStream, responseCode);\n            }\n            InputStream stream = connection.getInputStream();\n\n            return new Response(stream, responseCode);\n\n        } catch(MalformedURLException e) {\n            // XXX womp womp\n            return null;\n        } catch(IOException e) {\n            return null;\n        }\n    }\n\n    private void addAuth(Request request, HttpURLConnection conn) {\n        String auth = this.authentication(request.getUsername(), request.getPassword());\n        conn.setRequestProperty(\"Authorization\", auth);\n    }\n\n    private void sendPostBody(Request request, HttpURLConnection conn) {\n        String postBody = request.encodeFormBody();\n        try {\n            OutputStreamWriter writer = new OutputStreamWriter(conn.getOutputStream());\n            writer.write(postBody);\n            writer.close();\n        } catch (IOException e) {\n            throw new RuntimeException(\"oops\"); // XXX needs improvement\n        }\n    }\n\n}\n","lineNo":15}
